//tealium universal tag - utag.loader ut4.0.202302140104, Copyright 2023 Tealium.com Inc. All Rights Reserved.
if (typeof utag_err == 'undefined')
    var utag_err = [];
window._tealium_old_error = window._tealium_old_error || window.onerror || function() {}
;
window.onerror = function(m, u, l) {
    if (typeof u !== 'undefined' && u.indexOf('/utag.') > 0 && utag_err.length < 5)
        utag_err.push({
            e: m,
            s: u,
            l: l,
            t: 'js'
        });
    window._tealium_old_error(m, u, l)
}
;
var utag_condload = false;
window.__tealium_twc_switch = false;
try {
    try {
        utag_cfg_ovrd = window.utag_cfg_ovrd || {};
        var botList = '(prerender|200pleasebot|360spider|4seohuntbot|80legs|adsbot|ahrefsbot|alertsite|alexibot|applebot|atspider|autoemailspider|baiduspider|becomebot|bingbot|bingpreview|black hole|black\.hole|blexbot|blowfish|bullseye|catchbot|catchpoint|ccbot|cheesebot|citeseerxbot|contactbot|contentsmartz|crawler4j|datacha0s|datagnionbot|dbrowse|dotbot|duckduckbot|emailsiphon|emailspider|envolk|exabot|facebookexternalhit|facebot|fast enterprise crawler|fast-webcrawler|feedfetcher-google|genieo|gid_synthetic|gigablast|gigabot|gingercrawler|girafabot|gomezagent|googlebot|ia_archiver|ips-agent|keynote|khte|kxtn|linkdexbot|linkedinbot|mediapartners-google|metajobbot|microsearch|mj12bot|mnogosearch|msnbot|msrbot|naverbot|obot|pagepeeker|pingdom|proximic|psbot|purebot|redditbot|robot|ru_bot|scanbot|scoutjet|scrapy|seznambot|simplecrawler|simplepie|site24x7|sitelockspider|slackbot|slurp|sosospider|sougou|spbot|speedy spider|speng|spider|twiceler|twitterbot|unwindfetchor|veoozbot|voilabot|voyager|webdatacentrebot|webmetrics|whatsapp|yandex|yanga|yodaobot|yottaamonitor|youdao|zibber|zyborg)';
        utag_cfg_ovrd.user_agent_regex = new RegExp(botList,'i');
        if (utag_cfg_ovrd.user_agent_regex.test(navigator.userAgent)) {
            utag_cfg_ovrd.no_session_count = true;
            utag_cfg_ovrd.noload = true;
        }
    } catch (e) {
        console.log(e)
    }
} catch (e) {
    console.log(e);
}
if (!utag_condload) {
    try {
        try {
            utag_cfg_ovrd = window.utag_cfg_ovrd || {};
            utag_cfg_ovrd.noview = true;
            if (location.pathname.match(/^\/static/i)) {
                utag_cfg_ovrd.noview = false;
            }
            if (location.hostname !== "www.woolworths.com.au") {
                utag_cfg_ovrd.no_session_count = true;
            }
            document.cookie = 'utag_main=; path=/; domain=www.woolworths.com.au; expires=' + new Date(0).toUTCString();
        } catch (e) {
            console.log(e)
        }
    } catch (e) {
        console.log(e);
    }
}
if (!utag_condload) {
    try {
        try {
            (function() {
                    var tealiumTransform = (window.tealiumTransform = {});
                    tealiumTransform.DataLayerHelper = function() {
                        this.dataLayer = window.wowDataLayer;
                        this.getCurrentPage = function() {
                            var page = this.dataLayer.page;
                            if (page && page.length > 0) {
                                return page[page.length - 1];
                            }
                            return null;
                        }
                        ;
                        this.getPreviousPage = function() {
                            var page = this.dataLayer.page;
                            if (page && page.length > 1) {
                                return page[page.length - 2];
                            }
                            return null;
                        }
                        ;
                        this.getSite = function() {
                            var site = this.dataLayer.site;
                            return site ? site : {};
                        }
                        ;
                        this.getError = function() {
                            var error = this.dataLayer.error;
                            return error ? error : {};
                        }
                        ;
                        this.getMessage = function() {
                            var message = this.dataLayer.message;
                            return message ? message : {};
                        }
                        ;
                        this.isGuest = function() {
                            return this.dataLayer.shopperRequest.IsGuest;
                        }
                        ;
                        this.getBusinessPreferences = function() {
                            return this.dataLayer.businessPreferences;
                        }
                        ;
                        this.getDeliveryInfoRequest = function() {
                            return this.dataLayer.getDeliveryInfoRequest;
                        }
                        ;
                        this.isDelivery = function() {
                            return this.getDeliveryInfoRequest().DeliveryMethod === 'Courier';
                        }
                        ;
                        this.isExpress = function() {
                            return this.getDeliveryInfoRequest().IsExpress;
                        }
                        ;
                        this.getDeliveryMethod = function() {
                            if (this.isExpress())
                                return 'Express';
                            else
                                return this.getDeliveryInfoRequest().DeliveryMethod;
                        }
                        ;
                        this.getCart = function() {
                            return this.dataLayer.cart;
                        }
                        ;
                        this.getCatalogue = function() {
                            return this.dataLayer.catalogue;
                        }
                        ;
                        this.getContentcard = function() {
                            return this.dataLayer.contentcard;
                        }
                        ;
                        this.getCheckout = function() {
                            return this.dataLayer.checkout;
                        }
                        ;
                        this.getTotals = function() {
                            return this.dataLayer.totals;
                        }
                        ;
                        this.getShopperPreference = function() {
                            return this.dataLayer.shopperPreference;
                        }
                        ;
                        this.getShopperRequest = function() {
                            return this.dataLayer.shopperRequest;
                        }
                        ;
                        this.getShopperDetailsRequest = function() {
                            return this.dataLayer.shopperDetailsRequest;
                        }
                        ;
                        this.getLatestFulfilledOrder = function() {
                            return this.dataLayer.latestFulfilledOrder;
                        }
                        ;
                        this.getHash = function() {
                            return Math.random(0, Number.MAX_VALUE).toString(36);
                        }
                        ;
                        this.getCartProducts = function() {
                            return this.dataLayer.cart.cartItems;
                        }
                        ;
                        this.getRecommendedProducts = function() {
                            return this.dataLayer.recommendedProducts;
                        }
                        ;
                        this.getRecommendedItems = function() {
                            var combinedItems = [];
                            var items = [];
                            var recommendedProducts = this.getRecommendedProducts() || {};
                            var strategies = Object.values(recommendedProducts);
                            if (strategies && strategies.length > 0) {
                                for (var i = 0; i < strategies.length; i++) {
                                    if (!strategies[i].items) {
                                        for (var j = 0; j < strategies[i].length; j++) {
                                            combinedItems.push(strategies[i][j]);
                                        }
                                    } else {
                                        items = strategies[i].items;
                                        for (var k = 0; k < items.length; k++) {
                                            if (!items[k].model) {
                                                combinedItems.push(items[k]);
                                            } else {
                                                combinedItems.push(items[k].model);
                                            }
                                        }
                                    }
                                }
                            }
                            return combinedItems;
                        }
                        ;
                        this.getEdrSignup = function() {
                            return this.dataLayer.edrSignup;
                        }
                        ;
                        this.getCataloguePopupProductsDisplayed = function() {
                            return this.dataLayer.cataloguePopupProductsDisplayed;
                        }
                        ;
                        this.getSelectedTimeSlotId = function() {
                            return this.dataLayer.selectedTimeSlotId;
                        }
                        this.getRecipeDetailProducts = function() {
                            var recipeProducts = [];
                            var aemRecipeDetail = this.getAemRecipeDetail();
                            if (!aemRecipeDetail) {
                                var recipe = this.getRecipeDetail();
                                if (recipe && recipe.recipeIngredient) {
                                    recipe.recipeIngredient.forEach(function(i) {
                                        recipeProducts.push(i.Product)
                                    })
                                }
                            }
                            if (aemRecipeDetail) {
                                if (aemRecipeDetail && aemRecipeDetail.recipeIngredient) {
                                    aemRecipeDetail.recipeIngredient.forEach(function(i) {
                                        recipeProducts.push(i.Product)
                                    })
                                }
                            }
                            return recipeProducts;
                        }
                        ;
                        this.getlistProducts = function() {
                            var aemListItems = this.getAemRecipeDetail();
                            var listProducts = [];
                            if (aemListItems && aemListItems.items) {
                                for (var i = 0; i < aemListItems.items.length; i++) {
                                    if (aemListItems.items[i].id) {
                                        listProducts.push({
                                            Stockcode: aemListItems.items[i].Stockcode || (aemListItems.items[i].product && aemListItems.items[i].product.sku ? aemListItems.items[i].product.sku : '') || '',
                                            Name: aemListItems.items[i].product && aemListItems.items[i].product.name ? aemListItems.items[i].product.name : '',
                                            ListPrice: aemListItems.items[i].product && aemListItems.items[i].product.price.list ? aemListItems.items[i].product.price.list : '',
                                            Quantity: aemListItems.items[i].product && aemListItems.items[i].product.quantity.count ? aemListItems.items[i].product.quantity.count : '',
                                            Source: aemListItems.source || (aemListItems.items[i].Source) || ''
                                        });
                                    }
                                }
                            }
                            return listProducts;
                        }
                        this.getActiveProduct = function() {
                            return this.dataLayer.activeProduct;
                        }
                        ;
                        this.getLastActiveRecipeTile = function() {
                            return this.dataLayer.lastActiveRecipeTile;
                        }
                        this.getLastActiveProductTile = function() {
                            return this.dataLayer.lastActiveProductTile;
                        }
                        this.getLastInteractedSaveToListItem = function() {
                            return this.dataLayer.lastInteractedSaveToListItem;
                        }
                        this.getRecipeDetail = function() {
                            return this.dataLayer.recipeDetail;
                        }
                        this.getAemRecipeDetail = function() {
                            return this.dataLayer.aemRecipeDetail;
                        }
                        this.getProductDetail = function() {
                            return this.dataLayer.productDetail;
                        }
                        ;
                        this.getSearchResults = function() {
                            return this.dataLayer.searchResults;
                        }
                        ;
                        this.getBrowseResults = function() {
                            return this.dataLayer.browseResults;
                        }
                        this.getOrderConfirmation = function() {
                            return this.dataLayer.orderConfirmation;
                        }
                        ;
                        this.getHeaderSearch = function() {
                            return this.dataLayer.headerSearch;
                        }
                        ;
                        this.getTrackMyOrder = function() {
                            return this.dataLayer.trackMyOrder;
                        }
                        ;
                        this.getReorderResults = function() {
                            return this.dataLayer.quickReorder;
                        }
                        ;
                        this.getAlternateProductResults = function() {
                            return this.dataLayer.alternateProduct;
                        }
                        ;
                        this.getHealthySwapsResults = function() {
                            return this.dataLayer.healthySwaps;
                        }
                        ;
                        this.getListResults = function() {
                            return this.dataLayer.listDetail;
                        }
                        ;
                        this.getDeliveryWindows = function() {
                            return this.dataLayer.deliveryWindows;
                        }
                        ;
                        this.getCheckoutStagedOrder = function() {
                            return this.dataLayer.checkoutStagedOrder;
                        }
                        ;
                        this.getB2bOrderConfirmation = function() {
                            return this.dataLayer.b2bOrderConfirmation;
                        }
                        ;
                        this.getb2bShopperRequest = function() {
                            return this.dataLayer.b2bShopperRequest || {};
                        }
                        ;
                        this.getOffers = function() {
                            return this.dataLayer.tigerOffers || {};
                        }
                        ;
                        this.getVideo = function() {
                            return this.dataLayer.video.video || {};
                        }
                        ;
                        this.getUserSubscription = function() {
                            var view = wowDataLayer.view;
                            var subscription = {};
                            if (view && view.length > 0) {
                                var currentview = view[view.length - 1]
                                if (currentview.subscription)
                                    subscription = currentview.subscription;
                                else if (currentview.user && currentview.user.SubscriptionName)
                                    var subscription = currentview.user;
                            }
                            return subscription;
                        }
                        ;
                    }
                    ;
                    function checkBooleanEquals(v, r) {
                        return typeof v == "boolean" ? v === r : "";
                    }
                    function addValueByProperty(o, n, v) {
                        if (!o[n]) {
                            o[n] = []
                        }
                        o[n].push(typeof v != "undefined" && v != null ? String(v) : "");
                    }
                    function shortenElements(rolePermArr, type) {
                        strippedElementArr = [];
                        if (rolePermArr && rolePermArr.length !== 0) {
                            for (var i = 0; i < rolePermArr.length; i++) {
                                if (type == 'ROLE') {
                                    strippedElementArr[i] = rolePermArr[i].replace(/.{0,7}$/, '');
                                } else if (type == 'PERMISSION') {
                                    strippedElementArr[i] = rolePermArr[i].replace(/.{0,6}/, '');
                                }
                            }
                        }
                        return strippedElementArr;
                    }
                    function toNumberString(num) {
                        return num ? num.toString() : '0';
                    }
                    function formatAddress(street1, street2, suburb, postcode) {
                        const street = !street2 ? street1 : street1 + ', ' + street2;
                        return street + ', ' + suburb + ', ' + postcode;
                    }
                    function formatDeliveryMethod(deliveryMethod) {
                        switch (deliveryMethod) {
                            case 'Courier':
                                return 'Courier';
                            case 'DriveUp':
                                return 'DriveUp';
                            case 'XpressD':
                                return 'Express';
                            case 'Pickup':
                                return 'Pickup';
                            default:
                                return '';
                        }
                    }
                    tealiumTransform.Property = function(_parent, _name, _value) {
                        this.pName = _name;
                        this.name = _parent + '.' + _name;
                        this.value = _value;
                        if (this.value === null || this.value === undefined || this.value === 'null' || this.value === 'undefined') {
                            this.value = '';
                        }
                        if (this.value === true || this.value === false) {
                            this.value = this.value ? 'YES' : 'NO';
                        }
                        if (typeof this.value === 'number') {
                            this.value = String(this.value);
                        }
                        this.serialize = function() {
                            var obj = {};
                            obj[this.name] = this.value;
                            return obj;
                        }
                        ;
                    }
                    ;
                    tealiumTransform.TealiumMapper = function(_name, _properties, current) {
                        this.name = _name;
                        this.properties = current || [];
                        function _push(_name, _value) {
                            this.properties.push(new tealiumTransform.Property(this.name,_name,_value));
                        }
                        this.hydrate = function(props) {
                            var keys = Object.keys(props);
                            for (var i = 0; i < keys.length; i++) {
                                _push.call(this, keys[i], props[keys[i]]);
                            }
                        }
                        ;
                        this.filter = function(withNames) {
                            var output = Object.assign({});
                            for (var i = 0; i < this.properties.length; i++) {
                                if (withNames) {
                                    if (withNames.indexOf(this.properties[i].pName) > -1) {
                                        output = Object.assign(output, this.properties[i].serialize());
                                    }
                                } else {
                                    output = Object.assign(output, this.properties[i].serialize());
                                }
                            }
                            return output;
                        }
                        ;
                        this.hydrate(_properties);
                    }
                    ;
                    tealiumTransform.PageMapper = function(_dataLayerHelper) {
                        var dataLayer = _dataLayerHelper;
                        var page = dataLayer.getCurrentPage();
                        var previousPage = dataLayer.getPreviousPage();
                        var properties = {
                            Channel: page.Channel,
                            Hierarchy: page.Hierarchy,
                            Length: page.Length,
                            Name: page.Name,
                            Type: page.Type,
                            Variant: page.Variant,
                            ParentCategory: page.ParentCategory ? page.ParentCategory : '',
                            PreviousPageName: previousPage ? previousPage.Name : '',
                            CategoryID: page.CategoryID ? page.CategoryID : '',
                            CategoryName: page.CategoryName ? page.CategoryName : '',
                        };
                        if (page.Number) {
                            properties.Number = page.Number;
                        }
                        if (page.ResultsCategoryCount) {
                            properties.ResultsCategoryCount = page.ResultsCategoryCount.join().split(',');
                        }
                        if (page.ResultsCategoryName) {
                            properties.ResultsCategoryName = page.ResultsCategoryName;
                        }
                        if (page.SortBy) {
                            properties.SortBy = page.SortBy;
                        }
                        if (page.Site) {
                            properties.Site = page.Site;
                        }
                        if (page.SubSection1) {
                            properties.SubSection1 = page.SubSection1;
                        }
                        if (page.SubSection2) {
                            properties.SubSection2 = page.SubSection2;
                        }
                        if (page.navVersion) {
                            properties.navVersion = page.navVersion;
                        }
                        tealiumTransform.TealiumMapper.apply(this, ['page', properties]);
                    }
                    ;
                    tealiumTransform.SiteMapper = function(_dataLayerHelper) {
                        var dataLayer = _dataLayerHelper;
                        var site = dataLayer.getSite();
                        var properties = {
                            CurrencyCode: site.CurrencyCode,
                            LanguageCode: site.LanguageCode,
                            Name: site.Name,
                            Section: site.Section,
                            Type: site.Type,
                        };
                        tealiumTransform.TealiumMapper.apply(this, ['site', properties]);
                    }
                    ;
                    tealiumTransform.SelfServiceBusinessMapper = function(_dataLayerHelper) {
                        var dataLayer = _dataLayerHelper;
                        var b2bShopperRequest = dataLayer.getb2bShopperRequest() ? dataLayer.getb2bShopperRequest() : {};
                        var b2bShopperUser = b2bShopperRequest.User ? b2bShopperRequest.User : {};
                        var b2bShopperEmailExist = b2bShopperRequest.IsEmailExist ? b2bShopperRequest.IsEmailExist : '';
                        var properties = {
                            Category: b2bShopperRequest.BusinessCategory ? b2bShopperRequest.BusinessCategory.Primary : '',
                            SecondaryCategory: b2bShopperRequest.BusinessCategory ? b2bShopperRequest.BusinessCategory.Secondary : '',
                            Vertical: b2bShopperRequest.BusinessCategory ? b2bShopperRequest.BusinessCategory.Vertical : '',
                            OrganisationId: b2bShopperRequest.Organisation ? b2bShopperRequest.Organisation.Id : '',
                            OrganisationTier: b2bShopperRequest.Organisation ? b2bShopperRequest.Organisation.Tier : '',
                            OrganisationType: b2bShopperRequest.Organisation ? b2bShopperRequest.Organisation.Type : '',
                            UserType: b2bShopperRequest.User ? b2bShopperRequest.User.Type : '',
                        };
                        if (b2bShopperEmailExist && b2bShopperEmailExist !== '') {
                            properties.ShopperEmailExist = b2bShopperEmailExist;
                        }
                        var shortenedElementsArr = shortenElements(b2bShopperUser.Role, 'ROLE');
                        properties.UserRole = shortenedElementsArr ? shortenedElementsArr.join() : '';
                        shortenedElementsArr = shortenElements(b2bShopperUser.Permission, 'PERMISSION');
                        properties.UserPermission = shortenedElementsArr ? shortenedElementsArr.join() : '';
                        tealiumTransform.TealiumMapper.apply(this, ['business', properties]);
                    }
                    tealiumTransform.BusinessMapper = function(_dataLayerHelper) {
                        var dataLayer = _dataLayerHelper;
                        var userLoggedIn = !dataLayer.isGuest();
                        var shopperDetailsReq = userLoggedIn ? dataLayer.getShopperDetailsRequest() : {};
                        var b2bShopperRequest = (userLoggedIn && dataLayer.getb2bShopperRequest()) ? dataLayer.getb2bShopperRequest() : {};
                        var b2bShopperUser = b2bShopperRequest.User ? b2bShopperRequest.User : '';
                        var properties = {
                            Category: shopperDetailsReq.BusinessPrimaryCategory || '',
                            SecondaryCategory: shopperDetailsReq.BusinessSecondaryCategory || '',
                            Vertical: b2bShopperRequest.BusinessCategory && b2bShopperRequest.BusinessCategory.Vertical ? b2bShopperRequest.BusinessCategory.Vertical : '',
                            UserType: b2bShopperRequest.User && b2bShopperRequest.User.Type ? b2bShopperRequest.User.Type : '',
                            OrganisationId: b2bShopperRequest.Organisation && b2bShopperRequest.Organisation.Id ? b2bShopperRequest.Organisation.Id : '',
                            OrganisationTier: b2bShopperRequest.Organisation && b2bShopperRequest.Organisation.Tier ? b2bShopperRequest.Organisation.Tier : '',
                            OrganisationType: b2bShopperRequest.Organisation && b2bShopperRequest.Organisation.Type ? b2bShopperRequest.Organisation.Type : '',
                            AccountManagerId: shopperDetailsReq.AccountManagerId,
                            FranchiseLinkName: shopperDetailsReq.FranchiseLinkName
                        };
                        var shortenedElementsArr = shortenElements(b2bShopperUser.Role, 'ROLE');
                        properties.UserRole = shortenedElementsArr ? shortenedElementsArr.join() : '';
                        shortenedElementsArr = shortenElements(b2bShopperUser.Permission, 'PERMISSION');
                        properties.UserPermission = shortenedElementsArr ? shortenedElementsArr.join() : '';
                        tealiumTransform.TealiumMapper.apply(this, ['business', properties]);
                    }
                    ;
                    tealiumTransform.ErrorMapper = function(_dataLayerHelper) {
                        var dataLayer = _dataLayerHelper;
                        var error = dataLayer.getError();
                        var properties = {
                            Message: error.Message
                        };
                        tealiumTransform.TealiumMapper.apply(this, ['error', properties]);
                    }
                    ;
                    tealiumTransform.MessageMapper = function(_dataLayerHelper) {
                        var dataLayer = _dataLayerHelper;
                        var message = dataLayer.getMessage();
                        var properties = {
                            Type: message.Type,
                            Name: message.Name
                        };
                        tealiumTransform.TealiumMapper.apply(this, ['message', properties]);
                    }
                    ;
                    tealiumTransform.OrderMapper = function(_dataLayerHelper) {
                        var dataLayer = _dataLayerHelper;
                        var isGuest = dataLayer.isGuest();
                        var properties = {};
                        if (isGuest) {
                            if (dataLayer.isDelivery()) {
                                var address = dataLayer.getDeliveryInfoRequest().Address;
                                if (address) {
                                    properties.DeliveryState = address.State
                                } else {
                                    properties.DeliveryState = ''
                                }
                            } else {
                                properties.DeliveryState = ''
                            }
                        }
                        tealiumTransform.TealiumMapper.apply(this, ['order', properties]);
                    }
                    ;
                    tealiumTransform.CartMapper = function(_dataLayerHelper, activeProduct) {
                        var dataLayer = _dataLayerHelper;
                        var cart = dataLayer.getCart();
                        var totals = dataLayer.getTotals();
                        var properties = {
                            TotalItems: cart.count,
                            TotalValue: totals.Total,
                            TotalWoolworthsDiscountableValue: totals.WoolworthsSubTotal,
                            HasPfdItems: cart.hasPfdItems ? 'true' : 'false',
                        };
                        if (activeProduct) {
                            properties.ProductID = [toNumberString(activeProduct.Stockcode)];
                        } else {
                            properties.ProductID = [];
                            for (var i = 0; i < cart.cartItems.length; i++) {
                                properties.ProductID.push(toNumberString(cart.cartItems[i].Stockcode));
                            }
                        }
                        tealiumTransform.TealiumMapper.apply(this, ['cart', properties]);
                    }
                    ;
                    tealiumTransform.BusinessPreferenceMapper = function(_dataLayerHelper) {
                        var dataLayer = _dataLayerHelper;
                        var businessPreferences = dataLayer.getBusinessPreferences();
                        var properties = {
                            AdhocDeliveryAddress: businessPreferences ? businessPreferences.AdhocDeliveryAddressSelected : false
                        };
                        tealiumTransform.TealiumMapper.apply(this, ['business', properties]);
                    }
                    tealiumTransform.FulfilmentMethodMapper = function(_dataLayerHelper) {
                        var dataLayer = _dataLayerHelper;
                        var deliveryInfo = dataLayer.getDeliveryInfoRequest();
                        var shopperReq = dataLayer.getShopperRequest();
                        var properties = {
                            ShippingMethod: deliveryInfo.DeliveryMethod || '',
                            DeliveryDate: deliveryInfo.ReservedDate.AbsoluteDateText ? deliveryInfo.ReservedDate.Date.replace(/T.*/, '') : '',
                            DeliveryTimeWindow: deliveryInfo.ReservedTime.TimeWindow || ''
                        };
                        tealiumTransform.TealiumMapper.apply(this, ['fms', properties]);
                    }
                    ;
                    tealiumTransform.UserMapper = function(_dataLayerHelper) {
                        var dataLayer = _dataLayerHelper;
                        var userLoggedIn = !dataLayer.isGuest();
                        var shopperPref = dataLayer.getShopperPreference();
                        var shopperReq = dataLayer.getShopperRequest();
                        var edrSignup = dataLayer.getEdrSignup();
                        var deliveryInfo = dataLayer.getDeliveryInfoRequest();
                        var shopperDetailsReq = userLoggedIn ? dataLayer.getShopperDetailsRequest() : {};
                        var address = userLoggedIn ? dataLayer.getDeliveryInfoRequest().Address || {} : {};
                        var deliveryPlus = shopperDetailsReq.DeliveryPlus || {};
                        var lastFulfilledOrder = dataLayer.getLatestFulfilledOrder() || {};
                        var properties = {
                            FulfilmentStoreID: shopperReq.FulfilmentStoreId,
                            FulfilmentStoreState: address.State || '',
                            ProfileLoggedInStatus: userLoggedIn
                        };
                        if (edrSignup) {
                            properties.SupermarketCustomer = edrSignup.SupermarketCustomer || '';
                            properties.ActivationStatus = edrSignup.ActivationStatus || '';
                            properties.LoginLocation = edrSignup.LoginLocation || '';
                            properties.LoginType = edrSignup.LoginType || '';
                            properties.ProfileIsRewardsMember = edrSignup.ProfileIsRewardsMember || '';
                            properties.DOB = edrSignup.DOB || '';
                        }
                        if (userLoggedIn) {
                            properties.ProfileID = shopperReq.Id;
                            try {
                                properties.ProfileIDHash = utag.ut.sha256.SHA256(shopperReq.Id.toString()).toString()
                            } catch (ex) {}
                            properties.ProfileCRN = shopperReq.Crn;
                            properties.ProfileIsRewardsMember = !!shopperDetailsReq.RewardsCardNumber;
                            properties.ProfileRewardsID = shopperDetailsReq.RewardsCardNumber;
                            properties.ProfileRewardsType = shopperDetailsReq.RewardsType
                            properties.AccessibilityPreference = shopperPref.EnableAccessibleMenu;
                            properties.ProfileStatusCode = shopperDetailsReq.ShopperStatusId ? shopperDetailsReq.ShopperStatusId : '0';
                            properties.SegmentType = shopperDetailsReq.IsBusinessAccount ? 'Business' : 'Personal';
                            properties.DetailsPostcode = address.PostalCode;
                            properties.DetailsState = address.State;
                            properties.SubscriptionType = deliveryPlus.Status;
                            properties.SubscriptionEndDate = deliveryPlus.EndingDate ? deliveryPlus.EndingDate.split("T")[0] : '';
                            properties.SubscriptionIsFreeTrialEligible = deliveryPlus.IsFreeTrialEligible;
                            properties.ProfileOrderCount = shopperReq.OrderCount ? shopperReq.OrderCount : 'none';
                            properties.ProfileMarketOrderCount = shopperReq.MarketOrderCount ? shopperReq.MarketOrderCount : 'none';
                            properties.SegmentNewRepeatPurchase = shopperReq.OrderCount > 0 ? 'Repeat' : 'New';
                            properties.LastFulfilledOrderAddress = lastFulfilledOrder.Address;
                            properties.LastFulfilledOrderCollectionDate = lastFulfilledOrder.CollectionDate;
                            properties.LastFulfilledOrderCollectionType = lastFulfilledOrder.CollectionType;
                            properties.LastFulfilledOrderInvoiceId = lastFulfilledOrder.InvoiceId;
                            properties.LastFulfilledOrderStoreName = lastFulfilledOrder.StoreName;
                            properties.LastFulfilledOrderTotal = lastFulfilledOrder.Total;
                            properties.CurrentShippingMethod = deliveryInfo.DeliveryMethod || '',
                                properties.CurrentDeliveryDate = deliveryInfo.ReservedDate.AbsoluteDateText ? deliveryInfo.ReservedDate.Date.replace(/T.*/, '') : '',
                                properties.CurrentDeliveryTimeWindow = deliveryInfo.ReservedTime.TimeWindow || '';
                        }
                        tealiumTransform.TealiumMapper.apply(this, ['user', properties]);
                    }
                    ;
                    tealiumTransform.VisitorMapper = function(_dataLayerHelper) {
                        var dataLayer = _dataLayerHelper;
                        var shopperReq = dataLayer.getShopperRequest();
                        var properties = {};
                        tealiumTransform.TealiumMapper.apply(this, ['visitor', properties]);
                    }
                    ;
                    tealiumTransform.SearchMapper = function(_dataLayerHelper, searchResults) {
                        var dataLayer = _dataLayerHelper;
                        var headerSearch = dataLayer.getHeaderSearch();
                        var properties = {
                            Keyword: searchResults.keyword,
                            KeywordType: headerSearch && headerSearch.suggestionType ? headerSearch.suggestionType : '',
                            ResultsCount: searchResults.results.SearchResultsCount,
                            Type: searchResults.type,
                            RefinementsUsed: '',
                            SuggestionPosition: headerSearch && headerSearch.suggestionPosition ? headerSearch.suggestionPosition : '',
                            FacetTerm: searchResults ? searchResults.facetTerm : '',
                            Toggle: searchResults ? searchResults.toggle : ''
                        };
                        tealiumTransform.TealiumMapper.apply(this, ['search', properties]);
                    }
                    ;
                    tealiumTransform.BrowseMapper = function(_dataLayerHelper, browseResults) {
                        var dataLayer = _dataLayerHelper;
                        var properties = {
                            Toggle: browseResults ? browseResults.toggle : ''
                        };
                        tealiumTransform.TealiumMapper.apply(this, ['browse', properties]);
                    }
                    ;
                    tealiumTransform.SaveToListItemMapper = function(_dataLayerHelper, listItems) {
                        var dataLayer = _dataLayerHelper;
                        var properties = {};
                        for (var i = 0; i < listItems.length; i++) {
                            var currentItem = listItems[i];
                            addValueByProperty(properties, 'ID', toNumberString(currentItem.ListId));
                            addValueByProperty(properties, 'ListName', currentItem.Name);
                            addValueByProperty(properties, 'ProductCount', currentItem.ProductsCount);
                        }
                        tealiumTransform.TealiumMapper.apply(this, ['list', properties]);
                    }
                    ;
                    tealiumTransform.ProductMapper = function(_dataLayerHelper, products) {
                        var dataLayer = _dataLayerHelper;
                        var properties = {};
                        var lastActiveTile = dataLayer.getLastActiveProductTile();
                        var returnDays = function(pDate) {
                            let today = new Date();
                            let sDate = new Date(pDate);
                            return (Math.floor((((sDate.getTime() + 86400) - today.getTime()) / 1000) / 86400));
                        };
                        for (var i = 0; i < products.length; i++) {
                            var product = products[i];
                            var attributes = product && product.AdditionalAttributes ? product.AdditionalAttributes : "";
                            var isProduct = !!product.Stockcode;
                            addValueByProperty(properties, 'ID', product.Stockcode);
                            addValueByProperty(properties, 'Name', product.Name);
                            addValueByProperty(properties, 'Brand', product.Brand);
                            addValueByProperty(properties, 'ImageURL', product.LargeImageFile);
                            addValueByProperty(properties, 'URL', '/shop/productdetails/' + product.Stockcode + '/' + product.UrlFriendlyName);
                            addValueByProperty(properties, 'Variant', product.PackageSize);
                            addValueByProperty(properties, 'WRN', 'WRN' + product.Stockcode);
                            addValueByProperty(properties, 'Diagnostics', product.Diagnostics);
                            addValueByProperty(properties, 'AdID', product.AdID);
                            var price = (product.UnitSalePrice || product.Price || product.SalePrice || 0);
                            addValueByProperty(properties, 'Price', price.toFixed(2));
                            var quantity = (product.Quantity || 0);
                            addValueByProperty(properties, 'Quantity', quantity ? quantity.toString() : '');
                            var subtotal = (price && quantity) ? (price * quantity).toFixed(2) : '';
                            addValueByProperty(properties, 'SubTotal', subtotal);
                            var originalPrice = '0';
                            if (product.ListPrice && typeof product.ListPrice === 'number') {
                                originalPrice = product.ListPrice.toFixed(2);
                            } else if (product.WasPrice && typeof product.WasPrice === 'number') {
                                originalPrice = product.WasPrice.toFixed(2);
                            }
                            addValueByProperty(properties, 'OriginalPrice', originalPrice);
                            var productDiscount = '0.00';
                            if (product.Discount && typeof product.Discount === 'number') {
                                if (product.Discount > 0 && product.QuantityInTrolley && typeof product.QuantityInTrolley === 'number' && product.QuantityInTrolley > 0) {
                                    productDiscount = (product.Discount / product.QuantityInTrolley).toFixed(2).toString();
                                }
                                productDiscount = product.Discount.toFixed(2).toString();
                            } else if (product.WasPrice && product.Price && product.WasPrice > product.Price) {
                                productDiscount = (product.WasPrice - product.Price).toFixed(2).toString();
                            }
                            addValueByProperty(properties, 'Discount', productDiscount);
                            var sourceText = product.Source;
                            if (lastActiveTile) {
                                if (lastActiveTile.Stockcode === product.Stockcode) {
                                    sourceText = lastActiveTile.Source;
                                }
                            }
                            addValueByProperty(properties, 'Source', sourceText);
                            addValueByProperty(properties, 'OutOfStock', checkBooleanEquals(product.IsInStock, false));
                            addValueByProperty(properties, 'IsAvailable', checkBooleanEquals(product.IsAvailable, true));
                            addValueByProperty(properties, 'IsRanged', checkBooleanEquals(product.IsRanged, true));
                            addValueByProperty(properties, 'QuantityWarning', product.QuantityWarning);
                            addValueByProperty(properties, 'LimitWarning', product.LimitWarning);
                            addValueByProperty(properties, 'HasProductSubs', typeof product.NumberOfSubstitutes != "undefined" ? product.NumberOfSubstitutes > 0 : "");
                            addValueByProperty(properties, 'IsPersonalisedResult', checkBooleanEquals(product.IsPersonalisedByPurchaseHistory, true));
                            addValueByProperty(properties, 'IsFromFacetedSearch', checkBooleanEquals(product.IsFromFacetedSearch, true));
                            addValueByProperty(properties, 'BundleCategory', product.BundleCategory);
                            addValueByProperty(properties, 'BundleID', product.IsBundleProduct ? product.Stockcode : "");
                            addValueByProperty(properties, 'BundleName', product.IsBundleProduct ? product.Name : "");
                            addValueByProperty(properties, 'PIESCategory', attributes && attributes.piescategorynamesjson ? JSON.parse(attributes.piescategorynamesjson).join() : '');
                            addValueByProperty(properties, 'PIESDepartment', attributes && attributes.piesdepartmentnamesjson ? JSON.parse(attributes.piesdepartmentnamesjson).join() : '');
                            addValueByProperty(properties, 'PIESSubCategory', attributes && attributes.piessubcategorynamesjson ? JSON.parse(attributes.piessubcategorynamesjson).join() : '');
                            addValueByProperty(properties, 'SAPCategory', attributes && attributes.sapcategoryname ? attributes.sapcategoryname : '');
                            addValueByProperty(properties, 'SAPDepartment', attributes && attributes.sapdepartmentname ? attributes.sapdepartmentname : '');
                            addValueByProperty(properties, 'SAPSegment', attributes && attributes.sapsegmentname ? attributes.sapsegmentname : '');
                            addValueByProperty(properties, 'SAPSubCategory', attributes && attributes.sapsubcategoryname ? attributes.sapsubcategoryname : '');
                            addValueByProperty(properties, 'RatingAverage', product.Rating ? String(product.Rating.Average) : '');
                            addValueByProperty(properties, 'RatingCount', product.Rating ? String(product.Rating.RatingCount) : '');
                            addValueByProperty(properties, 'ReviewCount', product.Rating ? String(product.Rating.ReviewCount) : '');
                            var templates = ['productOrigin', 'allergen', 'environmental', 'marketing', 'new', 'rtl'];
                            var metadata = {};
                            var tags = product.Tags;
                            if (tags != null) {
                                for (const val of tags) {
                                    if (val.TemplateId != null && templates.includes(val.TemplateId.toLowerCase())) {
                                        metadata = val?.Metadata;
                                    }
                                }
                            }
                            addValueByProperty(properties, 'TagTheme', tags && tags.length > 0 ? tags[0].TemplateId : '');
                            addValueByProperty(properties, 'TagPosition', tags && tags.length > 0 ? tags[0].Content.Position : '');
                            addValueByProperty(properties, 'TagText', tags && tags.length > 0 ? tags[0].Content.Attributes.Text : '');
                            addValueByProperty(properties, 'HeaderPromotion', product.HeaderTag && product.HeaderTag.Promotion ? product.HeaderTag.Promotion : '');
                            if (metadata.hasOwnProperty("OfferId")) {
                                addValueByProperty(properties, 'OfferRTLAccountID', metadata["OfferId"]);
                                addValueByProperty(properties, 'OfferRTLCampaignID', metadata["CampaignId"]);
                                addValueByProperty(properties, 'OfferRTLCampaignCode', metadata["CampaignCode"]);
                                addValueByProperty(properties, 'OfferStatus', metadata["Status"]);
                            }
                            if (product.TileID) {
                                addValueByProperty(properties, 'TilePosition', toNumberString(product.TileID));
                                addValueByProperty(properties, 'TileType', product.tileType);
                                addValueByProperty(properties, 'TileAvailability', String(product.IsAvailable));
                                addValueByProperty(properties, 'TileRestockDate', !!product.NextAvailabilityDate);
                                addValueByProperty(properties, 'TileAvailiabilityStatus', product.IsAvailable === false ? 'Unavailable' : 'Available');
                            }
                            addValueByProperty(properties, 'Untraceable', product.Untraceable ? product.Untraceable : '');
                            if (attributes && attributes['Market.Seller_BusinessName']) {
                                addValueByProperty(properties, 'Vendor', attributes['Market.Seller_BusinessName']);
                            }
                            if (!(attributes && attributes['Market.Seller_BusinessName'])) {
                                addValueByProperty(properties, 'Vendor', 'Woolworths');
                            }
                            var tppInfo = product.ThirdPartyProductInfo;
                            if (tppInfo && tppInfo.ThirdPartyVendorDeliveryInfo) {
                                estFirstDelvryDate = tppInfo.ThirdPartyVendorDeliveryInfo && tppInfo.ThirdPartyVendorDeliveryInfo.MinimumDeliveryTime ? returnDays(tppInfo.ThirdPartyVendorDeliveryInfo.MinimumDeliveryTime) : 'none';
                                estLastDelvryDate = tppInfo.ThirdPartyVendorDeliveryInfo && tppInfo.ThirdPartyVendorDeliveryInfo.MaximumDeliveryTime ? returnDays(tppInfo.ThirdPartyVendorDeliveryInfo.MaximumDeliveryTime) : 'none';
                                addValueByProperty(properties, 'MinDaysToStartDelivery', estFirstDelvryDate);
                                addValueByProperty(properties, 'MaxDaysToStartDelivery', estLastDelvryDate);
                                addValueByProperty(properties, 'EstimatedDeliveryDates', (estFirstDelvryDate + ":" + estLastDelvryDate));
                            } else {
                                addValueByProperty(properties, 'MinDaysToStartDelivery', 'none');
                                addValueByProperty(properties, 'MaxDaysToStartDelivery', 'none');
                                addValueByProperty(properties, 'EstimatedDeliveryDates', ('none:none'));
                            }
                        }
                        tealiumTransform.TealiumMapper.apply(this, ['product', properties]);
                    }
                    ;
                    tealiumTransform.RecipeDetailMapper = function(_dataLayerHelper, recipe) {
                        var properties = {};
                        var currentRecipe = recipe;
                        properties.ID = toNumberString(currentRecipe.RecipeId);
                        properties.IngredientsCount = toNumberString(currentRecipe.Ingredients ? currentRecipe.Ingredients.length : 0);
                        properties.Category = currentRecipe.CategoryName || "";
                        properties.Name = currentRecipe.Title || "";
                        properties.Serves = toNumberString(currentRecipe.Servings) || "";
                        properties.TimeCook = toNumberString(currentRecipe.CookingDuration) || "0";
                        properties.TimePrep = toNumberString(currentRecipe.PreparationDuration) || "0";
                        properties.URL = '/shop/recipedetail/' + +toNumberString(currentRecipe.RecipeId) + '/' + currentRecipe.UrlFriendlyTitle;
                        tealiumTransform.TealiumMapper.apply(this, ["recipe", properties]);
                    }
                    ;
                    tealiumTransform.RecipeMapper = function(_dataLayerHelper, recipes) {
                        var properties = {};
                        var listResults = _dataLayerHelper.getListResults();
                        properties.TotalRecordCount = listResults && listResults.TotalRecordCount ? listResults.TotalRecordCount : "";
                        properties.Category = listResults && listResults.title ? listResults.title : "";
                        for (var i = 0; i < recipes.length; i++) {
                            var currentRecipe = recipes[i];
                            addValueByProperty(properties, "TileID", toNumberString(currentRecipe.ID) || "");
                            addValueByProperty(properties, "TileIngredientsCount", toNumberString(currentRecipe.Ingredients ? currentRecipe.Ingredients.length : 0));
                            addValueByProperty(properties, "TileCategory", currentRecipe.CategoryName || "");
                            addValueByProperty(properties, "TileName", currentRecipe.Title) || "";
                            addValueByProperty(properties, "TileType", currentRecipe.tileType) || "";
                            addValueByProperty(properties, "TileServes", toNumberString(currentRecipe.Servings) || "");
                            addValueByProperty(properties, "TileTimeCook", toNumberString(currentRecipe.CookingDuration) || "0");
                            addValueByProperty(properties, "TileTimePrep", toNumberString(currentRecipe.PreparationDuration) || "0");
                            addValueByProperty(properties, 'TileURL', '/shop/recipedetail/' + +toNumberString(currentRecipe.ID) + '/' + currentRecipe.UrlFriendlyTitle);
                        }
                        tealiumTransform.TealiumMapper.apply(this, ["content", properties]);
                    }
                    ;
                    tealiumTransform.aemRecipeMapper = function(_dataLayerHelper, recipe) {
                        var dataLayer = _dataLayerHelper;
                        var LastActiveRecipeTile = dataLayer.getLastActiveRecipeTile();
                        var properties = {};
                        properties.NameID = LastActiveRecipeTile.recipeNameId || "";
                        properties.Name = LastActiveRecipeTile.title || "";
                        if (LastActiveRecipeTile.sourceName && LastActiveRecipeTile.author) {
                            properties.Author = LastActiveRecipeTile.sourceName + ' | ' + LastActiveRecipeTile.author || "";
                        } else {
                            properties.Author = LastActiveRecipeTile.sourceName || "";
                        }
                        properties.URL = LastActiveRecipeTile.url || "";
                        properties.Tags = LastActiveRecipeTile.tags || "";
                        [];
                        properties.Yield = LastActiveRecipeTile.serveDefault || "";
                        properties.Category = LastActiveRecipeTile.parentShelfTitle || "";
                        properties.CardPosition = LastActiveRecipeTile.cardPosition || "";
                        tealiumTransform.TealiumMapper.apply(this, ["recipe", properties]);
                    }
                    ;
                    tealiumTransform.aemRecipeDetailMapper = function(_dataLayerHelper, recipe) {
                        var properties = {};
                        var currentRecipe = recipe;
                        properties.NameID = currentRecipe.recipeNameId || "";
                        properties.ID = toNumberString(currentRecipe.recipeId) || "";
                        properties.Name = currentRecipe.name || "";
                        properties.Title = currentRecipe.title || "";
                        properties.Author = currentRecipe.author ? currentRecipe.author.name : "";
                        properties.type = currentRecipe.author ? currentRecipe.author['@type'] : "";
                        properties.Label = currentRecipe.label || "";
                        properties.Source = currentRecipe.sourceId || "";
                        properties.PublishedDate = currentRecipe.datePublished || "";
                        properties.URL = currentRecipe.url || "";
                        properties.Template = currentRecipe.template || "";
                        properties.Tags = [];
                        properties.PrepTime = toNumberString(currentRecipe.prepTime) || "";
                        properties.CookTime = toNumberString(currentRecipe.cookTime) || "";
                        properties.ServeDefault = currentRecipe.serveDefault || "";
                        properties.ServeUpper = currentRecipe.serveUpper || "";
                        properties.ServeLower = currentRecipe.serveLower || "";
                        properties.Category = currentRecipe.recipeCategory || "";
                        properties.Cusine = currentRecipe.recipeCuisine || "";
                        properties.Keywords = currentRecipe.keywords || "";
                        properties.Yield = currentRecipe.recipeYield || "";
                        properties.IngredientsCount = toNumberString(currentRecipe.recipeIngredient ? currentRecipe.recipeIngredient.length : 0);
                        properties.InstructionsCount = toNumberString(currentRecipe.recipeInstructions ? currentRecipe.recipeInstructions.length : 0);
                        tealiumTransform.TealiumMapper.apply(this, ["recipe", properties]);
                    }
                    ;
                    tealiumTransform.ContentMapper = function(_dataLayerHelper, contentTiles) {
                        var properties = {};
                        for (var i = 0; i < contentTiles.length; i++) {
                            var currentcontentTile = contentTiles[i];
                            addValueByProperty(properties, "TileID", toNumberString(currentcontentTile.TileID) || "");
                            addValueByProperty(properties, "TileName", currentcontentTile.Name);
                            addValueByProperty(properties, "TileType", currentcontentTile.tileType);
                        }
                        tealiumTransform.TealiumMapper.apply(this, ["content", properties]);
                    }
                    ;
                    tealiumTransform.CheckoutMapper = function(_dataLayerHelper) {
                        var dataLayer = _dataLayerHelper;
                        var properties = {};
                        var site = dataLayer.getSite();
                        if (site.Section === 'checkout') {
                            var checkout = dataLayer.getCheckout();
                            var deliveryInfo = dataLayer.getDeliveryInfoRequest();
                            if (checkout) {
                                properties = {
                                    Version: '2',
                                    Step: checkout.StepName ? {
                                        'checkout-fulfilmentPanel': 2,
                                        'checkout-timePanel': 3,
                                        'checkout-reviewPanel': 4,
                                        'checkout-payment': 5,
                                    }[checkout.StepName] : '',
                                    StepName: checkout.StepName,
                                    StepTime: checkout.StepTime,
                                    ShippingMethod: dataLayer.getDeliveryMethod(),
                                    HasDoneCheckoutOnboarding: checkout.HasDoneCheckoutOnboarding,
                                    DeliveryDate: deliveryInfo.ReservedDate.AbsoluteDateText ? deliveryInfo.ReservedDate.Date.replace(/T.*/, '') : '',
                                    DeliveryTimeWindow: deliveryInfo.ReservedTime.TimeWindow || '',
                                };
                            }
                        }
                        tealiumTransform.TealiumMapper.apply(this, ['checkout', properties]);
                    }
                    ;
                    tealiumTransform.OrderConfirmationMapper = function(_dataLayerHelper) {
                        var dataLayer = _dataLayerHelper;
                        var confirmation = _dataLayerHelper.getOrderConfirmation();
                        var shopper = _dataLayerHelper.getShopperDetailsRequest();
                        var order = confirmation.Order;
                        var rewardsPoints = confirmation.RewardsPoints;
                        var products = order.Products;
                        var checkout = {
                            End: true
                        };
                        var paymentTypes = Object.keys(order.PaymentBreakdown).filter(function(key) {
                            return order.PaymentBreakdown[key] > 0;
                        });
                        var paymentAmounts = paymentTypes.map(function(paymentType) {
                            return order.PaymentBreakdown[paymentType].toFixed(2);
                        });
                        var productSapCategories = order.Products.map(function(product) {
                            if (!product.SapCategories.SapCategoryName) {
                                return {
                                    SapCategoryName: '',
                                    SapDepartmentName: '',
                                    SapSegmentName: '',
                                    SapSubCategoryName: '',
                                };
                            }
                            return product.SapCategories;
                        });
                        var isOrderPickup = order.DeliveryMethod == 'Pickup';
                        var isMarketPlace = order.MarketSubtotal.toFixed(2) > 0;
                        var formattedAddress = formatAddress(order.DeliveryStreet1, order.DeliveryStreet2, order.DeliverySuburb, order.DeliveryPostalCode);
                        var formattedWindowTime = order.DeliveryStartTime + '-' + order.DeliveryEndTime;
                        var orderPayload = {
                            CurrencyCode: 'AUD',
                            CrowdSourcedDeliveryFlag: order.IsCrowdSourced,
                            SecondaryAreaDeliveryFlag: order.IsSecondaryArea,
                            NewExistingCustomer: shopper.IsExistingShopper ? 'Existing' : 'New',
                            DeliveryDate: order.DeliveryDate.substring(0, 10),
                            DeliverySuburb: order.DeliverySuburb,
                            DeliveryTimeWindow: isOrderPickup ? '' : order.DeliveryStartTime + '-' + order.DeliveryEndTime,
                            DiscountAmount: order.OrderDiscountWithoutTeamDiscount.toFixed(2),
                            DiscountVoucher: order.Evouchers.length !== 0 ? order.Evouchers : [''],
                            ID: toNumberString(order.OrderId),
                            MarketSubTotal: order.MarketSubtotal.toFixed(2),
                            MarketShippingFee: order.MarketShippingFee ? order.MarketShippingFee.toFixed(2) : '',
                            HasAlternateAddress: order.HasMarketOrderAlternateAddress,
                            HasGiftMessage: order.HasMarketOrderGiftingDetails,
                            IsMarketPlaceOrder: isMarketPlace,
                            PackagingType: order.PackagingPreference,
                            PackagingFee: order.PackagingFee.toFixed(2),
                            PaymentType: paymentTypes.join('|'),
                            PickupAddress: isOrderPickup ? formattedAddress : '',
                            PickupTimeWindow: isOrderPickup ? formattedWindowTime : '',
                            PromoCode: order.CouponIDs.length !== 0 ? order.CouponIDs : [''],
                            ShippingMethod: formatDeliveryMethod(order.DeliveryMethod),
                            ShippingTotal: order.DeliveryFee.toFixed(2),
                            TaxRate: toNumberString(order.TaxRate),
                            SubTotal: order.Subtotal.toFixed(2),
                            TaxAmount: ((order.Subtotal * order.TaxRate) / 100).toFixed(2),
                            Total: order.TotalIncludingGst.toFixed(2),
                            TotalRewardsPointsEarned: toNumberString(rewardsPoints),
                            TotalSplitPaymentType: paymentTypes.length > 1 ? paymentTypes : [''],
                            Type: 'web',
                            TotalSplitPaymentAmount: paymentAmounts.length > 1 ? paymentAmounts : [''],
                            IsAmendedOrder: confirmation.IsAmendedOrder,
                            Reference: confirmation.OrderReference,
                        };
                        var productAdditional = {
                            BundleCategory: [''],
                            Quantity: order.Products.map(function(p) {
                                return toNumberString(p.Quantity);
                            }),
                            PIESCategory: order.Products.map(function(p) {
                                if (p.AdditionalAttributes && p.AdditionalAttributes.piescategorynamesjson)
                                    return JSON.parse(p.AdditionalAttributes.piescategorynamesjson).join();
                            }),
                            PIESDepartment: order.Products.map(function(p) {
                                if (p.AdditionalAttributes && p.AdditionalAttributes.piesdepartmentnamesjson)
                                    return JSON.parse(p.AdditionalAttributes.piesdepartmentnamesjson).join();
                            }),
                            PIESSubCategory: order.Products.map(function(p) {
                                if (p.AdditionalAttributes && p.AdditionalAttributes.piessubcategorynamesjson)
                                    return JSON.parse(p.AdditionalAttributes.piessubcategorynamesjson).join();
                            }),
                            SAPCategory: productSapCategories.map(function(p) {
                                return p.SapCategoryName;
                            }),
                            SAPDepartment: productSapCategories.map(function(p) {
                                return p.SapDepartmentName;
                            }),
                            SAPSegment: productSapCategories.map(function(p) {
                                return p.SapSegmentName;
                            }),
                            SAPSubCategory: productSapCategories.map(function(p) {
                                return p.SapSubCategoryName;
                            }),
                            Variant: order.Products.map(function(p) {
                                return p.VolumeSize ? p.VolumeSize : '';
                            }),
                        };
                        tealiumTransform.ProductMapper.apply(this, [_dataLayerHelper, products]);
                        tealiumTransform.TealiumMapper.apply(this, ['checkout', checkout, this.properties, ]);
                        tealiumTransform.TealiumMapper.apply(this, ['product', productAdditional, this.properties, ]);
                        tealiumTransform.TealiumMapper.apply(this, ['order', orderPayload, this.properties, ]);
                    }
                    ;
                    tealiumTransform.TrackMyOrderMapper = function(_dataLayerHelper) {
                        var tracking = _dataLayerHelper.getTrackMyOrder();
                        var payload = tracking ? {
                            Status: tracking.CurrentStatus,
                            DeliveryMethod: tracking.DeliveryMethod,
                            ID: toNumberString(tracking.OrderId),
                        } : {};
                        tealiumTransform.TealiumMapper.apply(this, ['trackMyOrder', payload, this.properties, ]);
                    }
                    ;
                    tealiumTransform.CheckoutStagedOrderMapper = function(_dataLayerHelper) {
                        var tracking = _dataLayerHelper.getCheckoutStagedOrder();
                        var payload = tracking ? {
                            PackagingFee: tracking.DeliveryFee,
                            PackagingType: tracking.PackagingCode,
                            RewardsBalance: tracking.RewardsCredits ? tracking.RewardsCredits.Balance : "",
                            RewardsBeingEarned: tracking.RewardsCredits ? tracking.RewardsCredits.BeingEarned : "",
                            RewardsBeingRedeemed: tracking.RewardsCredits ? tracking.RewardsCredits.BeingRedeemed : ""
                        } : {};
                        tealiumTransform.TealiumMapper.apply(this, ['checkout', payload, this.properties, ]);
                    }
                    ;
                    tealiumTransform.CustomerPurchaseOrderMapper = function(_dataLayerHelper) {
                        var b2bOrderConfirmation = _dataLayerHelper.getB2bOrderConfirmation();
                        var payload = b2bOrderConfirmation ? {
                            IsCustomerPurchaseOrder: b2bOrderConfirmation.Order.IsCustomerPurchaseOrder
                        } : {};
                        tealiumTransform.TealiumMapper.apply(this, ['order', payload, this.properties, ]);
                    }
                    ;
                    tealiumTransform.ReorderMapper = function(_dataLayerHelper, quickReorder) {
                        var dataLayer = _dataLayerHelper;
                        var properties = {
                            ProductCount: quickReorder.productCount,
                            TotalQuantity: quickReorder.totalQuantity,
                            NsbToggle: quickReorder.nsbToggle,
                        };
                        tealiumTransform.TealiumMapper.apply(this, ['reorder', properties]);
                    }
                    ;
                    tealiumTransform.AlternateProductMapper = function(_dataLayerHelper, alternateProduct) {
                        var dataLayer = _dataLayerHelper;
                        var properties = {
                            Source: alternateProduct.source,
                            CountOfSubs: alternateProduct.countOfSubs,
                        };
                        tealiumTransform.TealiumMapper.apply(this, ['alternateProduct', properties]);
                    }
                    ;
                    tealiumTransform.HealthySwapsMapper = function(_dataLayerHelper, healthySwaps) {
                        var dataLayer = _dataLayerHelper;
                        var properties = {
                            Source: healthySwaps.source,
                            CountOfSubs: healthySwaps.countOfSubs,
                        };
                        tealiumTransform.TealiumMapper.apply(this, ['healthySwaps', properties]);
                    }
                    ;
                    tealiumTransform.ListMapper = function(_dataLayerHelper, list) {
                        var dataLayer = _dataLayerHelper;
                        var listItems = list.listItems.Response;
                        var properties = {
                            Count: listItems.length,
                            FreeTextCount: 0,
                            GroupType: ['Ungrouped'],
                            ViewType: [list.viewType],
                            Type: [list.type],
                            ProductCount: [list.items.length]
                        };
                        for (var i = 0; i < listItems.length; i++) {
                            var currentItem = listItems[i];
                            addValueByProperty(properties, 'ID', currentItem.ListId);
                            addValueByProperty(properties, 'ListName', currentItem.Name);
                            addValueByProperty(properties, 'TotalItems', currentItem.ProductsCount);
                        }
                        tealiumTransform.TealiumMapper.apply(this, ['list', properties]);
                    }
                    ;
                    tealiumTransform.DeliveryWindowCountMapper = function(_dataLayerHelper, source) {
                        var deliveryWindows = _dataLayerHelper.getDeliveryWindows();
                        var totalAvailableWindows = 0;
                        var totalAvailableWindowPrices = 0;
                        var isDelivery = _dataLayerHelper.isDelivery();
                        var expressWindows = 0;
                        var exclusiveWindows = 0;
                        var crowdWindows = 0;
                        var secondaryWindows = 0;
                        var closingSoonWindows = 0;
                        var priorityWindows = 0;
                        var payload = {};
                        var badgeCategory = '';
                        for (var i = 0; i < deliveryWindows.length; i++) {
                            payload["AvailableDeliveryWindows_" + i] = 0;
                            for (var j = 0; j < deliveryWindows[i].Times.length; j++) {
                                if (deliveryWindows[i].Times[j].Available === true) {
                                    payload["AvailableDeliveryWindows_" + i]++;
                                    totalAvailableWindows++;
                                    totalAvailableWindowPrices += deliveryWindows[i].Times[j].SalePrice;
                                    if (deliveryWindows[i].Times[j].IsExpress && isDelivery) {
                                        expressWindows += 1;
                                    }
                                    if (deliveryWindows[i].Times[j].IsExclusive && !deliveryWindows[i].Times[j].IsExpress && isDelivery) {
                                        exclusiveWindows += 1;
                                    }
                                    if (deliveryWindows[i].Times[j].IsCrowdSourced) {
                                        crowdWindows += 1;
                                    }
                                    if (deliveryWindows[i].Times[j].IsSecondary) {
                                        secondaryWindows += 1;
                                    }
                                    if (!deliveryWindows[i].Times[j].IsKeptOpenForRewardsPlus && deliveryWindows[i].Times[j].Status) {
                                        if (deliveryWindows[i].Times[j].Status === 'Closing Soon') {
                                            closingSoonWindows += 1;
                                        }
                                    }
                                    if (deliveryWindows[i].Times[j].IsKeptOpenForRewardsPlus) {
                                        priorityWindows += 1;
                                    }
                                }
                            }
                        }
                        payload["AvailableDeliveryWindows"] = totalAvailableWindows;
                        payload["AverageAvailableDeliveryWindowPrices"] = ((totalAvailableWindowPrices / totalAvailableWindows) || 0).toFixed(2);
                        tealiumTransform.TealiumMapper.apply(this, [source, payload, this.properties, ]);
                    }
                    tealiumTransform.SelectedDeliveryWindowMapper = function(_dataLayerHelper) {
                        var deliveryWindows = _dataLayerHelper.getDeliveryWindows();
                        var isDelivery = _dataLayerHelper.isDelivery();
                        var site = _dataLayerHelper.getSite();
                        var selectedTimeSlotId = _dataLayerHelper.getSelectedTimeSlotId();
                        var expressWindows = 0;
                        var exclusiveWindows = 0;
                        var crowdWindows = 0;
                        var secondaryWindows = 0;
                        var closingSoonWindows = 0;
                        var priorityWindows = 0;
                        var badgeCategory = 'Window Badges - Side Cart';
                        if (site.Section === 'checkout') {
                            badgeCategory = 'Window Badges - Checkout';
                        }
                        for (var i = 0; i < deliveryWindows.length; i++) {
                            for (var j = 0; j < deliveryWindows[i].Times.length; j++) {
                                if (deliveryWindows[i].Times[j].Id === selectedTimeSlotId) {
                                    if (deliveryWindows[i].Times[j].Available == true) {
                                        if (deliveryWindows[i].Times[j].IsExpress && isDelivery) {
                                            expressWindows += 1;
                                        }
                                        if (deliveryWindows[i].Times[j].IsExclusive && !deliveryWindows[i].Times[j].IsExpress && isDelivery) {
                                            exclusiveWindows += 1;
                                        }
                                        if (deliveryWindows[i].Times[j].IsCrowdSourced) {
                                            crowdWindows += 1;
                                        }
                                        if (deliveryWindows[i].Times[j].IsSecondary) {
                                            secondaryWindows += 1;
                                        }
                                        if (!deliveryWindows[i].Times[j].IsKeptOpenForRewardsPlus && deliveryWindows[i].Times[j].Status) {
                                            if (deliveryWindows[i].Times[j].Status === 'Closing Soon') {
                                                closingSoonWindows += 1;
                                            }
                                        }
                                        if (deliveryWindows[i].Times[j].IsKeptOpenForRewardsPlus) {
                                            priorityWindows += 1;
                                        }
                                    }
                                    if (expressWindows) {
                                        tealiumTransform.EventMapper.apply(this, [_dataLayerHelper, {
                                            category: badgeCategory,
                                            label: 'Delivery Now',
                                            name: '',
                                            value: expressWindows,
                                            action: 'click',
                                        }]);
                                    }
                                    if (exclusiveWindows) {
                                        tealiumTransform.EventMapper.apply(this, [_dataLayerHelper, {
                                            category: badgeCategory,
                                            label: 'Exclusive',
                                            name: '',
                                            value: exclusiveWindows,
                                            action: 'click',
                                        }]);
                                    }
                                    if (crowdWindows) {
                                        tealiumTransform.EventMapper.apply(this, [_dataLayerHelper, {
                                            category: badgeCategory,
                                            label: 'Partner Delivery',
                                            name: '',
                                            value: crowdWindows,
                                            action: 'click',
                                        }]);
                                    }
                                    if (secondaryWindows) {
                                        tealiumTransform.EventMapper.apply(this, [_dataLayerHelper, {
                                            category: badgeCategory,
                                            label: 'Secondary',
                                            name: '',
                                            value: secondaryWindows,
                                            action: 'click',
                                        }]);
                                    }
                                    if (closingSoonWindows) {
                                        tealiumTransform.EventMapper.apply(this, [_dataLayerHelper, {
                                            category: badgeCategory,
                                            label: 'Closing Soon',
                                            name: '',
                                            value: closingSoonWindows,
                                            action: 'click',
                                        }]);
                                    }
                                    if (priorityWindows) {
                                        tealiumTransform.EventMapper.apply(this, [_dataLayerHelper, {
                                            category: badgeCategory,
                                            label: 'Priority',
                                            name: '',
                                            value: priorityWindows,
                                            action: 'click',
                                        }]);
                                    }
                                    return;
                                }
                            }
                        }
                    }
                    tealiumTransform.DeliveryWindowExpressCheckoutFlag = function(_dataLayerHelper) {
                        var deliveryWindows = _dataLayerHelper.getDeliveryWindows();
                        var tracking = false;
                        if (deliveryWindows[0].IsExpressDeliveryExhausted == true) {
                            tracking = true;
                        }
                        var payload = {
                            IsExpressDeliveryWindowExhausted: tracking,
                        };
                        tealiumTransform.TealiumMapper.apply(this, ['checkout', payload, this.properties, ]);
                    }
                    ;
                    function cleanPII(dataLayer, properties) {
                        try {
                            var userLoggedIn = !dataLayer.isGuest();
                            var shopperDetailsReq = userLoggedIn ? dataLayer.getShopperDetailsRequest() : {};
                            var piBlacklist = ["FirstName", "LastName", "Email", "Phone", "DateOfBirthInput"];
                            for (const property in properties) {
                                if (Object.hasOwn(properties, property)) {
                                    for (const piKey of piBlacklist) {
                                        var piValue = shopperDetailsReq[`${piKey}`];
                                        if (piValue && piValue.length > 1) {
                                            let piReplace = new RegExp("(^|\\s)(" + piValue + ")([^A-Za-z]*)","g");
                                            if (piKey === "Phone") {
                                                piReplace = new RegExp("(^|\\s)(" + piValue.split("").join("\\s?") + ")([^A-Za-z]*)","g")
                                            }
                                            try {
                                                properties[`${property}`] = ("" + properties[`${property}`]).replace(piReplace, `$1{${piKey}}$3`)
                                            } catch (ex) {
                                                utag.DB(ex)
                                            }
                                        }
                                    }
                                }
                            }
                        } catch (ex) {
                            utag.DB(ex)
                        }
                        return properties;
                    }
                    tealiumTransform.EventMapper = function(_dataLayerHelper, eventModel) {
                        var dataLayer = _dataLayerHelper;
                        var properties = {
                            Name: eventModel.name,
                            Category: eventModel.category,
                            Action: eventModel.action,
                            Label: eventModel.label,
                            Value: eventModel.value,
                            Description: eventModel.description
                        };
                        properties = cleanPII(dataLayer, properties);
                        tealiumTransform.TealiumMapper.apply(this, ['event', properties]);
                    }
                    ;
                    tealiumTransform.NavMapper = function(_dataLayerHelper, eventModel) {
                        var dataLayer = _dataLayerHelper;
                        var properties = {
                            AisleDepartment: eventModel.value
                        };
                        tealiumTransform.TealiumMapper.apply(this, ['nav', properties]);
                    }
                    ;
                    tealiumTransform.OneLoginMapper = function(_dataLayerHelper) {
                        var dataLayer = _dataLayerHelper;
                        var edrSignup = dataLayer.getEdrSignup();
                        var properties = {}
                        if (edrSignup) {
                            properties = {
                                Referrer: edrSignup.OneLoginReferrer,
                                EntryPoint: edrSignup.OneLoginEntryPoint
                            };
                        }
                        tealiumTransform.TealiumMapper.apply(this, ['onelogin', properties]);
                    }
                    ;
                    tealiumTransform.CatalogueMapper = function(_dataLayerHelper) {
                        var dataLayer = _dataLayerHelper;
                        var catalogue = dataLayer.getCatalogue();
                        var properties = {};
                        if (catalogue && catalogue['Type']) {
                            for (var property in catalogue) {
                                if (catalogue.hasOwnProperty(property)) {
                                    properties[property] = Array.isArray(catalogue[property]) ? catalogue[property] : [catalogue[property]];
                                }
                            }
                        }
                        tealiumTransform.TealiumMapper.apply(this, ['catalogue', properties]);
                    }
                    ;
                    tealiumTransform.ContentcardMapper = function(_dataLayerHelper) {
                        var dataLayer = _dataLayerHelper;
                        var contentcard = dataLayer.getContentcard();
                        var properties = {};
                        if (contentcard && contentcard['Type']) {
                            for (var property in contentcard) {
                                if (contentcard.hasOwnProperty(property)) {
                                    properties[property] = Array.isArray(contentcard[property]) ? contentcard[property] : [contentcard[property]];
                                }
                            }
                        }
                        tealiumTransform.TealiumMapper.apply(this, ['contentcard', properties]);
                    }
                    ;
                    tealiumTransform.OfferMapper = function(_dataLayerHelper, eventModel) {
                        var dataLayer = _dataLayerHelper;
                        var properties = {
                            "Stream": [],
                            "Status": [],
                            "Name": [],
                            "Channel": [],
                            "RTLAccountID": [],
                            "RTLCampaignID": [],
                            "RTLCampaignCode": []
                        };
                        var offerIds = eventModel.value || [];
                        var offersList = dataLayer.getOffers();
                        for (var i = 0; i < offerIds.length; i++) {
                            var offerId = offerIds[i];
                            var offer = offersList[offerId];
                            properties["Stream"].push(offer.campaignCode ? offer.campaignCode.split("-")[0] : "");
                            properties["Status"].push(offer.status || "");
                            properties["Name"].push(offer.name || "");
                            properties["Channel"].push("web");
                            properties["RTLAccountID"].push(offerId);
                            properties["RTLCampaignID"].push(offer.campaignId || "");
                            properties["RTLCampaignCode"].push(offer.campaignCode || "");
                        }
                        tealiumTransform.TealiumMapper.apply(this, ['offer', properties]);
                    }
                    ;
                    tealiumTransform.ProductOfferMapper = function(_dataLayerHelper, activeProduct) {
                        var dataLayer = _dataLayerHelper;
                        var userLoggedIn = !dataLayer.isGuest();
                        var tags = activeProduct.Tags;
                        var templates = ['productOrigin', 'allergen', 'environmental', 'marketing', 'new', 'rtl'];
                        var metadata = {};
                        if (tags != null) {
                            for (const val of tags) {
                                if (val.TemplateId != null && templates.includes(val.TemplateId.toLowerCase())) {
                                    metadata = val?.Metadata;
                                }
                            }
                        }
                        var properties = {};
                        if (userLoggedIn && metadata.hasOwnProperty("OfferId")) {
                            properties.Name = metadata["DetailedDescription"];
                            properties.Channel = 'web';
                            properties.Type = metadata["OfferType"];
                            properties.PartnerID = metadata["BannerCodes"];
                            properties.Status = metadata["Status"];
                            properties.RTLAccountID = metadata["OfferId"];
                            properties.RTLCampaignID = metadata["CampaignId"];
                            properties.RTLCampaignCode = metadata["CampaignCode"];
                        }
                        tealiumTransform.TealiumMapper.apply(this, ['offer', properties]);
                    }
                    ;
                    tealiumTransform.VideoMapper = function(_dataLayerHelper) {
                        var dataLayer = _dataLayerHelper;
                        var video = dataLayer.getVideo();
                        var properties = {
                            Id: video.ID,
                            Name: video.Name,
                            Length: video.length
                        };
                        tealiumTransform.TealiumMapper.apply(this, ['video', properties]);
                    }
                    ;
                    tealiumTransform.SubscriptionMapper = function(_dataLayerHelper) {
                        var dataLayer = _dataLayerHelper;
                        var subscription = dataLayer.getUserSubscription();
                        var properties = {
                            Type: subscription.Type || subscription.SubscriptionType || '',
                            Name: subscription.Name || subscription.SubscriptionName || '',
                            EntryPage: subscription.EntryPage || '',
                            Id: subscription.Id || ''
                        };
                        tealiumTransform.TealiumMapper.apply(this, ['subscription', properties]);
                    }
                    ;
                }
            )();
        } catch (e) {
            console.log(e)
        }
    } catch (e) {
        console.log(e);
    }
}
if (!utag_condload) {
    try {
        try {
            (function() {
                    var dataLayer = window.wowDataLayer;
                    document.addEventListener('wowDataLayerUpdated', function(e) {
                        dataLayer = window.wowDataLayer;
                        switch (e.detail.eventName) {
                            case 'view':
                                recordView(e.detail);
                                break;
                            case 'link':
                                recordLink(e.detail);
                                break;
                            default:
                        }
                    });
                    function recordView(model) {
                        var dataLayerHelper = new tealiumTransform.DataLayerHelper(dataLayer);
                        var page = dataLayerHelper.getCurrentPage();
                        var notFound = false;
                        switch (page.Section) {
                            case 'shop:productdetails':
                                recordProductDetailsView(model, dataLayerHelper);
                                break;
                            case "shop:confirmation":
                                recordOrderConfirmationView(model, dataLayerHelper);
                                break;
                            case "shop:search":
                                recordSearchResultsView(model, dataLayerHelper);
                                break;
                            case "shop:browse":
                            case "shop:productgroup":
                            case "shop:new":
                            case "shop:offergroup":
                                recordBrowseResultsView(model, dataLayerHelper);
                                break;
                            case 'shop:reorder':
                                recordReorderView(model, dataLayerHelper);
                                break;
                            case 'shop:list':
                            case 'shop:suggestedlists':
                            case 'shop:savedlists':
                                recordListView(model, dataLayerHelper);
                                break;
                            case 'shop:discover':
                                recordDiscoverView(model, dataLayerHelper);
                                break;
                            case 'checkout-care-package':
                                recordCheckoutCarePackage(model, dataLayerHelper);
                                break;
                            case 'shop:myaccount':
                                recordMyAccount(model, dataLayerHelper);
                                break;
                            case 'shop:catalogue':
                                recordCatalogue(model, dataLayerHelper);
                                break;
                            case 'shop:recipedetail':
                                recordRecipeDetail(model, dataLayerHelper);
                                break;
                            case 'shop:recipes:category':
                                recordRecipeCategory(model, dataLayerHelper);
                                break;
                            case 'shop:accept-invite':
                                recordAcceptInvite(model, dataLayerHelper);
                                break;
                            default:
                                recordGeneric(model, dataLayerHelper);
                                utag.DB('tealiumTransform.recordView(): Unknown Section: "' + page.Section + '" - Generic View Recorded');
                        }
                        window.performanceEntries = {};
                    }
                    function recordLink(model) {
                        var dataLayerHelper = new tealiumTransform.DataLayerHelper(dataLayer);
                        var eventProps = new tealiumTransform.EventMapper(dataLayerHelper,model.eventValue).filter();
                        switch (model.eventValue.name) {
                            case 'error':
                            case 'user_signup_success':
                            case 'activate-resend-email':
                            case 'link_click':
                                switch (model.eventValue.value) {
                                    case 'swap_click':
                                    case 'select_click':
                                    case 'view_detail_click':
                                    case 'checked_product':
                                    case 'unchecked_product':
                                        eventProps = Object.assign({}, eventProps, getCommonRecipeItemProperties(dataLayerHelper));
                                        break;
                                    default:
                                        eventProps = Object.assign({}, eventProps, new tealiumTransform.UserMapper(dataLayerHelper).filter(), new tealiumTransform.OrderMapper(dataLayerHelper).filter(), new tealiumTransform.SiteMapper(dataLayerHelper).filter(['Section', ]));
                                        break;
                                }
                                break;
                                eventProps = Object.assign({}, eventProps, new tealiumTransform.UserMapper(dataLayerHelper).filter(), new tealiumTransform.OrderMapper(dataLayerHelper).filter(), new tealiumTransform.SiteMapper(dataLayerHelper).filter(['Section', ]));
                                break;
                            case 'business_register':
                            case 'work_hub':
                                eventProps = Object.assign(eventProps, new tealiumTransform.SiteMapper(dataLayerHelper).filter(['Section']), new tealiumTransform.SelfServiceBusinessMapper(dataLayerHelper).filter(), new tealiumTransform.MessageMapper(dataLayerHelper).filter(), new tealiumTransform.ErrorMapper(dataLayerHelper).filter());
                                break;
                            case 'user_login':
                                if (!dataLayer.shopperRequest.Id) {
                                    pushQueue(model);
                                    return false;
                                } else {
                                    eventProps = Object.assign({}, eventProps, new tealiumTransform.UserMapper(dataLayerHelper).filter(), new tealiumTransform.SiteMapper(dataLayerHelper).filter(['Section']), new tealiumTransform.MessageMapper(dataLayerHelper).filter());
                                    if (utag.data["ut.profile"] == "business") {
                                        eventProps = Object.assign({}, eventProps, new tealiumTransform.BusinessMapper(dataLayerHelper).filter(), new tealiumTransform.BusinessPreferenceMapper(dataLayerHelper).filter());
                                    }
                                }
                                break;
                            case 'fms_selection_delivery_method':
                            case 'fms_selection_method_datetime':
                                eventProps = Object.assign({}, eventProps, new tealiumTransform.PageMapper(dataLayerHelper).filter(), new tealiumTransform.UserMapper(dataLayerHelper).filter(), new tealiumTransform.BusinessMapper(dataLayerHelper).filter(), new tealiumTransform.BusinessPreferenceMapper(dataLayerHelper).filter(), new tealiumTransform.FulfilmentMethodMapper(dataLayerHelper).filter());
                                break;
                            case 'catalogue_product_view':
                            case 'catalogue_product_click':
                                eventProps = Object.assign({}, eventProps, new tealiumTransform.UserMapper(dataLayerHelper).filter(), new tealiumTransform.OrderMapper(dataLayerHelper).filter(), new tealiumTransform.SiteMapper(dataLayerHelper).filter(['Section', ]), new tealiumTransform.ProductMapper(dataLayerHelper,dataLayerHelper.getCataloguePopupProductsDisplayed()).filter());
                                break;
                            case 'product_click':
                                eventProps = Object.assign({}, eventProps, new tealiumTransform.UserMapper(dataLayerHelper).filter(), new tealiumTransform.OrderMapper(dataLayerHelper).filter(), new tealiumTransform.SiteMapper(dataLayerHelper).filter(['Section', ]), new tealiumTransform.ProductMapper(dataLayerHelper,[dataLayerHelper.getLastActiveProductTile()]).filter());
                                break;
                            case 'show_recommended':
                            case 'show_most_popular':
                            case 'show_you_may_also_like':
                            case 'show_recommended_scroll':
                                eventProps = Object.assign({}, eventProps, new tealiumTransform.UserMapper(dataLayerHelper).filter(), new tealiumTransform.OrderMapper(dataLayerHelper).filter(), new tealiumTransform.SiteMapper(dataLayerHelper).filter(), new tealiumTransform.VisitorMapper(dataLayerHelper).filter(), new tealiumTransform.ProductMapper(dataLayerHelper,dataLayerHelper.getRecommendedItems()).filter());
                                break;
                            case 'recipe_click':
                                var recipe = JSON.parse(JSON.stringify(dataLayerHelper.getLastActiveRecipeTile()));
                                eventProps = Object.assign({}, eventProps, new tealiumTransform.UserMapper(dataLayerHelper).filter(), new tealiumTransform.SiteMapper(dataLayerHelper).filter(), new tealiumTransform.aemRecipeMapper(dataLayerHelper,[recipe, ]).filter());
                                break;
                            case 'cart_view':
                                eventProps = Object.assign({}, eventProps, new tealiumTransform.UserMapper(dataLayerHelper).filter(), new tealiumTransform.OrderMapper(dataLayerHelper).filter(), new tealiumTransform.SiteMapper(dataLayerHelper).filter(), new tealiumTransform.VisitorMapper(dataLayerHelper).filter(), new tealiumTransform.ProductMapper(dataLayerHelper,dataLayerHelper.getCartProducts()).filter());
                                break;
                            case 'cart_add':
                                var product = JSON.parse(JSON.stringify(dataLayerHelper.getActiveProduct()));
                                product.Quantity = model.eventValue.value;
                                eventProps = Object.assign({}, eventProps, new tealiumTransform.UserMapper(dataLayerHelper).filter(), new tealiumTransform.OrderMapper(dataLayerHelper).filter(), new tealiumTransform.SiteMapper(dataLayerHelper).filter(), new tealiumTransform.BusinessPreferenceMapper(dataLayerHelper).filter(), new tealiumTransform.VisitorMapper(dataLayerHelper).filter(), new tealiumTransform.ProductMapper(dataLayerHelper,[product, ]).filter(), new tealiumTransform.CartMapper(dataLayerHelper,product).filter(['ProductID']));
                                break;
                            case 'cart_add_all':
                                eventProps = Object.assign({}, eventProps, new tealiumTransform.UserMapper(dataLayerHelper).filter(), new tealiumTransform.OrderMapper(dataLayerHelper).filter(), new tealiumTransform.SiteMapper(dataLayerHelper).filter(), new tealiumTransform.VisitorMapper(dataLayerHelper).filter(), new tealiumTransform.ProductMapper(dataLayerHelper,dataLayerHelper.getlistProducts()).filter(), new tealiumTransform.CartMapper(dataLayerHelper).filter());
                                break;
                            case 'cart_remove':
                                var product = JSON.parse(JSON.stringify(dataLayerHelper.getActiveProduct()));
                                product.Quantity = model.eventValue.value;
                                eventProps = Object.assign({}, eventProps, new tealiumTransform.UserMapper(dataLayerHelper).filter(), new tealiumTransform.OrderMapper(dataLayerHelper).filter(), new tealiumTransform.SiteMapper(dataLayerHelper).filter(), new tealiumTransform.VisitorMapper(dataLayerHelper).filter(), new tealiumTransform.ProductMapper(dataLayerHelper,[product, ]).filter());
                                break;
                            case 'product_atp_message':
                                var product = JSON.parse(JSON.stringify(dataLayerHelper.getActiveProduct()));
                                eventProps = Object.assign({}, eventProps, new tealiumTransform.UserMapper(dataLayerHelper).filter(), new tealiumTransform.OrderMapper(dataLayerHelper).filter(), new tealiumTransform.SiteMapper(dataLayerHelper).filter(), new tealiumTransform.VisitorMapper(dataLayerHelper).filter(), new tealiumTransform.ProductMapper(dataLayerHelper,[product, ]).filter());
                                break;
                            case 'list_add':
                            case 'list_remove':
                                eventProps = Object.assign({}, eventProps, new tealiumTransform.SaveToListItemMapper(dataLayerHelper,[dataLayerHelper.getLastInteractedSaveToListItem()]).filter(), new tealiumTransform.ProductMapper(dataLayerHelper,[dataLayerHelper.getLastActiveProductTile()]).filter(), new tealiumTransform.UserMapper(dataLayerHelper).filter(), new tealiumTransform.SiteMapper(dataLayerHelper).filter());
                                break;
                            case 'list_add_all':
                                var lastInteractedSaveToListItem = dataLayerHelper.getLastInteractedSaveToListItem() ? dataLayerHelper.getLastInteractedSaveToListItem() : '';
                                eventProps = Object.assign({}, eventProps, new tealiumTransform.SaveToListItemMapper(dataLayerHelper,[lastInteractedSaveToListItem]).filter(), new tealiumTransform.UserMapper(dataLayerHelper).filter(), new tealiumTransform.SiteMapper(dataLayerHelper).filter(), new tealiumTransform.VisitorMapper(dataLayerHelper).filter(), new tealiumTransform.ProductMapper(dataLayerHelper,dataLayerHelper.getlistProducts()).filter());
                                break;
                            case 'list_remove_all':
                                eventProps = Object.assign({}, eventProps, new tealiumTransform.SaveToListItemMapper(dataLayerHelper,[dataLayerHelper.getLastInteractedSaveToListItem()]).filter(), new tealiumTransform.ProductMapper(dataLayerHelper,dataLayerHelper.getlistProducts()).filter(), new tealiumTransform.UserMapper(dataLayerHelper).filter(), new tealiumTransform.SiteMapper(dataLayerHelper).filter());
                                break;
                            case 'checkout_accordion':
                                eventProps = Object.assign({}, eventProps, new tealiumTransform.UserMapper(dataLayerHelper).filter(), new tealiumTransform.OrderMapper(dataLayerHelper).filter(), new tealiumTransform.SiteMapper(dataLayerHelper).filter(), new tealiumTransform.BusinessPreferenceMapper(dataLayerHelper).filter(), new tealiumTransform.CheckoutMapper(dataLayerHelper).filter(), new tealiumTransform.ProductMapper(dataLayerHelper,dataLayerHelper.getCartProducts()).filter());
                                break;
                            case 'nsb_add_all':
                            case 'nsb_toggle':
                                var reorderResults = JSON.parse(JSON.stringify(dataLayerHelper.getReorderResults()));
                                var products = [];
                                for (var i = 0; i < reorderResults.items.length; i++) {
                                    var item = reorderResults.items[i];
                                    item.Source = reorderResults.source;
                                    products.push(item);
                                }
                                eventProps = Object.assign({}, eventProps, new tealiumTransform.UserMapper(dataLayerHelper).filter(), new tealiumTransform.OrderMapper(dataLayerHelper).filter(), new tealiumTransform.SiteMapper(dataLayerHelper).filter(), new tealiumTransform.VisitorMapper(dataLayerHelper).filter(), new tealiumTransform.ProductMapper(dataLayerHelper,products).filter(), new tealiumTransform.ReorderMapper(dataLayerHelper,reorderResults).filter());
                                break;
                            case 'click_alternate_product':
                                var alternateProductResults = JSON.parse(JSON.stringify(dataLayerHelper.getAlternateProductResults()));
                                eventProps = Object.assign({}, eventProps, new tealiumTransform.UserMapper(dataLayerHelper).filter(), new tealiumTransform.SiteMapper(dataLayerHelper).filter(), new tealiumTransform.VisitorMapper(dataLayerHelper).filter(), new tealiumTransform.AlternateProductMapper(dataLayerHelper,alternateProductResults).filter());
                                break;
                            case 'load_healthy_option_product':
                                var healthySwapsResults = JSON.parse(JSON.stringify(dataLayerHelper.getHealthySwapsResults()));
                                eventProps = Object.assign({}, eventProps, new tealiumTransform.HealthySwapsMapper(dataLayerHelper,healthySwapsResults).filter());
                                break;
                            case 'cart_timeslots_loaded':
                                eventProps = Object.assign({}, eventProps, new tealiumTransform.DeliveryWindowCountMapper(dataLayerHelper,"cart").filter(), new tealiumTransform.DeliveryWindowExpressCheckoutFlag(dataLayerHelper).filter());
                                break;
                            case 'checkout_timeslots_loaded':
                                eventProps = Object.assign({}, eventProps, new tealiumTransform.DeliveryWindowCountMapper(dataLayerHelper,"checkout").filter(), new tealiumTransform.DeliveryWindowExpressCheckoutFlag(dataLayerHelper).filter());
                                break;
                            case 'timeslot_selected':
                                eventProps = Object.assign({}, eventProps, new tealiumTransform.SelectedDeliveryWindowMapper(dataLayerHelper).filter());
                                break;
                            case 'checkout_staged_order':
                                eventProps = Object.assign({}, eventProps, new tealiumTransform.CheckoutStagedOrderMapper(dataLayerHelper).filter());
                                break;
                            case 'checkout-place-order-click':
                                eventProps = Object.assign({}, eventProps, new tealiumTransform.CustomerPurchaseOrderMapper(dataLayerHelper).filter());
                                break;
                            case 'menu_click':
                                eventProps = Object.assign({}, eventProps, new tealiumTransform.NavMapper(dataLayerHelper,model.eventValue).filter());
                                break;
                            case 'web_performance':
                                return;
                            case 'video_start':
                            case 'video_mute':
                            case 'video_unmute':
                            case 'video_pause':
                            case 'video_play':
                            case 'video_unmute':
                            case 'video_milestone50':
                            case 'video_milestone90':
                            case 'enable_picinpic':
                            case 'disable_picinpic':
                            case 'video_maximise':
                            case 'video_minimise':
                            case 'video_captionson':
                            case 'video_captionsoff':
                            case 'video_complete':
                                eventProps = Object.assign({}, eventProps, new tealiumTransform.VideoMapper(dataLayerHelper,model.eventValue).filter());
                                break;
                        }
                        trackIt(model.eventName, eventProps);
                    }
                    function getPerformanceProperties() {
                        return window.performanceEntries;
                    }
                    function getCommonRecipeItemProperties(dataLayerHelper) {
                        return Object.assign({}, new tealiumTransform.OrderMapper(dataLayerHelper).filter(), new tealiumTransform.ProductMapper(dataLayerHelper,[dataLayerHelper.getAemRecipeDetail()]).filter(), new tealiumTransform.SiteMapper(dataLayerHelper).filter(['Section', ]));
                    }
                    function getCommonProperties(dataLayerHelper) {
                        return Object.assign({}, new tealiumTransform.SiteMapper(dataLayerHelper).filter(), new tealiumTransform.PageMapper(dataLayerHelper).filter(), new tealiumTransform.UserMapper(dataLayerHelper).filter(), new tealiumTransform.OneLoginMapper(dataLayerHelper).filter(), new tealiumTransform.BusinessMapper(dataLayerHelper).filter(), new tealiumTransform.VisitorMapper(dataLayerHelper).filter(), new tealiumTransform.CartMapper(dataLayerHelper).filter(), new tealiumTransform.CheckoutMapper(dataLayerHelper).filter(), new tealiumTransform.OrderMapper(dataLayerHelper).filter(), new tealiumTransform.ErrorMapper(dataLayerHelper).filter(), new tealiumTransform.SubscriptionMapper(dataLayerHelper).filter(), getPerformanceProperties());
                    }
                    function recordSearchResultsView(model, dataLayerHelper) {
                        var searchResults = dataLayerHelper.getSearchResults();
                        var products = [];
                        var isRecipeType = false;
                        for (var i = 0; i < searchResults.items.length; i++) {
                            var item = searchResults.items[i];
                            if (item.type === 'Inspiration') {
                                item.model.tileType = 'Inspiration Card';
                                products.push(item.model);
                            } else if (item.type === 'Product') {
                                item.model.tileType = 'Product Tile';
                                products.push(item.model);
                            } else if (item.type === 'Bundle') {
                                for (var j = 0; j < item.model.Products.length; j++) {
                                    item.model.Products[j].tileType = 'Product Family';
                                }
                                products = products.concat(item.model.Products);
                            } else if (item.type === 'Recipe') {
                                isRecipeType = true;
                                item.model.tileType = 'Recipe';
                                products.push(item.model);
                            }
                        }
                        searchResults.products = products;
                        var resultsViewModel = Object.assign({}, getCommonProperties(dataLayerHelper), new tealiumTransform.SearchMapper(dataLayerHelper,searchResults).filter(), isRecipeType ? new tealiumTransform.RecipeMapper(dataLayerHelper,products).filter() : new tealiumTransform.ProductMapper(dataLayerHelper,products).filter(), new tealiumTransform.ContentMapper(dataLayerHelper,products).filter());
                        trackIt(model.eventName, resultsViewModel);
                    }
                    function recordBrowseResultsView(model, dataLayerHelper) {
                        var browseResults = dataLayerHelper.getBrowseResults();
                        var products = [];
                        for (var i = 0; i < browseResults.items.length; i++) {
                            var item = browseResults.items[i];
                            if (item.type === 'Inspiration') {
                                item.model.tileType = 'Inspiration Card';
                                products.push(item.model);
                            } else if (item.type === 'Product') {
                                item.model.tileType = 'Product Tile';
                                products.push(item.model);
                            } else if (item.type === 'Bundle') {
                                for (var j = 0; j < item.model.Products.length; j++) {
                                    item.model.Products[j].tileType = 'Product Family';
                                }
                                products = products.concat(item.model.Products);
                            }
                        }
                        browseResults.products = products;
                        var resultsViewModel = Object.assign({}, getCommonProperties(dataLayerHelper), new tealiumTransform.BrowseMapper(dataLayerHelper,browseResults).filter(), new tealiumTransform.ProductMapper(dataLayerHelper,products).filter(), new tealiumTransform.ContentMapper(dataLayerHelper,products).filter());
                        trackIt(model.eventName, resultsViewModel);
                    }
                    function recordReorderView(model, dataLayerHelper) {
                        var reorderResults = JSON.parse(JSON.stringify(dataLayerHelper.getReorderResults()));
                        var products = [];
                        for (var i = 0; i < reorderResults.items.length; i++) {
                            var item = reorderResults.items[i];
                            item.Source = reorderResults.source;
                            products.push(item);
                        }
                        var resultsViewModel = Object.assign({}, getCommonProperties(dataLayerHelper), new tealiumTransform.ReorderMapper(dataLayerHelper,reorderResults).filter(), new tealiumTransform.ProductMapper(dataLayerHelper,products).filter());
                        trackIt(model.eventName, resultsViewModel);
                    }
                    function recordListView(model, dataLayerHelper) {
                        var listResults = dataLayerHelper.getListResults();
                        listResults = listResults ? JSON.parse(JSON.stringify(listResults)) : null;
                        var products = [];
                        if (listResults && listResults.items) {
                            for (var i = 0; i < listResults.items.length; i++) {
                                var item = listResults.items[i].model;
                                item.Source = listResults.source;
                                products.push(item);
                            }
                        }
                        var resultsViewModel = Object.assign({}, getCommonProperties(dataLayerHelper), listResults && listResults.listItems ? new tealiumTransform.ListMapper(dataLayerHelper,listResults).filter() : {}, listResults ? new tealiumTransform.ProductMapper(dataLayerHelper,products).filter() : {});
                        trackIt(model.eventName, resultsViewModel);
                    }
                    function recordRecipeDetail(model, dataLayerHelper) {
                        var aemRecipeDetailModel = dataLayerHelper.getAemRecipeDetail();
                        var recipeDetailModel = dataLayerHelper.getRecipeDetail();
                        var recipeModel = {};
                        if (!aemRecipeDetailModel) {
                            recipeDetailModel = dataLayerHelper.getRecipeDetail();
                            recipeModel = Object.assign({}, getCommonProperties(dataLayerHelper), new tealiumTransform.RecipeDetailMapper(dataLayerHelper,recipeDetailModel).filter(), new tealiumTransform.ProductMapper(dataLayerHelper,dataLayerHelper.getRecipeDetailProducts()).filter());
                        }
                        if (aemRecipeDetailModel) {
                            recipeModel = Object.assign({}, getCommonProperties(dataLayerHelper), new tealiumTransform.aemRecipeDetailMapper(dataLayerHelper,aemRecipeDetailModel).filter());
                        }
                        trackIt(model.eventName, recipeModel);
                    }
                    function recordRecipeCategory(model, dataLayerHelper) {
                        var recipeCategoryModel = dataLayerHelper.getListResults();
                        var recipes = [];
                        if (recipeCategoryModel && recipeCategoryModel.items) {
                            for (var i = 0; i < recipeCategoryModel.items.length; i++) {
                                var item = recipeCategoryModel.items[i];
                                if (item.type === 'Recipe') {
                                    item.model.tileType = 'Recipe';
                                    recipes.push(item.model);
                                }
                            }
                        }
                        var recipeModel = Object.assign({}, getCommonProperties(dataLayerHelper), new tealiumTransform.RecipeMapper(dataLayerHelper,recipes).filter());
                        trackIt(model.eventName, recipeModel);
                    }
                    function recordPageView(model, dataLayerHelper) {
                        var pageModel = Object.assign({}, getCommonProperties(dataLayerHelper));
                        trackIt(model.eventName, pageModel);
                    }
                    function recordDiscoverView(model, dataLayerHelper) {
                        var discoverModel = Object.assign({}, getCommonProperties(dataLayerHelper));
                        trackIt(model.eventName, discoverModel);
                    }
                    function recordAcceptInvite(model, dataLayerHelper) {
                        var acceptInviteModel = Object.assign({}, new tealiumTransform.SiteMapper(dataLayerHelper).filter(), new tealiumTransform.PageMapper(dataLayerHelper).filter(), new tealiumTransform.ErrorMapper(dataLayerHelper).filter(), new tealiumTransform.MessageMapper(dataLayerHelper).filter(), new tealiumTransform.SelfServiceBusinessMapper(dataLayerHelper).filter(), );
                        trackIt(model.eventName, acceptInviteModel);
                    }
                    function recordProductDetailsView(model, dataLayerHelper) {
                        var product = JSON.parse(JSON.stringify(dataLayerHelper.getProductDetail()));
                        var productViewModel = Object.assign({}, getCommonProperties(dataLayerHelper), new tealiumTransform.ProductMapper(dataLayerHelper,[product, ]).filter());
                        trackIt(model.eventName, productViewModel);
                    }
                    function recordOrderConfirmationView(model, dataLayerHelper) {
                        var confirmationViewModel = Object.assign({}, getCommonProperties(dataLayerHelper), new tealiumTransform.BusinessPreferenceMapper(dataLayerHelper).filter(), new tealiumTransform.OrderConfirmationMapper(dataLayerHelper).filter());
                        trackIt(model.eventName, confirmationViewModel);
                    }
                    function recordCheckoutCarePackage(model, dataLayerHelper) {
                        var checkoutCarePackageModel = Object.assign({}, getCommonProperties(dataLayerHelper));
                        trackIt(model.eventName, checkoutCarePackageModel);
                    }
                    function recordMyAccount(model, dataLayerHelper) {
                        var page = dataLayerHelper.getCurrentPage();
                        var commonModel = Object.assign({}, getCommonProperties(dataLayerHelper));
                        if (page.Name === 'WW:shop:myaccount:trackmyorder') {
                            commonModel = Object.assign({}, commonModel, new tealiumTransform.TrackMyOrderMapper(dataLayerHelper).filter());
                        }
                        trackIt(model.eventName, commonModel);
                    }
                    function recordCatalogue(model, dataLayerHelper) {
                        var catalogueModel = Object.assign({}, getCommonProperties(dataLayerHelper), new tealiumTransform.CatalogueMapper(dataLayerHelper).filter());
                        trackIt(model.eventName, catalogueModel);
                    }
                    function recordGeneric(model, dataLayerHelper) {
                        var genericModel = Object.assign({}, getCommonProperties(dataLayerHelper));
                        trackIt(model.eventName, genericModel);
                    }
                    function pushQueue(model) {
                        try {
                            var queue = JSON.parse(sessionStorage.getItem("tealium_queue") || "[]");
                            queue.push(model);
                            sessionStorage.setItem("tealium_queue", JSON.stringify(queue));
                        } catch (ex) {}
                    }
                    function checkQueue(type) {
                        if (type === "view") {
                            var queue = JSON.parse(sessionStorage.getItem("tealium_queue") || "[]");
                            if (queue.length) {
                                for (var i = 0; i < queue.length; i++) {
                                    try {
                                        var model = queue[i];
                                        var event = new Event("wowDataLayerUpdated");
                                        event.detail = model;
                                        document.dispatchEvent(event);
                                    } catch (ex) {}
                                }
                                sessionStorage.removeItem("tealium_queue");
                            }
                        }
                    }
                    function trackIt(type, model) {
                        if (window.utag) {
                            utag.track(type, model);
                            checkQueue(type);
                        }
                    }
                }
            )();
        } catch (e) {
            console.log(e)
        }
    } catch (e) {
        console.log(e);
    }
}
if (!utag_condload) {
    try {
        try {
            window.atMETA = window.atMETA || {};
            document.addEventListener("at-request-succeeded", function(event) {
                var responseTokens = (event.detail.responseTokens || [{}])[0];
                window.atMETA[event.detail.mbox] = {
                    "MboxName": event.detail.mbox,
                    "ActivityName": responseTokens["activity.name"] || "",
                    "ActivityID": responseTokens["activity.id"] || "",
                    "ExperienceID": responseTokens["experience.id"] || "",
                    "OfferID": responseTokens["offer.id"] || ""
                };
            })
            document.addEventListener("at-content-rendering-succeeded", function(event) {
                var mbox = event.detail.mbox;
                var mboxSel = "[data-mbox='" + mbox + "'][data-mbox-request-id]";
                var mboxEl = document.querySelector(mboxSel);
                var homePage = window.location.pathname;
                var brandedShopPage = window.location.pathname;
                if (mbox.match(/^acs/) && mboxEl) {
                    var reqId = mboxEl.dataset.mboxRequestId;
                    var stitchEl = mboxEl.querySelector("[stitch-id]");
                    var stitchId = stitchEl && stitchEl.getAttribute("stitch-id") || "";
                    var adSlot = mboxEl.querySelector('.googleadmanager > .ad-unit');
                    var atProperty = __TEALIUM.adobe.target.at_property_acs;
                    var eventData = Object.assign(window.atMETA[mbox], {
                        "StitchID": stitchId
                    });
                    mboxEl.addEventListener("click", function() {
                        if (!this.acsTrack) {
                            this.acsTrack = true;
                            window.acs.trackEvent("content", "click", eventData);
                        }
                    }, true);
                    if (typeof window.inView != "undefined") {
                        if (inView.is(mboxEl)) {
                            window.acs.trackEvent("content", "impression", eventData);
                            mboxEl.removeAttribute("data-mbox-request-id");
                        } else {
                            inView("[data-mbox-request-id='" + reqId + "']").once('enter', function(e) {
                                window.acs.trackEvent("content", "impression", eventData);
                                mboxEl.removeAttribute("data-mbox-request-id");
                            })
                        }
                    } else {
                        window.acs.trackEvent("content", "impression", eventData);
                        mboxEl.removeAttribute("data-mbox-request-id");
                    }
                }
            });
            document.addEventListener("branded-shop-content-rendered", function(event) {
                var brandedShopPage = window.location.pathname;
                if (brandedShopPage != 'undefined' && brandedShopPage.includes("featured-brands/")) {
                    this.acsTrack = true;
                    window.acs.trackEvent("brandedShop", "view", eventData);
                }
            });
            document.addEventListener("at-content-rendering-no-offers", function(event) {
                var mbox = event.detail.mbox;
                var mboxSel = "[data-mbox='" + mbox + "'][data-mbox-request-id]";
                var mboxEl = document.querySelector(mboxSel);
                var atProperty = __TEALIUM.adobe.target.at_property_acs;
                if (mbox.match(/^acs/) && !mbox.match(/forecasting/) && window.location.pathname != "/") {
                    window.acs.trackEvent("empty", "impression", window.atMETA[mbox]);
                }
            });
            function callForecastingActivity(atProperty, mbox) {
                return false;
            }
        } catch (e) {
            console.log(e)
        }
    } catch (e) {
        console.log(e);
    }
}
if (!utag_condload) {
    try {
        try {
            document.addEventListener('wowMboxAvailable', function(event) {
                var mboxName = event.detail.identity;
                var matchMboxes = ["overlay", "homepage.carousel", "homepage.video", "aisle.contentcard", "order.banner", "promo-tile"];
                var mboxAllowed = function(forceAllow) {
                    for (var i = 0; i < matchMboxes.length; i++) {
                        if (mboxName.indexOf(matchMboxes[i]) > -1) {
                            return true
                        }
                    }
                    return forceAllow;
                }(event.detail.forceAllow === true);
                if (mboxAllowed) {
                    var dataLayerHelper = new tealiumTransform.DataLayerHelper(wowDataLayer);
                    var b = Object.assign({
                        "tealium_event": "mbox_available"
                    }, new tealiumTransform.SiteMapper(dataLayerHelper).filter(), new tealiumTransform.PageMapper(dataLayerHelper).filter(), new tealiumTransform.UserMapper(dataLayerHelper).filter());
                    b["mbox.Name"] = mboxName;
                    if (event.detail.aisleDepartment) {
                        b["nav.AisleDepartment"] = event.detail.aisleDepartment
                    }
                    if (event.detail.aisleCategory) {
                        b["nav.AisleCategory"] = event.detail.aisleCategory
                    }
                    if (mboxName.match("order")) {
                        b = Object.assign(b, new tealiumTransform.OrderConfirmationMapper(dataLayerHelper).filter())
                    }
                    utag.view(b, null, [93]);
                }
            });
        } catch (e) {
            console.log(e)
        }
    } catch (e) {
        console.log(e);
    }
}
if (!utag_condload) {
    try {
        try {
            !function(t, e) {
                "object" == typeof exports && "object" == typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define([], e) : "object" == typeof exports ? exports.inView = e() : t.inView = e()
            }(this, function() {
                return function(t) {
                    function e(r) {
                        if (n[r])
                            return n[r].exports;
                        var i = n[r] = {
                            exports: {},
                            id: r,
                            loaded: !1
                        };
                        return t[r].call(i.exports, i, i.exports, e),
                            i.loaded = !0,
                            i.exports
                    }
                    var n = {};
                    return e.m = t,
                        e.c = n,
                        e.p = "",
                        e(0)
                }([function(t, e, n) {
                    "use strict";
                    function r(t) {
                        return t && t.__esModule ? t : {
                            "default": t
                        }
                    }
                    var i = n(2)
                        , o = r(i);
                    t.exports = o["default"]
                }
                    , function(t, e) {
                        function n(t) {
                            var e = typeof t;
                            return null != t && ("object" == e || "function" == e)
                        }
                        t.exports = n
                    }
                    , function(t, e, n) {
                        "use strict";
                        function r(t) {
                            return t && t.__esModule ? t : {
                                "default": t
                            }
                        }
                        Object.defineProperty(e, "__esModule", {
                            value: !0
                        });
                        var i = n(9)
                            , o = r(i)
                            , u = n(3)
                            , f = r(u)
                            , s = n(4)
                            , c = function() {
                            if ("undefined" != typeof window) {
                                var t = 100
                                    , e = ["scroll", "resize", "load"]
                                    , n = {
                                    history: []
                                }
                                    , r = {
                                    offset: {},
                                    threshold: 0,
                                    test: s.inViewport
                                }
                                    , i = (0,
                                    o["default"])(function() {
                                    n.history.forEach(function(t) {
                                        n[t].check()
                                    })
                                }, t);
                                e.forEach(function(t) {
                                    return addEventListener(t, i)
                                }),
                                window.MutationObserver && addEventListener("DOMContentLoaded", function() {
                                    new MutationObserver(i).observe(document.body, {
                                        attributes: !0,
                                        childList: !0,
                                        subtree: !0
                                    })
                                });
                                var u = function(t) {
                                    if ("string" == typeof t) {
                                        var e = [].slice.call(document.querySelectorAll(t));
                                        return n.history.indexOf(t) > -1 ? n[t].elements = e : (n[t] = (0,
                                            f["default"])(e, r),
                                            n.history.push(t)),
                                            n[t]
                                    }
                                };
                                return u.offset = function(t) {
                                    if (void 0 === t)
                                        return r.offset;
                                    var e = function(t) {
                                        return "number" == typeof t
                                    };
                                    return ["top", "right", "bottom", "left"].forEach(e(t) ? function(e) {
                                                return r.offset[e] = t
                                            }
                                            : function(n) {
                                                return e(t[n]) ? r.offset[n] = t[n] : null
                                            }
                                    ),
                                        r.offset
                                }
                                    ,
                                    u.threshold = function(t) {
                                        return "number" == typeof t && t >= 0 && t <= 1 ? r.threshold = t : r.threshold
                                    }
                                    ,
                                    u.test = function(t) {
                                        return "function" == typeof t ? r.test = t : r.test
                                    }
                                    ,
                                    u.is = function(t) {
                                        return r.test(t, r)
                                    }
                                    ,
                                    u.offset(0),
                                    u
                            }
                        };
                        e["default"] = c()
                    }
                    , function(t, e) {
                        "use strict";
                        function n(t, e) {
                            if (!(t instanceof e))
                                throw new TypeError("Cannot call a class as a function")
                        }
                        Object.defineProperty(e, "__esModule", {
                            value: !0
                        });
                        var r = function() {
                            function t(t, e) {
                                for (var n = 0; n < e.length; n++) {
                                    var r = e[n];
                                    r.enumerable = r.enumerable || !1,
                                        r.configurable = !0,
                                    "value"in r && (r.writable = !0),
                                        Object.defineProperty(t, r.key, r)
                                }
                            }
                            return function(e, n, r) {
                                return n && t(e.prototype, n),
                                r && t(e, r),
                                    e
                            }
                        }()
                            , i = function() {
                            function t(e, r) {
                                n(this, t),
                                    this.options = r,
                                    this.elements = e,
                                    this.current = [],
                                    this.handlers = {
                                        enter: [],
                                        exit: []
                                    },
                                    this.singles = {
                                        enter: [],
                                        exit: []
                                    }
                            }
                            return r(t, [{
                                key: "check",
                                value: function() {
                                    var t = this;
                                    return this.elements.forEach(function(e) {
                                        var n = t.options.test(e, t.options)
                                            , r = t.current.indexOf(e)
                                            , i = r > -1
                                            , o = n && !i
                                            , u = !n && i;
                                        o && (t.current.push(e),
                                            t.emit("enter", e)),
                                        u && (t.current.splice(r, 1),
                                            t.emit("exit", e))
                                    }),
                                        this
                                }
                            }, {
                                key: "on",
                                value: function(t, e) {
                                    return this.handlers[t].push(e),
                                        this
                                }
                            }, {
                                key: "once",
                                value: function(t, e) {
                                    return this.singles[t].unshift(e),
                                        this
                                }
                            }, {
                                key: "emit",
                                value: function(t, e) {
                                    for (; this.singles[t].length; )
                                        this.singles[t].pop()(e);
                                    for (var n = this.handlers[t].length; --n > -1; )
                                        this.handlers[t][n](e);
                                    return this
                                }
                            }]),
                                t
                        }();
                        e["default"] = function(t, e) {
                            return new i(t,e)
                        }
                    }
                    , function(t, e) {
                        "use strict";
                        function n(t, e) {
                            var n = t.getBoundingClientRect()
                                , r = n.top
                                , i = n.right
                                , o = n.bottom
                                , u = n.left
                                , f = n.width
                                , s = n.height
                                , c = {
                                t: o,
                                r: window.innerWidth - u,
                                b: window.innerHeight - r,
                                l: i
                            }
                                , a = {
                                x: e.threshold * f,
                                y: e.threshold * s
                            };
                            return c.t > e.offset.top + a.y && c.r > e.offset.right + a.x && c.b > e.offset.bottom + a.y && c.l > e.offset.left + a.x
                        }
                        Object.defineProperty(e, "__esModule", {
                            value: !0
                        }),
                            e.inViewport = n
                    }
                    , function(t, e) {
                        (function(e) {
                                var n = "object" == typeof e && e && e.Object === Object && e;
                                t.exports = n
                            }
                        ).call(e, function() {
                            return this
                        }())
                    }
                    , function(t, e, n) {
                        var r = n(5)
                            , i = "object" == typeof self && self && self.Object === Object && self
                            , o = r || i || Function("return this")();
                        t.exports = o
                    }
                    , function(t, e, n) {
                        function r(t, e, n) {
                            function r(e) {
                                var n = x
                                    , r = m;
                                return x = m = void 0,
                                    E = e,
                                    w = t.apply(r, n)
                            }
                            function a(t) {
                                return E = t,
                                    j = setTimeout(h, e),
                                    M ? r(t) : w
                            }
                            function l(t) {
                                var n = t - O
                                    , r = t - E
                                    , i = e - n;
                                return _ ? c(i, g - r) : i
                            }
                            function d(t) {
                                var n = t - O
                                    , r = t - E;
                                return void 0 === O || n >= e || n < 0 || _ && r >= g
                            }
                            function h() {
                                var t = o();
                                return d(t) ? p(t) : void (j = setTimeout(h, l(t)))
                            }
                            function p(t) {
                                return j = void 0,
                                    T && x ? r(t) : (x = m = void 0,
                                        w)
                            }
                            function v() {
                                void 0 !== j && clearTimeout(j),
                                    E = 0,
                                    x = O = m = j = void 0
                            }
                            function y() {
                                return void 0 === j ? w : p(o())
                            }
                            function b() {
                                var t = o()
                                    , n = d(t);
                                if (x = arguments,
                                    m = this,
                                    O = t,
                                    n) {
                                    if (void 0 === j)
                                        return a(O);
                                    if (_)
                                        return j = setTimeout(h, e),
                                            r(O)
                                }
                                return void 0 === j && (j = setTimeout(h, e)),
                                    w
                            }
                            var x, m, g, w, j, O, E = 0, M = !1, _ = !1, T = !0;
                            if ("function" != typeof t)
                                throw new TypeError(f);
                            return e = u(e) || 0,
                            i(n) && (M = !!n.leading,
                                _ = "maxWait"in n,
                                g = _ ? s(u(n.maxWait) || 0, e) : g,
                                T = "trailing"in n ? !!n.trailing : T),
                                b.cancel = v,
                                b.flush = y,
                                b
                        }
                        var i = n(1)
                            , o = n(8)
                            , u = n(10)
                            , f = "Expected a function"
                            , s = Math.max
                            , c = Math.min;
                        t.exports = r
                    }
                    , function(t, e, n) {
                        var r = n(6)
                            , i = function() {
                            return r.Date.now()
                        };
                        t.exports = i
                    }
                    , function(t, e, n) {
                        function r(t, e, n) {
                            var r = !0
                                , f = !0;
                            if ("function" != typeof t)
                                throw new TypeError(u);
                            return o(n) && (r = "leading"in n ? !!n.leading : r,
                                f = "trailing"in n ? !!n.trailing : f),
                                i(t, e, {
                                    leading: r,
                                    maxWait: e,
                                    trailing: f
                                })
                        }
                        var i = n(7)
                            , o = n(1)
                            , u = "Expected a function";
                        t.exports = r
                    }
                    , function(t, e) {
                        function n(t) {
                            return t
                        }
                        t.exports = n
                    }
                ])
            });
        } catch (e) {
            console.log(e)
        }
    } catch (e) {
        console.log(e);
    }
}
if (!utag_condload) {
    try {
        try {
            window.acs = window.acs || {};
            acs.getMboxMeta = function(data) {
                var b = {};
                var mboxName = "";
                try {
                    mboxName = data.MboxName || data.slot.passbackConfig.name
                } catch (ex) {
                    utag.DB(ex)
                }
                if (mboxName) {
                    var mboxMeta = window.atMETA[mboxName];
                    Object.assign(b, {
                        "acs.MboxName": mboxName,
                        "acs.MboxMeta": [mboxMeta.MboxName, (mboxMeta.ActivityID || ""), (mboxMeta.ExperienceID || ""), (mboxMeta.OfferID || "")].join(":")
                    })
                }
                return b;
            }
            acs.getAdSlotData = function(data) {
                var event = data;
                var b = {};
                b["acs.GAMAdUnitPath"] = event.slot.getSlotId().getAdUnitPath();
                Object.keys(event.slot.getResponseInformation()).forEach(function(k) {
                    b["acs.GAM" + k.charAt(0).toUpperCase() + k.slice(1)] = JSON.stringify(event.slot.getResponseInformation()[k] || "")
                });
                try {
                    var adResponseDOM = new DOMParser().parseFromString(event.slot.getHtml(), "text/html");
                    var stitchID = adResponseDOM.querySelector("[stitch-id]");
                    b["acs.StitchID"] = stitchID ? stitchID.getAttribute("stitch-id") : "";
                } catch (ex) {
                    utag.DB(ex)
                }
                return b;
            }
            acs.getContentData = function(data) {
                var b = {};
                if (data.StitchID) {
                    b["acs.StitchID"] = data.StitchID
                }
                return b;
            }
            acs.trackEvent = function(category, action, data) {
                var dataLayerHelper = new tealiumTransform.DataLayerHelper(wowDataLayer);
                var b = Object.assign({
                    "event.Name": "acs_" + category + "_" + action,
                    "event.Category": category,
                    "event.Action": action
                }, acs.getMboxMeta(data), new tealiumTransform.SiteMapper(dataLayerHelper).filter(), new tealiumTransform.PageMapper(dataLayerHelper).filter(), new tealiumTransform.UserMapper(dataLayerHelper).filter());
                if (category == "ad") {
                    Object.assign(b, acs.getAdSlotData(data))
                }
                if (category == "content") {
                    Object.assign(b, acs.getContentData(data))
                }
                if (category == "homePage") {
                    Object.assign(b, acs.getContentData(data))
                }
                if (category == "brandedShop") {
                    Object.assign(b, acs.getContentData(data))
                }
                var stitchID = b["acs.StitchID"];
                if (stitchID || category == "empty") {
                    utag.link(b)
                } else {
                    utag.DB("ACS: trackEvent: No StitchID Found")
                }
            }
            acs.clickTracker = function(event) {
                function trackClick() {
                    acs.trackEvent("ad", "click", event)
                }
                var iframe = document.querySelector("#" + event.slot.getSlotElementId() + " iframe");
                if (iframe) {
                    focus();
                    function detectClick() {
                        if (document.activeElement === iframe) {
                            trackClick(event)
                        }
                        window.removeEventListener('blur', listener);
                    }
                    var listener = window.addEventListener('blur', detectClick, false);
                }
            }
            ;
        } catch (e) {
            console.log(e)
        }
    } catch (e) {
        console.log(e);
    }
}
if (!utag_condload) {
    try {
        try {
            window.acs = window.acs || {};
            window.acs.trackVideo = function(vid_data) {
                utag.DB(vid_data);
                var dataLayerHelper = new tealiumTransform.DataLayerHelper(wowDataLayer);
                var event_name = vid_data.event_name.toLowerCase();
                var b = Object.assign({
                    "tealium_event": "video_" + event_name,
                    "event.Category": "video",
                    "event.Action": event_name,
                    "acs.WowID": vid_data.wowId || "",
                    "acs.StitchID": vid_data.stitchId || "",
                    "video.Platform": "ACS",
                    "video.Name": vid_data.videoUrl,
                    "video.Playhead": "",
                    "video.ID": "",
                    "video.EventName": event_name,
                    "video.URL": vid_data.videoUrl,
                    "video.Length": vid_data.videoDuration,
                    "video.Type": vid_data.videoType,
                    "video.PreRollSkip": vid_data.prerollSkip
                }, new tealiumTransform.SiteMapper(dataLayerHelper).filter(), new tealiumTransform.PageMapper(dataLayerHelper).filter(), new tealiumTransform.UserMapper(dataLayerHelper).filter());
                if (vid_data.milestone) {
                    b["video.Milestone"] = vid_data.milestone
                }
                utag.link(b);
            }
            window.s7ComponentEvent = function(objID, compClass, instName, timeStamp, eventData) {
                var values = eventData.split(',');
                var vid_data = {}
                vid_data.event_name = values[0];
                vid_data.wowId = window.wowId;
                vid_data.stitchId = window.stitchId;
                vid_data.videoUrl = window.videoUrl;
                vid_data.videoDuration = window.videoDuration;
                vid_data.videoType = window.videoType;
                vid_data.prerollSkip = window.prerollSkip;
                switch (vid_data.event_name) {
                    case "PLAY":
                        break;
                    case "PAUSE":
                        window.acs.trackVideo(vid_data);
                        break;
                    case "STOP":
                        vid_data.event_name = "COMPLETE";
                        window.acs.trackVideo(vid_data);
                        break;
                    case "MILESTONE":
                        var track_milestones = [50, 90];
                        var milestone = parseInt(values[1]);
                        if (milestone === 0) {
                            vid_data.event_name = "START";
                            window.acs.trackVideo(vid_data);
                        } else if (track_milestones.indexOf(milestone) > -1) {
                            vid_data.event_name = vid_data.event_name + milestone;
                            vid_data.milestone = milestone;
                            window.acs.trackVideo(vid_data);
                        }
                        break;
                    default:
                        utag.DB("VIDEO: " + vid_data.event_name);
                        utag.DB(vid_data)
                }
            }
        } catch (e) {
            console.log(e)
        }
    } catch (e) {
        console.log(e);
    }
}
if (!utag_condload) {
    try {
        try {
            window.acs = window.acs || {};
            window.googletag = window.googletag || {};
            googletag.cmd = googletag.cmd || [];
            window.acs.loadGPT = function() {
                var gptSrc = "https://securepubads.g.doubleclick.net/tag/js/gpt.js";
                var gpt = document.querySelector("[src='" + gptSrc + "']");
                if (!gpt) {
                    utag.DB("ACS: loadGPT");
                    gpt = document.createElement("script");
                    gpt.async = true;
                    gpt.src = gptSrc;
                    document.head.appendChild(gpt);
                }
            }
            googletag.cmd.push(function() {
                function debugEvent(name, event) {
                    utag.DB("ACS: " + name + ": " + event.slot.getAdUnitPath() + " | #" + event.slot.getSlotElementId());
                }
                googletag.pubads().addEventListener('slotRequested', function(event) {
                    debugEvent("slotRequested", event);
                }).addEventListener('slotResponseReceived', function(event) {
                    debugEvent("slotResponseReceived", event);
                    if (!event.slot.getResponseInformation() && event.slot.passbackConfig) {
                        window.acs.passbackMbox(event.slot.passbackConfig.name, event.slot.passbackConfig.property);
                    }
                }).addEventListener('impressionViewable', function(event) {
                    if (event.slot.getResponseInformation()) {
                        debugEvent("impressionViewable", event);
                        window.acs.trackEvent("ad", "impression", event);
                    }
                }).addEventListener('slotRenderEnded', function(event) {
                    if (event.slot.getResponseInformation()) {
                        debugEvent("slotRenderEnded", event);
                        window.acs.clickTracker(event);
                    }
                });
                googletag.enableServices();
            });
            window.acs.getAdSlot = function(slotConfig) {
                utag.DB("ACS: getAdSlot: " + JSON.stringify(slotConfig));
                window.acs.loadGPT();
                var adSlots = window.acs.adSlots = window.acs.adSlots || {};
                var thisSlot = slotConfig.div.replace(/[^0-9A-Z]/gi, "");
                googletag.cmd.push(function() {
                    if (adSlots[thisSlot]) {
                        googletag.destroySlots([adSlots[thisSlot]]);
                        delete adSlots[thisSlot];
                    }
                    if (!slotConfig.size && slotConfig.sizeMapping) {
                        slotConfig.size = slotConfig.sizeMapping[0][slotConfig.sizeMapping[0].length - 1]
                    }
                    if (utag.data["user.ProfileID"]) {
                        var userProfileIdStr = utag.data["user.ProfileID"].toString();
                        var userProfileIdHash = utag.ut.sha256.SHA256(userProfileIdStr).toString();
                        adSlots[thisSlot] = googletag.defineSlot(slotConfig.adUnitPath, slotConfig.size, slotConfig.div).addService(googletag.pubads().setPublisherProvidedId(userProfileIdHash)).setCollapseEmptyDiv(true, true)
                    } else {
                        adSlots[thisSlot] = googletag.defineSlot(slotConfig.adUnitPath, slotConfig.size, slotConfig.div).addService(googletag.pubads()).setCollapseEmptyDiv(true, true)
                    }
                    if (slotConfig.sizeMapping) {
                        adSlots[thisSlot].defineSizeMapping(slotConfig.sizeMapping)
                    }
                    adSlots[thisSlot].passbackConfig = slotConfig.passbackConfig;
                    adSlots[thisSlot].updateTargetingFromMap(slotConfig.targetingMap || {});
                    googletag.display(adSlots[thisSlot]);
                });
            }
            ;
            window.acs.passbackMbox = function(mboxName, atProperty) {
                adobe.target.getOffer({
                    "mbox": mboxName,
                    "params": {
                        "at_property": atProperty,
                        "passback": "1"
                    },
                    "success": function(offer) {
                        adobe.target.applyOffer({
                            "mbox": mboxName,
                            "selector": "[data-mbox='" + mboxName + "']",
                            "offer": offer
                        })
                    },
                    "error": function(status, error) {
                        utag.DB(error)
                    }
                })
            }
            ;
        } catch (e) {
            console.log(e)
        }
    } catch (e) {
        console.log(e);
    }
}
if (typeof utag == "undefined" && !utag_condload) {
    var utag = {
        id: "woolworths.supermarkets",
        o: {},
        sender: {},
        send: {},
        rpt: {
            ts: {
                a: new Date()
            }
        },
        dbi: [],
        db_log: [],
        loader: {
            q: [],
            lc: 0,
            f: {},
            p: 0,
            ol: 0,
            wq: [],
            lq: [],
            bq: {},
            bk: {},
            rf: 0,
            ri: 0,
            rp: 0,
            rq: [],
            ready_q: [],
            sendq: {
                "pending": 0
            },
            run_ready_q: function() {
                for (var i = 0; i < utag.loader.ready_q.length; i++) {
                    utag.DB("READY_Q:" + i);
                    try {
                        utag.loader.ready_q[i]()
                    } catch (e) {
                        utag.DB(e)
                    }
                    ;
                }
            },
            lh: function(a, b, c) {
                a = "" + location.hostname;
                b = a.split(".");
                c = (/\.co\.|\.com\.|\.org\.|\.edu\.|\.net\.|\.asn\.|\...\.jp$/.test(a)) ? 3 : 2;
                return b.splice(b.length - c, c).join(".");
            },
            WQ: function(a, b, c, d, g) {
                utag.DB('WQ:' + utag.loader.wq.length);
                try {
                    if (utag.udoname && utag.udoname.indexOf(".") < 0) {
                        utag.ut.merge(utag.data, window[utag.udoname], 0);
                    }
                    if (utag.cfg.load_rules_at_wait) {
                        utag.handler.LR(utag.data);
                    }
                } catch (e) {
                    utag.DB(e)
                }
                ;d = 0;
                g = [];
                for (a = 0; a < utag.loader.wq.length; a++) {
                    b = utag.loader.wq[a];
                    b.load = utag.loader.cfg[b.id].load;
                    if (b.load == 4) {
                        this.f[b.id] = 0;
                        utag.loader.LOAD(b.id)
                    } else if (b.load > 0) {
                        g.push(b);
                        d++;
                    } else {
                        this.f[b.id] = 1;
                    }
                }
                for (a = 0; a < g.length; a++) {
                    utag.loader.AS(g[a]);
                }
                if (d == 0) {
                    utag.loader.END();
                }
            },
            AS: function(a, b, c, d) {
                utag.send[a.id] = a;
                if (typeof a.src == 'undefined' || !utag.ut.hasOwn(a, 'src')) {
                    a.src = utag.cfg.path + ((typeof a.name != 'undefined') ? a.name : 'ut' + 'ag.' + a.id + '.js')
                }
                a.src += (a.src.indexOf('?') > 0 ? '&' : '?') + 'utv=' + (a.v ? utag.cfg.template + a.v : utag.cfg.v);
                utag.rpt['l_' + a.id] = a.src;
                b = document;
                this.f[a.id] = 0;
                if (a.load == 2) {
                    utag.DB("Attach sync: " + a.src);
                    a.uid = a.id;
                    b.write('<script id="utag_' + a.id + '" src="' + a.src + '"></scr' + 'ipt>')
                    if (typeof a.cb != 'undefined')
                        a.cb();
                } else if (a.load == 1 || a.load == 3) {
                    if (b.createElement) {
                        c = 'utag_woolworths.supermarkets_' + a.id;
                        if (!b.getElementById(c)) {
                            d = {
                                src: a.src,
                                id: c,
                                uid: a.id,
                                loc: a.loc
                            }
                            if (a.load == 3) {
                                d.type = "iframe"
                            }
                            ;if (typeof a.cb != 'undefined')
                                d.cb = a.cb;
                            utag.ut.loader(d);
                        }
                    }
                }
            },
            GV: function(a, b, c) {
                b = {};
                for (c in a) {
                    if (a.hasOwnProperty(c) && typeof a[c] != "function")
                        b[c] = a[c];
                }
                return b
            },
            OU: function(tid, tcat, a, b, c, d, f, g) {
                g = {};
                utag.loader.RDcp(g);
                try {
                    if (typeof g['cp.OPTOUTMULTI'] != 'undefined') {
                        c = utag.loader.cfg;
                        a = utag.ut.decode(g['cp.OPTOUTMULTI']).split('|');
                        for (d = 0; d < a.length; d++) {
                            b = a[d].split(':');
                            if (b[1] * 1 !== 0) {
                                if (b[0].indexOf('c') == 0) {
                                    for (f in utag.loader.GV(c)) {
                                        if (c[f].tcat == b[0].substring(1))
                                            c[f].load = 0;
                                        if (c[f].tid == tid && c[f].tcat == b[0].substring(1))
                                            return true;
                                    }
                                    if (tcat == b[0].substring(1))
                                        return true;
                                } else if (b[0] * 1 == 0) {
                                    utag.cfg.nocookie = true
                                } else {
                                    for (f in utag.loader.GV(c)) {
                                        if (c[f].tid == b[0])
                                            c[f].load = 0
                                    }
                                    if (tid == b[0])
                                        return true;
                                }
                            }
                        }
                    }
                } catch (e) {
                    utag.DB(e)
                }
                return false;
            },
            RDdom: function(o) {
                var d = document || {}
                    , l = location || {};
                o["dom.referrer"] = d.referrer;
                o["dom.title"] = "" + d.title;
                o["dom.domain"] = "" + l.hostname;
                o["dom.query_string"] = ("" + l.search).substring(1);
                o["dom.hash"] = ("" + l.hash).substring(1);
                o["dom.url"] = "" + d.URL;
                o["dom.pathname"] = "" + l.pathname;
                o["dom.viewport_height"] = window.innerHeight || (d.documentElement ? d.documentElement.clientHeight : 960);
                o["dom.viewport_width"] = window.innerWidth || (d.documentElement ? d.documentElement.clientWidth : 960);
            },
            RDcp: function(o, b, c, d) {
                b = utag.loader.RC();
                for (d in b) {
                    if (d.match(/utag_(.*)/)) {
                        for (c in utag.loader.GV(b[d])) {
                            o["cp.utag_" + RegExp.$1 + "_" + c] = b[d][c];
                        }
                    }
                }
                for (c in utag.loader.GV((utag.cl && !utag.cl['_all_']) ? utag.cl : b)) {
                    if (c.indexOf("utag_") < 0 && typeof b[c] != "undefined")
                        o["cp." + c] = b[c];
                }
            },
            RDqp: function(o, a, b, c) {
                a = location.search + (location.hash + '').replace("#", "&");
                if (utag.cfg.lowerqp) {
                    a = a.toLowerCase()
                }
                ;if (a.length > 1) {
                    b = a.substring(1).split('&');
                    for (a = 0; a < b.length; a++) {
                        c = b[a].split("=");
                        if (c.length > 1) {
                            o["qp." + c[0]] = utag.ut.decode(c[1])
                        }
                    }
                }
            },
            RDmeta: function(o, a, b, h) {
                a = document.getElementsByTagName("meta");
                for (b = 0; b < a.length; b++) {
                    try {
                        h = a[b].name || a[b].getAttribute("property") || "";
                    } catch (e) {
                        h = "";
                        utag.DB(e)
                    }
                    ;if (utag.cfg.lowermeta) {
                        h = h.toLowerCase()
                    }
                    ;if (h != "") {
                        o["meta." + h] = a[b].content
                    }
                }
            },
            RDva: function(o) {
                var readAttr = function(o, l) {
                    var a = "", b;
                    a = localStorage.getItem(l);
                    if (!a || a == "{}")
                        return;
                    b = utag.ut.flatten({
                        va: JSON.parse(a)
                    });
                    utag.ut.merge(o, b, 1);
                }
                try {
                    readAttr(o, "tealium_va");
                    readAttr(o, "tealium_va_" + o["ut.account"] + "_" + o["ut.profile"]);
                } catch (e) {
                    utag.DB(e)
                }
            },
            RDut: function(o, a) {
                var t = {};
                var d = new Date();
                var m = (utag.ut.typeOf(d.toISOString) == "function");
                o["ut.domain"] = utag.cfg.domain;
                o["ut.version"] = utag.cfg.v;
                t["tealium_event"] = o["ut.event"] = a || "view";
                t["tealium_visitor_id"] = o["ut.visitor_id"] = o["cp.utag_main_v_id"];
                t["tealium_session_id"] = o["ut.session_id"] = o["cp.utag_main_ses_id"];
                t["tealium_session_number"] = o["cp.utag_main__sn"];
                t["tealium_session_event_number"] = o["cp.utag_main__se"];
                try {
                    t["tealium_datasource"] = utag.cfg.datasource;
                    t["tealium_account"] = o["ut.account"] = utag.cfg.utid.split("/")[0];
                    t["tealium_profile"] = o["ut.profile"] = utag.cfg.utid.split("/")[1];
                    t["tealium_environment"] = o["ut.env"] = utag.cfg.path.split("/")[6];
                } catch (e) {
                    utag.DB(e)
                }
                t["tealium_random"] = Math.random().toFixed(16).substring(2);
                t["tealium_library_name"] = "ut" + "ag.js";
                t["tealium_library_version"] = (utag.cfg.template + "0").substring(2);
                t["tealium_timestamp_epoch"] = Math.floor(d.getTime() / 1000);
                t["tealium_timestamp_utc"] = (m ? d.toISOString() : "");
                d.setHours(d.getHours() - (d.getTimezoneOffset() / 60));
                t["tealium_timestamp_local"] = (m ? d.toISOString().replace("Z", "") : "");
                utag.ut.merge(o, t, 0);
            },
            RDses: function(o, a, c) {
                a = (new Date()).getTime();
                c = (a + parseInt(utag.cfg.session_timeout)) + "";
                if (!o["cp.utag_main_ses_id"]) {
                    o["cp.utag_main_ses_id"] = a + "";
                    o["cp.utag_main__ss"] = "1";
                    o["cp.utag_main__se"] = "1";
                    o["cp.utag_main__sn"] = (1 + parseInt(o["cp.utag_main__sn"] || 0)) + "";
                } else {
                    o["cp.utag_main__ss"] = "0";
                    o["cp.utag_main__se"] = (1 + parseInt(o["cp.utag_main__se"] || 0)) + "";
                }
                o["cp.utag_main__pn"] = o["cp.utag_main__pn"] || "1";
                o["cp.utag_main__st"] = c;
                utag.loader.SC("utag_main", {
                    "_sn": (o["cp.utag_main__sn"] || 1),
                    "_se": o["cp.utag_main__se"],
                    "_ss": o["cp.utag_main__ss"],
                    "_st": c,
                    "ses_id": (o["cp.utag_main_ses_id"] || a) + ";exp-session",
                    "_pn": o["cp.utag_main__pn"] + ";exp-session"
                });
            },
            RDpv: function(o) {
                if (typeof utag.pagevars == "function") {
                    utag.DB("Read page variables");
                    utag.pagevars(o);
                }
            },
            RD: function(o, a) {
                utag.DB("utag.loader.RD");
                utag.DB(o);
                utag.loader.RDcp(o);
                if (!utag.loader.rd_flag) {
                    utag.loader.rd_flag = 1;
                    o["cp.utag_main_v_id"] = o["cp.utag_main_v_id"] || utag.ut.vi((new Date()).getTime());
                    o["cp.utag_main__pn"] = (1 + parseInt(o["cp.utag_main__pn"] || 0)) + "";
                    utag.loader.SC("utag_main", {
                        "v_id": o["cp.utag_main_v_id"]
                    });
                    utag.loader.RDses(o);
                }
                if (a && !utag.cfg.noview)
                    utag.loader.RDses(o);
                utag.loader.RDqp(o);
                utag.loader.RDmeta(o);
                utag.loader.RDdom(o);
                utag.loader.RDut(o, a || "view");
                utag.loader.RDpv(o);
                utag.loader.RDva(o);
            },
            RC: function(a, x, b, c, d, e, f, g, h, i, j, k, l, m, n, o, v, ck, cv, r, s, t) {
                o = {};
                b = ("" + document.cookie != "") ? (document.cookie).split("; ") : [];
                r = /^(.*?)=(.*)$/;
                s = /^(.*);exp-(.*)$/;
                t = (new Date()).getTime();
                for (c = 0; c < b.length; c++) {
                    if (b[c].match(r)) {
                        ck = RegExp.$1;
                        cv = RegExp.$2;
                    }
                    e = utag.ut.decode(cv);
                    if (typeof ck != "undefined") {
                        if (ck.indexOf("ulog") == 0 || ck.indexOf("utag_") == 0) {
                            e = cv.split("$");
                            g = [];
                            j = {};
                            for (f = 0; f < e.length; f++) {
                                try {
                                    g = e[f].split(":");
                                    if (g.length > 2) {
                                        g[1] = g.slice(1).join(":");
                                    }
                                    v = "";
                                    if (("" + g[1]).indexOf("~") == 0) {
                                        h = g[1].substring(1).split("|");
                                        for (i = 0; i < h.length; i++)
                                            h[i] = utag.ut.decode(h[i]);
                                        v = h
                                    } else
                                        v = utag.ut.decode(g[1]);
                                    j[g[0]] = v;
                                } catch (er) {
                                    utag.DB(er)
                                }
                                ;
                            }
                            o[ck] = {};
                            for (f in utag.loader.GV(j)) {
                                if (utag.ut.typeOf(j[f]) == "array") {
                                    n = [];
                                    for (m = 0; m < j[f].length; m++) {
                                        if (j[f][m].match(s)) {
                                            k = (RegExp.$2 == "session") ? (typeof j._st != "undefined" ? j._st : t - 1) : parseInt(RegExp.$2);
                                            if (k > t)
                                                n[m] = (x == 0) ? j[f][m] : RegExp.$1;
                                        }
                                    }
                                    j[f] = n.join("|");
                                } else {
                                    j[f] = "" + j[f];
                                    if (j[f].match(s)) {
                                        k = (RegExp.$2 == "session") ? (typeof j._st != "undefined" ? j._st : t - 1) : parseInt(RegExp.$2);
                                        j[f] = (k < t) ? null : (x == 0 ? j[f] : RegExp.$1);
                                    }
                                }
                                if (j[f])
                                    o[ck][f] = j[f];
                            }
                        } else if (utag.cl[ck] || utag.cl['_all_']) {
                            o[ck] = e
                        }
                    }
                }
                return (a) ? (o[a] ? o[a] : {}) : o;
            },
            SC: function(a, b, c, d, e, f, g, h, i, j, k, x, v) {
                if (!a)
                    return 0;
                if (a == "utag_main" && utag.cfg.nocookie)
                    return 0;
                v = "";
                var date = new Date();
                var exp = new Date();
                exp.setTime(date.getTime() + (365 * 24 * 60 * 60 * 1000));
                x = exp.toGMTString();
                if (c && c == "da") {
                    x = "Thu, 31 Dec 2009 00:00:00 GMT";
                } else if (a.indexOf("utag_") != 0 && a.indexOf("ulog") != 0) {
                    if (typeof b != "object") {
                        v = b
                    }
                } else {
                    d = utag.loader.RC(a, 0);
                    for (e in utag.loader.GV(b)) {
                        f = "" + b[e];
                        if (f.match(/^(.*);exp-(\d+)(\w)$/)) {
                            g = date.getTime() + parseInt(RegExp.$2) * ((RegExp.$3 == "h") ? 3600000 : 86400000);
                            if (RegExp.$3 == "u")
                                g = parseInt(RegExp.$2);
                            f = RegExp.$1 + ";exp-" + g;
                        }
                        if (c == "i") {
                            if (d[e] == null)
                                d[e] = f;
                        } else if (c == "d")
                            delete d[e];
                        else if (c == "a")
                            d[e] = (d[e] != null) ? (f - 0) + (d[e] - 0) : f;
                        else if (c == "ap" || c == "au") {
                            if (d[e] == null)
                                d[e] = f;
                            else {
                                if (d[e].indexOf("|") > 0) {
                                    d[e] = d[e].split("|")
                                }
                                g = (utag.ut.typeOf(d[e]) == "array") ? d[e] : [d[e]];
                                g.push(f);
                                if (c == "au") {
                                    h = {};
                                    k = {};
                                    for (i = 0; i < g.length; i++) {
                                        if (g[i].match(/^(.*);exp-(.*)$/)) {
                                            j = RegExp.$1;
                                        }
                                        if (typeof k[j] == "undefined") {
                                            k[j] = 1;
                                            h[g[i]] = 1;
                                        }
                                    }
                                    g = [];
                                    for (i in utag.loader.GV(h)) {
                                        g.push(i);
                                    }
                                }
                                d[e] = g
                            }
                        } else
                            d[e] = f;
                    }
                    h = new Array();
                    for (g in utag.loader.GV(d)) {
                        if (utag.ut.typeOf(d[g]) == "array") {
                            for (c = 0; c < d[g].length; c++) {
                                d[g][c] = encodeURIComponent(d[g][c])
                            }
                            h.push(g + ":~" + d[g].join("|"))
                        } else
                            h.push((g + ":").replace(/[\,\$\;\?]/g, "") + encodeURIComponent(d[g]))
                    }
                    if (h.length == 0) {
                        h.push("");
                        x = ""
                    }
                    v = (h.join("$"));
                }
                document.cookie = a + "=" + v + ";path=/;domain=" + utag.cfg.domain + ";expires=" + x + (utag.cfg.secure_cookie ? ";secure" : "");
                return 1
            },
            LOAD: function(a, b, c, d) {
                if (!utag.loader.cfg) {
                    return
                }
                if (this.ol == 0) {
                    if (utag.loader.cfg[a].block && utag.loader.cfg[a].cbf) {
                        this.f[a] = 1;
                        delete utag.loader.bq[a];
                    }
                    for (b in utag.loader.GV(utag.loader.bq)) {
                        if (utag.loader.cfg[a].load == 4 && utag.loader.cfg[a].wait == 0) {
                            utag.loader.bk[a] = 1;
                            utag.DB("blocked: " + a);
                        }
                        utag.DB("blocking: " + b);
                        return;
                    }
                    utag.loader.INIT();
                    return;
                }
                utag.DB('utag.loader.LOAD:' + a);
                if (this.f[a] == 0) {
                    this.f[a] = 1;
                    if (utag.cfg.noview != true) {
                        if (utag.loader.cfg[a].send) {
                            utag.DB("SENDING: " + a);
                            try {
                                if (utag.loader.sendq.pending > 0 && utag.loader.sendq[a]) {
                                    utag.DB("utag.loader.LOAD:sendq: " + a);
                                    while (d = utag.loader.sendq[a].shift()) {
                                        utag.DB(d);
                                        utag.sender[a].send(d.event, utag.handler.C(d.data));
                                        utag.loader.sendq.pending--;
                                    }
                                } else {
                                    utag.sender[a].send('view', utag.handler.C(utag.data));
                                }
                                utag.rpt['s_' + a] = 0;
                            } catch (e) {
                                utag.DB(e);
                                utag.rpt['s_' + a] = 1;
                            }
                        }
                    }
                    if (utag.loader.rf == 0)
                        return;
                    for (b in utag.loader.GV(this.f)) {
                        if (this.f[b] == 0 || this.f[b] == 2)
                            return
                    }
                    utag.loader.END();
                }
            },
            EV: function(a, b, c, d) {
                if (b == "ready") {
                    if (!utag.data) {
                        try {
                            utag.cl = {
                                '_all_': 1
                            };
                            utag.loader.initdata();
                            utag.loader.RD(utag.data);
                        } catch (e) {
                            utag.DB(e)
                        }
                        ;
                    }
                    if ((document.attachEvent || utag.cfg.dom_complete) ? document.readyState === "complete" : document.readyState !== "loading")
                        setTimeout(c, 1);
                    else {
                        utag.loader.ready_q.push(c);
                        var RH;
                        if (utag.loader.ready_q.length <= 1) {
                            if (document.addEventListener) {
                                RH = function() {
                                    document.removeEventListener("DOMContentLoaded", RH, false);
                                    utag.loader.run_ready_q()
                                }
                                ;
                                if (!utag.cfg.dom_complete)
                                    document.addEventListener("DOMContentLoaded", RH, false);
                                window.addEventListener("load", utag.loader.run_ready_q, false);
                            } else if (document.attachEvent) {
                                RH = function() {
                                    if (document.readyState === "complete") {
                                        document.detachEvent("onreadystatechange", RH);
                                        utag.loader.run_ready_q()
                                    }
                                }
                                ;
                                document.attachEvent("onreadystatechange", RH);
                                window.attachEvent("onload", utag.loader.run_ready_q);
                            }
                        }
                    }
                } else {
                    if (a.addEventListener) {
                        a.addEventListener(b, c, false)
                    } else if (a.attachEvent) {
                        a.attachEvent(((d == 1) ? "" : "on") + b, c)
                    }
                }
            },
            END: function(b, c, d, e, v, w) {
                if (this.ended) {
                    return
                }
                ;this.ended = 1;
                utag.DB("loader.END");
                b = utag.data;
                if (utag.handler.base && utag.handler.base != '*') {
                    e = utag.handler.base.split(",");
                    for (d = 0; d < e.length; d++) {
                        if (typeof b[e[d]] != "undefined")
                            utag.handler.df[e[d]] = b[e[d]]
                    }
                } else if (utag.handler.base == '*') {
                    utag.ut.merge(utag.handler.df, b, 1);
                }
                utag.rpt['r_0'] = "t";
                for (var r in utag.loader.GV(utag.cond)) {
                    utag.rpt['r_' + r] = (utag.cond[r]) ? "t" : "f";
                }
                utag.rpt.ts['s'] = new Date();
                (function(a, b, c, l) {
                        if (typeof utag_err != 'undefined' && utag_err.length > 0) {
                            a = '//uconnect.tealiumiq.com/ulog/_error?utid=' + utag.cfg.utid;
                            l = utag_err.length > 5 ? 5 : utag_err.length;
                            for (b = 0; b < l; b++) {
                                c = utag_err[b];
                                a += '&e' + b + '=' + encodeURIComponent(c.t + '::' + c.l + '::' + c.s + '::' + c.e);
                            }
                            utag.dbi.push((new Image()).src = a);
                        }
                    }
                )();
                v = utag.cfg.path;
                w = v.indexOf(".tiqcdn.");
                if (w > 0 && b["cp.utag_main__ss"] == 1 && !utag.cfg.no_session_count)
                    utag.ut.loader({
                        src: v.substring(0, v.indexOf("/ut" + "ag/") + 6) + "tiqapp/ut" + "ag.v.js?a=" + utag.cfg.utid + (utag.cfg.nocookie ? "&nocookie=1" : "&cb=" + (new Date).getTime()),
                        id: "tiqapp"
                    })
                if (utag.cfg.noview != true)
                    utag.handler.RE('view', b, "end");
                utag.handler.INIT();
            }
        },
        DB: function(a, b) {
            if (utag.cfg.utagdb === false) {
                return;
            } else if (typeof utag.cfg.utagdb == "undefined") {
                b = document.cookie + '';
                utag.cfg.utagdb = ((b.indexOf('utagdb=true') >= 0) ? true : false);
            }
            if (utag.cfg.utagdb === true) {
                var t;
                if (utag.ut.typeOf(a) == "object") {
                    t = utag.handler.C(a)
                } else {
                    t = a
                }
                utag.db_log.push(t);
                try {
                    if (!utag.cfg.noconsole) {
                        try {
                            console.log("%cTealium%c", "color:#ffffff;font-weight:bold;padding:1px 5px;background-color:#147FC1; border-radius:4px;border:1px solid #333;", null, t)
                        } catch (ex) {
                            console.log(t)
                        }
                    }
                } catch (e) {}
            }
        },
        RP: function(a, b, c) {
            if (typeof a != 'undefined' && typeof a.src != 'undefined' && a.src != '') {
                b = [];
                for (c in utag.loader.GV(a)) {
                    if (c != 'src')
                        b.push(c + '=' + escape(a[c]))
                }
                this.dbi.push((new Image()).src = a.src + '?utv=' + utag.cfg.v + '&utid=' + utag.cfg.utid + '&' + (b.join('&')))
            }
        },
        view: function(a, c, d) {
            return this.track({
                event: 'view',
                data: a || {},
                cfg: {
                    cb: c,
                    uids: d
                }
            })
        },
        link: function(a, c, d) {
            return this.track({
                event: 'link',
                data: a || {},
                cfg: {
                    cb: c,
                    uids: d
                }
            })
        },
        track: function(a, b, c, d, e) {
            a = a || {};
            if (typeof a == "string") {
                a = {
                    event: a,
                    data: b || {},
                    cfg: {
                        cb: c,
                        uids: d
                    }
                }
            }
            for (e in utag.loader.GV(utag.o)) {
                utag.o[e].handler.trigger(a.event || "view", a.data || a, a.cfg || {
                    cb: b,
                    uids: c
                })
            }
            a.cfg = a.cfg || {
                cb: b
            };
            if (typeof a.cfg.cb == "function")
                a.cfg.cb();
            return true
        },
        handler: {
            base: "",
            df: {},
            o: {},
            send: {},
            iflag: 0,
            INIT: function(a, b, c) {
                utag.DB('utag.handler.INIT');
                if (utag.initcatch) {
                    utag.initcatch = 0;
                    return
                }
                this.iflag = 1;
                a = utag.loader.q.length;
                if (a > 0) {
                    utag.DB("Loader queue");
                    for (b = 0; b < a; b++) {
                        c = utag.loader.q[b];
                        utag.handler.trigger(c.a, c.b, c.c)
                    }
                }
            },
            test: function() {
                return 1
            },
            LR: function(b) {
                utag.DB("Load Rules");
                for (var d in utag.loader.GV(utag.cond)) {
                    utag.cond[d] = false;
                }
                utag.DB(b);
                utag.loader.loadrules(b);
                utag.DB(utag.cond);
                utag.loader.initcfg();
                utag.loader.OU();
                for (var r in utag.loader.GV(utag.cond)) {
                    utag.rpt['r_' + r] = (utag.cond[r]) ? "t" : "f";
                }
            },
            RE: function(a, b, c, d, e, f, g) {
                if (c != "alr" && !this.cfg_extend) {
                    return 0;
                }
                utag.DB("RE: " + c);
                if (c == "alr")
                    utag.DB("All Tags EXTENSIONS");
                utag.DB(b);
                if (typeof this.extend != "undefined") {
                    g = 0;
                    for (d = 0; d < this.extend.length; d++) {
                        try {
                            e = 0;
                            if (typeof this.cfg_extend != "undefined") {
                                f = this.cfg_extend[d];
                                if (typeof f.count == "undefined")
                                    f.count = 0;
                                if (f[a] == 0 || (f.once == 1 && f.count > 0) || f[c] == 0) {
                                    e = 1
                                } else {
                                    if (f[c] == 1) {
                                        g = 1
                                    }
                                    ;f.count++
                                }
                            }
                            if (e != 1) {
                                this.extend[d](a, b);
                                utag.rpt['ex_' + d] = 0
                            }
                        } catch (er) {
                            utag.DB(er);
                            utag.rpt['ex_' + d] = 1;
                            utag.ut.error({
                                e: er.message,
                                s: utag.cfg.path + 'utag.js',
                                l: d,
                                t: 'ge'
                            });
                        }
                    }
                    utag.DB(b);
                    return g;
                }
            },
            trigger: function(a, b, c, d, e, f) {
                utag.DB('trigger:' + a + (c && c.uids ? ":" + c.uids.join(",") : ""));
                b = b || {};
                utag.DB(b);
                if (!this.iflag) {
                    utag.DB("trigger:called before tags loaded");
                    for (d in utag.loader.f) {
                        if (!(utag.loader.f[d] === 1))
                            utag.DB('Tag ' + d + ' did not LOAD')
                    }
                    utag.loader.q.push({
                        a: a,
                        b: utag.handler.C(b),
                        c: c
                    });
                    return;
                }
                utag.ut.merge(b, this.df, 0);
                utag.loader.RD(b, a);
                utag.cfg.noview = false;
                function sendTag(a, b, d) {
                    try {
                        if (typeof utag.sender[d] != "undefined") {
                            utag.DB("SENDING: " + d);
                            utag.sender[d].send(a, utag.handler.C(b));
                            utag.rpt['s_' + d] = 0;
                        } else if (utag.loader.cfg[d].load != 2) {
                            utag.loader.sendq[d] = utag.loader.sendq[d] || [];
                            utag.loader.sendq[d].push({
                                "event": a,
                                "data": utag.handler.C(b)
                            });
                            utag.loader.sendq.pending++;
                            utag.loader.AS({
                                id: d,
                                load: 1
                            });
                        }
                    } catch (e) {
                        utag.DB(e)
                    }
                }
                if (c && c.uids) {
                    this.RE(a, b, "alr");
                    for (f = 0; f < c.uids.length; f++) {
                        d = c.uids[f];
                        if (!utag.loader.OU(utag.loader.cfg[d].tid)) {
                            sendTag(a, b, d);
                        }
                    }
                } else if (utag.cfg.load_rules_ajax) {
                    this.RE(a, b, "blr");
                    this.LR(b);
                    this.RE(a, b, "alr");
                    for (f = 0; f < utag.loader.cfgsort.length; f++) {
                        d = utag.loader.cfgsort[f];
                        if (utag.loader.cfg[d].load && utag.loader.cfg[d].send) {
                            sendTag(a, b, d);
                        }
                    }
                } else {
                    this.RE(a, b, "alr");
                    for (d in utag.loader.GV(utag.sender)) {
                        sendTag(a, b, d);
                    }
                }
                this.RE(a, b, "end");
            },
            C: function(a, b, c) {
                b = {};
                for (c in utag.loader.GV(a)) {
                    if (utag.ut.typeOf(a[c]) == "array") {
                        b[c] = a[c].slice(0)
                    } else {
                        b[c] = a[c]
                    }
                }
                return b
            }
        },
        ut: {
            pad: function(a, b, c, d) {
                a = "" + ((a - 0).toString(16));
                d = '';
                if (b > a.length) {
                    for (c = 0; c < (b - a.length); c++) {
                        d += '0'
                    }
                }
                return "" + d + a
            },
            vi: function(t, a, b) {
                if (!utag.v_id) {
                    a = this.pad(t, 12);
                    b = "" + Math.random();
                    a += this.pad(b.substring(2, b.length), 16);
                    try {
                        a += this.pad((navigator.plugins.length ? navigator.plugins.length : 0), 2);
                        a += this.pad(navigator.userAgent.length, 3);
                        a += this.pad(document.URL.length, 4);
                        a += this.pad(navigator.appVersion.length, 3);
                        a += this.pad(screen.width + screen.height + parseInt((screen.colorDepth) ? screen.colorDepth : screen.pixelDepth), 5)
                    } catch (e) {
                        utag.DB(e);
                        a += "12345"
                    }
                    ;utag.v_id = a;
                }
                return utag.v_id
            },
            hasOwn: function(o, a) {
                return o != null && Object.prototype.hasOwnProperty.call(o, a)
            },
            isEmptyObject: function(o, a) {
                for (a in o) {
                    if (utag.ut.hasOwn(o, a))
                        return false
                }
                return true
            },
            isEmpty: function(o) {
                var t = utag.ut.typeOf(o);
                if (t == "number") {
                    return isNaN(o)
                } else if (t == "boolean") {
                    return false
                } else if (t == "string") {
                    return o.length === 0
                } else
                    return utag.ut.isEmptyObject(o)
            },
            typeOf: function(e) {
                return ({}).toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase();
            },
            flatten: function(o) {
                var a = {};
                function r(c, p) {
                    if (Object(c) !== c || utag.ut.typeOf(c) == "array") {
                        a[p] = c;
                    } else {
                        if (utag.ut.isEmptyObject(c)) {} else {
                            for (var d in c) {
                                r(c[d], p ? p + "." + d : d);
                            }
                        }
                    }
                }
                r(o, "");
                return a;
            },
            merge: function(a, b, c, d) {
                if (c) {
                    for (d in utag.loader.GV(b)) {
                        a[d] = b[d]
                    }
                } else {
                    for (d in utag.loader.GV(b)) {
                        if (typeof a[d] == "undefined")
                            a[d] = b[d]
                    }
                }
            },
            decode: function(a, b) {
                b = "";
                try {
                    b = decodeURIComponent(a)
                } catch (e) {
                    utag.DB(e)
                }
                ;if (b == "") {
                    b = unescape(a)
                }
                ;return b
            },
            encode: function(a, b) {
                b = "";
                try {
                    b = encodeURIComponent(a)
                } catch (e) {
                    utag.DB(e)
                }
                ;if (b == "") {
                    b = escape(a)
                }
                ;return b
            },
            error: function(a, b, c) {
                if (typeof utag_err != "undefined") {
                    utag_err.push(a)
                }
            },
            loader: function(o, a, b, c, l, m) {
                utag.DB(o);
                a = document;
                if (o.type == "iframe") {
                    m = a.getElementById(o.id);
                    if (m && m.tagName == "IFRAME") {
                        m.parentNode.removeChild(m);
                    }
                    b = a.createElement("iframe");
                    o.attrs = o.attrs || {};
                    utag.ut.merge(o.attrs, {
                        "height": "1",
                        "width": "1",
                        "style": "display:none"
                    }, 0);
                } else if (o.type == "img") {
                    utag.DB("Attach img: " + o.src);
                    b = new Image();
                } else {
                    b = a.createElement("script");
                    b.language = "javascript";
                    b.type = "text/javascript";
                    b.async = 1;
                    b.charset = "utf-8";
                }
                if (o.id) {
                    b.id = o.id
                }
                ;for (l in utag.loader.GV(o.attrs)) {
                    b.setAttribute(l, o.attrs[l])
                }
                b.setAttribute("src", o.src);
                if (typeof o.cb == "function") {
                    if (b.addEventListener) {
                        b.addEventListener("load", function() {
                            o.cb()
                        }, false);
                    } else {
                        b.onreadystatechange = function() {
                            if (this.readyState == 'complete' || this.readyState == 'loaded') {
                                this.onreadystatechange = null;
                                o.cb()
                            }
                        }
                        ;
                    }
                }
                if (typeof o.error == "function") {
                    utag.loader.EV(b, "error", o.error);
                }
                if (o.type != "img") {
                    l = o.loc || "head";
                    c = a.getElementsByTagName(l)[0];
                    if (c) {
                        utag.DB("Attach to " + l + ": " + o.src);
                        if (l == "script") {
                            c.parentNode.insertBefore(b, c);
                        } else {
                            c.appendChild(b)
                        }
                    }
                }
            }
        }
    };
    utag.o['woolworths.supermarkets'] = utag;
    utag.cfg = {
        template: "ut4.48.",
        load_rules_ajax: true,
        load_rules_at_wait: false,
        lowerqp: false,
        noconsole: false,
        session_timeout: 1800000,
        readywait: 0,
        noload: 0,
        domain: utag.loader.lh(),
        datasource: "##UTDATASOURCE##".replace("##" + "UTDATASOURCE##", ""),
        secure_cookie: ("##UTSECURECOOKIE##".replace("##" + "UTSECURECOOKIE##", "") === "true") ? true : false,
        path: "//tags.tiqcdn.com/utag/woolworths/supermarkets/prod/",
        utid: "woolworths/supermarkets/202302140103"
    };
    utag.cfg.v = utag.cfg.template + "202302140104";
    utag.cond = {
        105: 0,
        108: 0,
        109: 0,
        10: 0,
        110: 0,
        115: 0,
        29: 0,
        30: 0,
        31: 0,
        32: 0,
        33: 0,
        43: 0,
        47: 0,
        54: 0,
        55: 0,
        61: 0,
        66: 0,
        67: 0,
        68: 0,
        69: 0,
        70: 0,
        74: 0,
        75: 0,
        78: 0,
        81: 0,
        84: 0,
        89: 0,
        8: 0,
        93: 0
    };
    utag.pagevars = function(ud) {
        ud = ud || utag.data;
        try {
            ud['js_page.window.angular'] = window.angular
        } catch (e) {
            utag.DB(e)
        }
        ;try {
            ud['js_page.location.href'] = location.href
        } catch (e) {
            utag.DB(e)
        }
        ;try {
            ud['js_page.location.hostname'] = location.hostname
        } catch (e) {
            utag.DB(e)
        }
        ;try {
            ud['js_page.localStorage.mealPlannerNav'] = localStorage.mealPlannerNav
        } catch (e) {
            utag.DB(e)
        }
        ;try {
            ud['js_page.window.optimizeCallback'] = window.optimizeCallback
        } catch (e) {
            utag.DB(e)
        }
        ;
    }
    ;
    utag.loader.chkCanRunTime = function(s, e, d, t, o, i) {
        try {
            o = {
                is: [s, e],
                dt: [],
                tm: [],
                hd: 0,
                ms: 0
            };
            for (i = 0; i < 2; i++) {
                d = o.is[i].substring(0, 8);
                t = o.is[i].substring(8);
                o.dt[i] = new Date();
                if (d !== '--------') {
                    o.dt[i].setFullYear(d.substring(0, 4));
                    o.dt[i].setMonth(parseInt(d.substring(4, 6)) - 1);
                    o.dt[i].setDate(d.substring(6, 8));
                }
                if (t !== '----') {
                    o.dt[i].setHours(t.substring(0, 2));
                    o.dt[i].setMinutes(t.substring(2, 4));
                } else {
                    o.dt[i].setHours(o.hd);
                    o.dt[i].setMinutes(o.ms);
                }
                o.dt[i].setSeconds(o.ms);
                o.tm[i] = o.dt[i].getTime();
                o.hd = 23;
                o.ms = 59;
            }
            o.n = new Date().getTime();
            return (o.n >= o.tm[0] && o.n <= o.tm[1]);
        } catch (e) {
            return false;
        }
    }
    ;
    utag.loader.initdata = function() {
        try {
            utag.data = (typeof utag_data != 'undefined') ? utag_data : {};
            utag.udoname = 'utag_data';
        } catch (e) {
            utag.data = {};
            utag.DB('idf:' + e);
        }
    }
    ;
    utag.loader.loadrules = function(_pd, _pc) {
        var d = _pd || utag.data;
        var c = _pc || utag.cond;
        for (var l in utag.loader.GV(c)) {
            switch (l) {
                case '10':
                    try {
                        c[10] |= (d['ut.event'].toString().toLowerCase() == 'view'.toLowerCase() && typeof d['page.Type'] != 'undefined' && d['page.Type'].toString().toLowerCase() == 'order'.toLowerCase())
                    } catch (e) {
                        utag.DB(e)
                    }
                    ;break;
                case '105':
                    try {
                        c[105] |= (typeof d['branchEnabled'] != 'undefined' && d['branchEnabled'] == 'true')
                    } catch (e) {
                        utag.DB(e)
                    }
                    ;break;
                case '108':
                    try {
                        c[108] |= (typeof d['cp.fullstoryEnabled'] != 'undefined' && d['cp.fullstoryEnabled'].toString().toLowerCase() == 'true'.toLowerCase()) || (d['dom.query_string'].toString().indexOf('fullstoryEnabled=true') > -1)
                    } catch (e) {
                        utag.DB(e)
                    }
                    ;break;
                case '109':
                    try {
                        c[109] |= (d['ut.event'].toString().toLowerCase() == 'view'.toLowerCase() && typeof d['page.Name'] != 'undefined' && d['page.Name'].toString().toLowerCase() == 'ww-sm:shop:discover:shopping-online:my-business'.toLowerCase())
                    } catch (e) {
                        utag.DB(e)
                    }
                    ;break;
                case '110':
                    try {
                        c[110] |= (d['dom.domain'].toString().toLowerCase().indexOf('admin'.toLowerCase()) < 0)
                    } catch (e) {
                        utag.DB(e)
                    }
                    ;break;
                case '115':
                    try {
                        c[115] |= (d['ut.event'] == 'view' && typeof d['page.Name'] != 'undefined' && d['dom.url'].toString().indexOf('/shop/deliveryunlimited/confirmation') > -1)
                    } catch (e) {
                        utag.DB(e)
                    }
                    ;break;
                case '29':
                    try {
                        c[29] |= (typeof d['page.Type'] != 'undefined' && d['page.Type'] == 'order' && typeof d['order.NewExistingCustomer'] != 'undefined' && d['order.NewExistingCustomer'].toString().toLowerCase().indexOf('New'.toLowerCase()) > -1 && d['ut.event'].toString().toLowerCase() == 'view'.toLowerCase())
                    } catch (e) {
                        utag.DB(e)
                    }
                    ;break;
                case '30':
                    try {
                        c[30] |= (typeof d['page.Type'] != 'undefined' && d['page.Type'] == 'order' && d['user.SegmentType'].toString().indexOf('Business') > -1 && d['ut.event'].toString().toLowerCase() == 'view'.toLowerCase())
                    } catch (e) {
                        utag.DB(e)
                    }
                    ;break;
                case '31':
                    try {
                        c[31] |= (d['ut.event'] == 'view' && typeof d['page.Name'] != 'undefined')
                    } catch (e) {
                        utag.DB(e)
                    }
                    ;break;
                case '32':
                    try {
                        c[32] |= (typeof d['tealium_event'] != 'undefined' && typeof d['tealium_event'] != 'undefined' && d['tealium_event'] != '')
                    } catch (e) {
                        utag.DB(e)
                    }
                    ;break;
                case '33':
                    try {
                        c[33] |= (typeof d['tealium_event'] != 'undefined' && d['tealium_event'] == 'user_register' && d['user.SegmentType'].toString().indexOf('Business') > -1)
                    } catch (e) {
                        utag.DB(e)
                    }
                    ;break;
                case '43':
                    try {
                        c[43] |= (typeof d['order.ShippingMethod'] != 'undefined' && d['order.ShippingMethod'].toString().toLowerCase().indexOf('Express'.toLowerCase()) > -1)
                    } catch (e) {
                        utag.DB(e)
                    }
                    ;break;
                case '47':
                    try {
                        c[47] |= (d['ut.event'].toString().toLowerCase() == 'view'.toLowerCase())
                    } catch (e) {
                        utag.DB(e)
                    }
                    ;break;
                case '54':
                    try {
                        c[54] |= (d['ut.event'] == 'view' && d['dom.pathname'].toString().toLowerCase() != '/'.toLowerCase()) || (d['ut.event'] == 'view' && d['dom.pathname'].toString().toLowerCase() == '/'.toLowerCase() && parseFloat(d['visitor.PageViewCount']) > parseFloat(1))
                    } catch (e) {
                        utag.DB(e)
                    }
                    ;break;
                case '55':
                    try {
                        c[55] |= (d['collectEnabled'] == 'true')
                    } catch (e) {
                        utag.DB(e)
                    }
                    ;break;
                case '61':
                    try {
                        c[61] |= (d['dcCookieMatchEnablement'] == 'true')
                    } catch (e) {
                        utag.DB(e)
                    }
                    ;break;
                case '66':
                    try {
                        c[66] |= (d['ut.event'].toString().toLowerCase() == 'view'.toLowerCase() && typeof d['page.Type'] != 'undefined' && d['page.Type'].toString().toLowerCase() == 'catalogue'.toLowerCase())
                    } catch (e) {
                        utag.DB(e)
                    }
                    ;break;
                case '67':
                    try {
                        c[67] |= (typeof d['va.properties.6095'] != 'undefined' && d['va.properties.6095'] != '' && typeof d['va.properties.6097'] != 'undefined' && d['va.properties.6097'] != '' && typeof d['va.properties.6099'] != 'undefined' && d['va.properties.6099'] != '' && typeof d['va.properties.6101'] != 'undefined' && d['va.properties.6101'] != '' && typeof d['va.properties.6103'] != 'undefined' && d['va.properties.6103'] != '' && typeof d['va.properties.6105'] != 'undefined' && d['va.properties.6105'] != '' && typeof d['va.properties.6107'] != 'undefined' && d['va.properties.6107'] != '' && typeof d['va.properties.6109'] != 'undefined' && d['va.properties.6109'] != '' && typeof d['va.properties.6111'] != 'undefined' && d['va.properties.6111'] != '' && typeof d['va.properties.6113'] != 'undefined' && d['va.properties.6113'] != '' && typeof d['va.properties.6115'] != 'undefined' && d['va.properties.6115'] != '' && typeof d['va.properties.6117'] != 'undefined' && d['va.properties.6117'] != '' && typeof d['va.properties.5898'] != 'undefined' && d['va.properties.5898'] != '' && typeof d['va.properties.5818'] != 'undefined' && d['va.properties.5818'] != '' && parseFloat(d['visitor.PageViewCount']) <= parseFloat(1))
                    } catch (e) {
                        utag.DB(e)
                    }
                    ;break;
                case '68':
                    try {
                        c[68] |= (typeof d['page.Type'] != 'undefined' && d['page.Type'].toString().toLowerCase() == 'order'.toLowerCase()) || (typeof d['page.Type'] != 'undefined' && /productdetail$/i.test(d['page.Type']))
                    } catch (e) {
                        utag.DB(e)
                    }
                    ;break;
                case '69':
                    try {
                        c[69] |= (d['tealium_event'].toString().toLowerCase() == 'subscription'.toLowerCase()) || (d['dom.url'].toString().indexOf('/shop/deliveryunlimited/confirmation') > -1)
                    } catch (e) {
                        utag.DB(e)
                    }
                    ;break;
                case '70':
                    try {
                        c[70] |= (d['qp.amendReverted'] == '1') || (typeof d['event.Value'] != 'undefined' && d['event.Value'].toString().toLowerCase() == 'change_order_abort'.toLowerCase())
                    } catch (e) {
                        utag.DB(e)
                    }
                    ;break;
                case '74':
                    try {
                        c[74] |= (typeof d['order.ShippingMethod'] != 'undefined' && d['order.ShippingMethod'].toString().toLowerCase().indexOf('pick'.toLowerCase()) > -1) || (typeof d['order.ShippingMethod'] != 'undefined' && d['order.ShippingMethod'].toString().toLowerCase().indexOf('drive'.toLowerCase()) > -1)
                    } catch (e) {
                        utag.DB(e)
                    }
                    ;break;
                case '75':
                    try {
                        c[75] |= (typeof d['dom.pathname'] != 'undefined' && d['dom.pathname'].toString().toLowerCase() != '/'.toLowerCase())
                    } catch (e) {
                        utag.DB(e)
                    }
                    ;break;
                case '78':
                    try {
                        c[78] |= (d['googleUserIdExists'] == '0' && d['cp.utag_main__ss'] == '1')
                    } catch (e) {
                        utag.DB(e)
                    }
                    ;break;
                case '8':
                    try {
                        c[8] |= (d['tealium_event'] == 'cart_add')
                    } catch (e) {
                        utag.DB(e)
                    }
                    ;break;
                case '81':
                    try {
                        c[81] |= (d['ut.event'].toString().toLowerCase() == 'view'.toLowerCase() && /^\/shop\/page\/google-optimize/i.test(d['dom.pathname'])) || (d['ut.event'].toString().toLowerCase() == 'view'.toLowerCase() && /^\/shop\/shopping\//i.test(d['dom.pathname'])) || (d['ut.event'].toString().toLowerCase() == 'view'.toLowerCase() && /^\/shop\/productdetails\//i.test(d['dom.pathname'])) || (d['ut.event'].toString().indexOf('view') > -1 && /^\/shop\/discover\/shopping-online/i.test(d['dom.pathname']))
                    } catch (e) {
                        utag.DB(e)
                    }
                    ;break;
                case '84':
                    try {
                        c[84] |= (typeof d['event.Label'] != 'undefined' && d['event.Label'].toString().toLowerCase() == 'DSS: Cancel Subscription'.toLowerCase())
                    } catch (e) {
                        utag.DB(e)
                    }
                    ;break;
                case '89':
                    try {
                        c[89] |= (d['ut.event'].toString().toLowerCase() == 'view'.toLowerCase() && typeof d['visitor.PageViewCount'] != 'undefined' && parseFloat(d['visitor.PageViewCount']) <= parseFloat(1))
                    } catch (e) {
                        utag.DB(e)
                    }
                    ;break;
                case '93':
                    try {
                        c[93] |= (typeof d['page.Type'] != 'undefined' && d['page.Type'] == 'order' && typeof d['order.MarketSubTotal'] != 'undefined' && parseFloat(d['order.MarketSubTotal']) > parseFloat(0) && d['ut.event'].toString().toLowerCase() == 'view'.toLowerCase())
                    } catch (e) {
                        utag.DB(e)
                    }
                    ;break;
            }
        }
    }
    ;
    utag.pre = function() {
        utag.loader.initdata();
        utag.pagevars();
        try {
            utag.loader.RD(utag.data)
        } catch (e) {
            utag.DB(e)
        }
        ;utag.loader.loadrules();
    }
    ;
    utag.loader.GET = function() {
        utag.cl = {
            '_all_': 1
        };
        utag.pre();
        utag.handler.extend = [function(a, b) {
            try {
                utag.runonce = utag.runonce || {};
                utag.runonce.ext = utag.runonce.ext || {};
                if (typeof utag.runonce.ext[109] == 'undefined') {
                    utag.runonce.ext[109] = 1;
                    if (1) {
                        utag.delay_track = utag.track;
                        var delayTrack = false;
                        utag.track = function(a, b, c, d) {
                            var event = (typeof a === "string") ? a : a.event;
                            if (event == 'view' && !!delayTrack) {
                                var delay = 250;
                                setTimeout(function() {
                                    utag.DB("DELAY UTAG.TRACK: " + event + " : " + delay + "ms");
                                    utag.delay_track(a, b, c, d);
                                    delayTrack = true;
                                }, delay);
                                return;
                            }
                            utag.delay_track(a, b, c, d);
                            delayTrack = true;
                        }
                    }
                }
            } catch (e) {
                utag.DB(e)
            }
        }
            , function(a, b) {
                utag.ut.sha256 = function(t, n) {
                    var r;
                    if ("undefined" != typeof window && window.crypto && (r = window.crypto),
                    !r && "undefined" != typeof window && window.msCrypto && (r = window.msCrypto),
                    !r && "undefined" != typeof global && global.crypto && (r = global.crypto),
                    !r && "function" == typeof require)
                        try {
                            r = require("crypto")
                        } catch (t) {}
                    var e = function() {
                        if (r) {
                            if ("function" == typeof r.getRandomValues)
                                try {
                                    return r.getRandomValues(new Uint32Array(1))[0]
                                } catch (t) {}
                            if ("function" == typeof r.randomBytes)
                                try {
                                    return r.randomBytes(4).readInt32LE()
                                } catch (t) {}
                        }
                        throw new Error("Native crypto module could not be used to get secure random number.")
                    }
                        , i = Object.create || function() {
                        function t() {}
                        return function(n) {
                            var r;
                            return t.prototype = n,
                                r = new t,
                                t.prototype = null,
                                r
                        }
                    }()
                        , o = {}
                        , s = o.lib = {}
                        , a = s.Base = {
                        extend: function(t) {
                            var n = i(this);
                            return t && n.mixIn(t),
                            n.hasOwnProperty("init") && this.init !== n.init || (n.init = function() {
                                    n.$super.init.apply(this, arguments)
                                }
                            ),
                                n.init.prototype = n,
                                n.$super = this,
                                n
                        },
                        create: function() {
                            var t = this.extend();
                            return t.init.apply(t, arguments),
                                t
                        },
                        init: function() {},
                        mixIn: function(t) {
                            for (var n in t)
                                t.hasOwnProperty(n) && (this[n] = t[n]);
                            t.hasOwnProperty("toString") && (this.toString = t.toString)
                        },
                        clone: function() {
                            return this.init.prototype.extend(this)
                        }
                    }
                        , c = s.WordArray = a.extend({
                        init: function(t, n) {
                            t = this.words = t || [],
                                this.sigBytes = null != n ? n : 4 * t.length
                        },
                        toString: function(t) {
                            return (t || f).stringify(this)
                        },
                        concat: function(t) {
                            var n = this.words
                                , r = t.words
                                , e = this.sigBytes
                                , i = t.sigBytes;
                            if (this.clamp(),
                            e % 4)
                                for (var o = 0; o < i; o++) {
                                    var s = r[o >>> 2] >>> 24 - o % 4 * 8 & 255;
                                    n[e + o >>> 2] |= s << 24 - (e + o) % 4 * 8
                                }
                            else
                                for (o = 0; o < i; o += 4)
                                    n[e + o >>> 2] = r[o >>> 2];
                            return this.sigBytes += i,
                                this
                        },
                        clamp: function() {
                            var n = this.words
                                , r = this.sigBytes;
                            n[r >>> 2] &= 4294967295 << 32 - r % 4 * 8,
                                n.length = t.ceil(r / 4)
                        },
                        clone: function() {
                            var t = a.clone.call(this);
                            return t.words = this.words.slice(0),
                                t
                        },
                        random: function(t) {
                            for (var n = [], r = 0; r < t; r += 4)
                                n.push(e());
                            return new c.init(n,t)
                        }
                    })
                        , u = o.enc = {}
                        , f = u.Hex = {
                        stringify: function(t) {
                            for (var n = t.words, r = t.sigBytes, e = [], i = 0; i < r; i++) {
                                var o = n[i >>> 2] >>> 24 - i % 4 * 8 & 255;
                                e.push((o >>> 4).toString(16)),
                                    e.push((15 & o).toString(16))
                            }
                            return e.join("")
                        },
                        parse: function(t) {
                            for (var n = t.length, r = [], e = 0; e < n; e += 2)
                                r[e >>> 3] |= parseInt(t.substr(e, 2), 16) << 24 - e % 8 * 4;
                            return new c.init(r,n / 2)
                        }
                    }
                        , h = u.Latin1 = {
                        stringify: function(t) {
                            for (var n = t.words, r = t.sigBytes, e = [], i = 0; i < r; i++) {
                                var o = n[i >>> 2] >>> 24 - i % 4 * 8 & 255;
                                e.push(String.fromCharCode(o))
                            }
                            return e.join("")
                        },
                        parse: function(t) {
                            for (var n = t.length, r = [], e = 0; e < n; e++)
                                r[e >>> 2] |= (255 & t.charCodeAt(e)) << 24 - e % 4 * 8;
                            return new c.init(r,n)
                        }
                    }
                        , d = u.Utf8 = {
                        stringify: function(t) {
                            try {
                                return decodeURIComponent(escape(h.stringify(t)))
                            } catch (t) {
                                throw new Error("Malformed UTF-8 data")
                            }
                        },
                        parse: function(t) {
                            return h.parse(unescape(encodeURIComponent(t)))
                        }
                    }
                        , l = s.BufferedBlockAlgorithm = a.extend({
                        reset: function() {
                            this._data = new c.init,
                                this._nDataBytes = 0
                        },
                        _append: function(t) {
                            "string" == typeof t && (t = d.parse(t)),
                                this._data.concat(t),
                                this._nDataBytes += t.sigBytes
                        },
                        _process: function(n) {
                            var r, e = this._data, i = e.words, o = e.sigBytes, s = this.blockSize, a = o / (4 * s), u = (a = n ? t.ceil(a) : t.max((0 | a) - this._minBufferSize, 0)) * s, f = t.min(4 * u, o);
                            if (u) {
                                for (var h = 0; h < u; h += s)
                                    this._doProcessBlock(i, h);
                                r = i.splice(0, u),
                                    e.sigBytes -= f
                            }
                            return new c.init(r,f)
                        },
                        clone: function() {
                            var t = a.clone.call(this);
                            return t._data = this._data.clone(),
                                t
                        },
                        _minBufferSize: 0
                    })
                        , p = (s.Hasher = l.extend({
                        cfg: a.extend(),
                        init: function(t) {
                            this.cfg = this.cfg.extend(t),
                                this.reset()
                        },
                        reset: function() {
                            l.reset.call(this),
                                this._doReset()
                        },
                        update: function(t) {
                            return this._append(t),
                                this._process(),
                                this
                        },
                        finalize: function(t) {
                            return t && this._append(t),
                                this._doFinalize()
                        },
                        blockSize: 16,
                        _createHelper: function(t) {
                            return function(n, r) {
                                return new t.init(r).finalize(n)
                            }
                        },
                        _createHmacHelper: function(t) {
                            return function(n, r) {
                                return new p.HMAC.init(t,r).finalize(n)
                            }
                        }
                    }),
                        o.algo = {});
                    return o
                }(Math);
                !function(r) {
                    var t = utag.ut.sha256
                        , e = t.lib
                        , a = e.WordArray
                        , n = e.Hasher
                        , s = t.algo
                        , o = []
                        , i = [];
                    !function() {
                        function t(t) {
                            for (var e = r.sqrt(t), a = 2; a <= e; a++)
                                if (!(t % a))
                                    return !1;
                            return !0
                        }
                        function e(r) {
                            return 4294967296 * (r - (0 | r)) | 0
                        }
                        for (var a = 2, n = 0; n < 64; )
                            t(a) && (n < 8 && (o[n] = e(r.pow(a, .5))),
                                i[n] = e(r.pow(a, 1 / 3)),
                                n++),
                                a++
                    }();
                    var h = []
                        , c = s.SHA256 = n.extend({
                        _doReset: function() {
                            this._hash = new a.init(o.slice(0))
                        },
                        _doProcessBlock: function(r, t) {
                            for (var e = this._hash.words, a = e[0], n = e[1], s = e[2], o = e[3], c = e[4], l = e[5], u = e[6], f = e[7], _ = 0; _ < 64; _++) {
                                if (_ < 16)
                                    h[_] = 0 | r[t + _];
                                else {
                                    var v = h[_ - 15]
                                        , d = (v << 25 | v >>> 7) ^ (v << 14 | v >>> 18) ^ v >>> 3
                                        , H = h[_ - 2]
                                        , g = (H << 15 | H >>> 17) ^ (H << 13 | H >>> 19) ^ H >>> 10;
                                    h[_] = d + h[_ - 7] + g + h[_ - 16]
                                }
                                var p = a & n ^ a & s ^ n & s
                                    , w = (a << 30 | a >>> 2) ^ (a << 19 | a >>> 13) ^ (a << 10 | a >>> 22)
                                    , y = f + ((c << 26 | c >>> 6) ^ (c << 21 | c >>> 11) ^ (c << 7 | c >>> 25)) + (c & l ^ ~c & u) + i[_] + h[_];
                                f = u,
                                    u = l,
                                    l = c,
                                    c = o + y | 0,
                                    o = s,
                                    s = n,
                                    n = a,
                                    a = y + (w + p) | 0
                            }
                            e[0] = e[0] + a | 0,
                                e[1] = e[1] + n | 0,
                                e[2] = e[2] + s | 0,
                                e[3] = e[3] + o | 0,
                                e[4] = e[4] + c | 0,
                                e[5] = e[5] + l | 0,
                                e[6] = e[6] + u | 0,
                                e[7] = e[7] + f | 0
                        },
                        _doFinalize: function() {
                            var t = this._data
                                , e = t.words
                                , a = 8 * this._nDataBytes
                                , n = 8 * t.sigBytes;
                            return e[n >>> 5] |= 128 << 24 - n % 32,
                                e[14 + (n + 64 >>> 9 << 4)] = r.floor(a / 4294967296),
                                e[15 + (n + 64 >>> 9 << 4)] = a,
                                t.sigBytes = 4 * e.length,
                                this._process(),
                                this._hash
                        },
                        clone: function() {
                            var r = n.clone.call(this);
                            return r._hash = this._hash.clone(),
                                r
                        }
                    });
                    t.SHA256 = n._createHelper(c),
                        t.HmacSHA256 = n._createHmacHelper(c)
                }(Math);
            }
            , function(a, b) {
                try {
                    utag.runonce = utag.runonce || {};
                    utag.runonce.ext = utag.runonce.ext || {};
                    if (typeof utag.runonce.ext[834] == 'undefined') {
                        utag.runonce.ext[834] = 1;
                        if (1) {
                            function createWashedLocation(url) {
                                var washedURL = url;
                                var u = new URL(url);
                                u.searchParams.forEach(function(v, key) {
                                    var washParam = false;
                                    var blackList = ["Email", "EmailAddress", "Password", "FirstName", "LastName", "DateOfBirth", "MobilePhone", "EdrNumber", "EdrPassword", "Address"];
                                    for (var w = 0; w < blackList.length; w++) {
                                        if (key.match(new RegExp(blackList[w],"i"))) {
                                            washParam = true
                                        }
                                    }
                                    if (v.match(/@|^04/)) {
                                        washParam = true
                                    }
                                    if (washParam) {
                                        var dirty = v;
                                        var washed = dirty.replace(/[A-Z]/gi, "x").replace(/[0-9]/gi, "0");
                                        washedURL = washedURL.replace(key + "=" + dirty, key + "=" + washed).replace(key + "=" + encodeURIComponent(dirty), key + "=" + washed);
                                    }
                                });
                                return washedURL ? new URL(washedURL) : "";
                            }
                            utag.loader.RDdom = function(o) {
                                var d = document || {};
                                var l = createWashedLocation(location.href) || location || {};
                                o["dom.referrer"] = d.referrer;
                                o["dom.title"] = "" + d.title;
                                o["dom.domain"] = "" + l.hostname;
                                o["dom.query_string"] = ("" + l.search).substring(1);
                                o["dom.hash"] = ("" + l.hash).substring(1);
                                o["dom.url"] = "" + l.href;
                                o["dom.pathname"] = "" + l.pathname;
                                o["dom.viewport_height"] = window.innerHeight || (d.documentElement ? d.documentElement.clientHeight : 960);
                                o["dom.viewport_width"] = window.innerWidth || (d.documentElement ? d.documentElement.clientWidth : 960);
                            }
                        }
                    }
                } catch (e) {
                    utag.DB(e)
                }
            }
            , function(a, b) {
                try {
                    if ((b['ut.event'].toString().toLowerCase() == 'view'.toLowerCase() && b['tealium_event'].toString().toLowerCase() != 'mbox_available'.toLowerCase() && b['dom.pathname'].toString().toLowerCase() != '/'.toLowerCase() && b['dom.pathname'].toString().toLowerCase() != '/shop/mylists'.toLowerCase())) {
                        window.googletag = window.googletag || {};
                        googletag.cmd = googletag.cmd || [];
                        googletag.cmd.push(function() {
                            utag.DB("ACS: googletag.destroySlots");
                            googletag.destroySlots();
                            delete window.acs.adSlots;
                            utag.DB("ACS: googletag.updateCorrelator");
                            googletag.pubads().updateCorrelator();
                        });
                    }
                } catch (e) {
                    utag.DB(e)
                }
            }
            , function(a, b) {
                try {
                    if (b['ut.env'] != 'prod') {
                        b['adobe_reportSuite'] = 'wfg-ww-web-dev';
                        b['ga_tracking_id'] = 'UA-38610140-14';
                        b['dc_carat_advertiser'] = 'DC-1111111';
                        b['dc_woolworths_advertiser'] = 'DC-2222222';
                        b['adobe_at_property'] = '0b06ac76-7160-08f2-94f3-c4a2d254deb6';
                        b['aw_conversion_id'] = 'AW-1111111';
                        b['fb_pixel_id'] = '123456789';
                        b['ga_optimize_id'] = 'OPT-NLS26JV';
                        b['dc_gsg_advertiser'] = 'DC-3333333';
                        b['citrus_baseURL'] = 'https://staging-integration.citrusad.com/v1';
                        b['ist_companyID'] = 'XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX';
                        b['bing_tagid'] = '00000000';
                        b['bv_environment'] = 'staging';
                        b['dc_rewards_advertiser'] = 'DC-4444444';
                        b['criteo_accountID'] = '00000';
                        b['aw_mcc_conversion_id'] = 'AW-2222222';
                        b['adobe_at_property_acs'] = '94968422-931d-0266-08af-b5b06c1207bc';
                        b['dc_allowcustomscripts'] = 'false';
                        b['ga_measurement_id_development'] = 'G-YBVRJYN9JL';
                        b['fs_debug'] = 'false';
                        b['adobe_reportSuiteGlobal'] = 'wfg-wx-global-dev';
                        b['fl_merkle_advertiserId'] = 'DC-5555555'
                    }
                } catch (e) {
                    utag.DB(e);
                }
            }
            , function(a, b) {
                try {
                    if (b['ut.env'] == 'prod') {
                        b['dc_carat_advertiser'] = 'DC-4652914';
                        b['dc_woolworths_advertiser'] = 'DC-8348316';
                        b['ga_tracking_id'] = 'UA-38610140-9';
                        b['adobe_at_property'] = '6c6846c4-76cc-f987-ba02-80897e4bac23';
                        b['adobe_reportSuite'] = 'wfgwoolworths.web.prod';
                        b['aw_conversion_id'] = 'AW-969624659';
                        b['fb_pixel_id'] = '371919976607384';
                        b['ga_optimize_id'] = '';
                        b['dc_gsg_advertiser'] = 'DC-8969141';
                        b['citrus_baseURL'] = 'https://au-integration.citrusad.com/v1';
                        b['ist_companyID'] = '909b5da6-e33c-4de8-a6e2-0861c4cbcd86';
                        b['bing_tagid'] = '23002860';
                        b['bv_environment'] = 'production';
                        b['dc_rewards_advertiser'] = 'DC-8361001';
                        b['criteo_accountID'] = '72189';
                        b['aw_mcc_conversion_id'] = 'AW-706996958';
                        b['adobe_at_property_acs'] = '52f648e0-c7fe-b979-3cf9-3853a67be098';
                        b['dc_allowcustomscripts'] = 'false';
                        b['ga_measurement_id_development'] = 'G-YBVRJYN9JL';
                        b['fs_debug'] = 'false';
                        b['adobe_reportSuiteGlobal'] = 'wfg-wx-global-prod';
                        b['fl_merkle_advertiserId'] = 'DC-11876628'
                    }
                } catch (e) {
                    utag.DB(e);
                }
            }
            , function(a, b) {
                try {
                    if (typeof b['platform'] == 'undefined') {
                        b['platform'] = ''
                    }
                } catch (e) {
                    utag.DB(e);
                }
            }
            , function(a, b, c, d) {
                try {
                    if (1) {
                        c = [b['ut.profile'], b['platform'], b['ut.env']];
                        b['profilePlatformEnvironment'] = c.join(':')
                    }
                } catch (e) {
                    utag.DB(e);
                }
            }
            , function(a, b, c, d) {
                c = ['profilePlatformEnvironment'];
                for (d = 0; d < c.length; d++) {
                    try {
                        b[c[d]] = b[c[d]]instanceof Array ? b[c[d]] : b[c[d]]instanceof Object ? b[c[d]] : b[c[d]].toString().toLowerCase()
                    } catch (e) {
                        utag.DB(e);
                    }
                }
            }
            , function(a, b, c, d, e, f, g) {
                if (1) {
                    d = b['profilePlatformEnvironment'];
                    if (typeof d == 'undefined')
                        return;
                    c = [{
                        'supermarkets::dev': 'true|qurl3t'
                    }, {
                        'supermarkets::qa': 'true|qurl3t'
                    }, {
                        'supermarkets::prod': 'true|qurl3t'
                    }, {
                        'supermarkets-app:android:dev': 'true|7n58ym'
                    }, {
                        'supermarkets-app:android:qa': 'true|7n58ym'
                    }, {
                        'supermarkets-app:android:prod': 'true|7n58ym'
                    }, {
                        'supermarkets-app:ios:dev': 'true|kmm8nj'
                    }, {
                        'supermarkets-app:ios:qa': 'true|kmm8nj'
                    }, {
                        'supermarkets-app:ios:prod': 'true|kmm8nj'
                    }, {
                        'rewards::qa': 'true|h6kic6'
                    }, {
                        'rewards::dev': 'true|h6kic6'
                    }, {
                        'rewards::prod': 'true|h6kic6'
                    }, {
                        'rewards-app:android:dev': 'true|gnckwo'
                    }, {
                        'rewards-app:android:qa': 'true|gnckwo'
                    }, {
                        'rewards-app:android:prod': 'true|gnckwo'
                    }, {
                        'rewards-app:ios:dev': 'true|cjyl5p'
                    }, {
                        'rewards-app:ios:qa': 'true|cjyl5p'
                    }, {
                        'rewards-app:ios:prod': 'true|cjyl5p'
                    }, {
                        'rewards-secure::dev': 'true|dc06sm'
                    }, {
                        'rewards-secure::qa': 'true|dc06sm'
                    }, {
                        'rewards-secure::prod': 'true|dc06sm'
                    }, {
                        'telco::dev': 'false|qoxv4k'
                    }, {
                        'telco::qa': 'false|qoxv4k'
                    }, {
                        'telco::prod': 'false|qoxv4k'
                    }, {
                        'giftcards-web::dev': 'true|qvfku7'
                    }, {
                        'giftcards-web::qa': 'true|qvfku7'
                    }, {
                        'giftcards-web::prod': 'true|qvfku7'
                    }, {
                        'insurance::dev': 'true|0qbpuv'
                    }, {
                        'insurance::qa': 'true|0qbpuv'
                    }, {
                        'insurance::prod': 'true|0qbpuv'
                    }];
                    var m = false;
                    for (e = 0; e < c.length; e++) {
                        for (f in utag.loader.GV(c[e])) {
                            if (d == f) {
                                b['collectConfig'] = c[e][f];
                                m = true
                            }
                            ;
                        }
                        ;if (m)
                            break
                    }
                    ;
                }
            }
            , function(a, b) {
                try {
                    if (typeof b['collectConfig'] != 'undefined' && b['collectConfig'] != '') {
                        try {
                            b['collectEnabled'] = b['collectConfig'].split('|')[0]
                        } catch (e) {}
                        ;try {
                            b['tealium_datasource'] = b['collectConfig'].split('|')[1]
                        } catch (e) {}
                    }
                } catch (e) {
                    utag.DB(e);
                }
            }
            , function(a, b) {
                try {
                    if (1) {
                        function googleUserIdExists() {
                            var dle = JSON.parse(localStorage.getItem('tealium_va'));
                            if (!dle)
                                return 0;
                            if (!dle['properties'] || !dle['properties']['5898'])
                                return 0;
                            return 1;
                        }
                        b['googleUserIdExists'] = googleUserIdExists();
                        b['sessionPageViewCount'] = parseInt(b['cp.utag_main__pn']);
                    }
                } catch (e) {
                    utag.DB(e)
                }
            }
            , function(a, b, c, d, e, f, g) {
                if (1) {
                    d = b['profilePlatformEnvironment'];
                    if (typeof d == 'undefined')
                        return;
                    c = [{
                        'supermarkets::dev': 'true'
                    }, {
                        'supermarkets::qa': 'true'
                    }, {
                        'supermarkets::prod': 'true'
                    }, {
                        'supermarkets-app:android:dev': 'false'
                    }, {
                        'supermarkets-app:android:qa': 'false'
                    }, {
                        'supermarkets-app:android:prod': 'false'
                    }, {
                        'supermarkets-app:ios:dev': 'false'
                    }, {
                        'supermarkets-app:ios:qa': 'false'
                    }, {
                        'supermarkets-app:ios:prod': 'false'
                    }, {
                        'rewards::qa': 'true'
                    }, {
                        'rewards::dev': 'true'
                    }, {
                        'rewards::prod': 'true'
                    }];
                    var m = false;
                    for (e = 0; e < c.length; e++) {
                        for (f in utag.loader.GV(c[e])) {
                            if (d == f) {
                                b['dcCookieMatchEnablement'] = c[e][f];
                                m = true
                            }
                            ;
                        }
                        ;if (m)
                            break
                    }
                    ;
                }
            }
            , function(a, b) {
                try {
                    if (1) {
                        var allowBackfill = true;
                        var invalidView = (a === "view" && !(b["page.Type"] || b["screen.Name"]))
                        if (invalidView) {
                            allowBackfill = false
                        }
                        b["user.ProfileCRNHash_direct"] = b["user.ProfileCRNHash"] || "Unknown";
                        b["user.ProfileCRNHash_tealium"] = b["va.properties.5818"] || "Unknown";
                        allowBackfill = false;
                        if (b["user.ProfileIDHash"]) {
                            b["user.ProfileCRNHash_direct_eq_SID"] = (b["user.ProfileIDHash"] == b["user.ProfileCRNHash"]);
                            b["user.ProfileCRNHash_tealium_eq_SID"] = (b["user.ProfileIDHash"] == b["va.properties.5818"]);
                            if (b["user.ProfileCRNHash_direct_eq_SID"] || b["user.ProfileCRNHash_tealium_eq_SID"]) {
                                allowBackfill = false;
                                delete b["user.ProfileCRNHash"];
                                delete b["user.ProfileCRNHash_source"];
                            } else {
                                allowBackfill = true;
                            }
                        }
                        if (b["user.ProfileCRNHash"]) {
                            b["user.ProfileCRNHash_source"] = "direct";
                        } else if (allowBackfill) {
                            b["user.ProfileCRNHash"] = b["va.properties.5818"];
                            b["user.ProfileCRNHash_source"] = "tealium";
                        }
                    }
                } catch (e) {
                    utag.DB(e)
                }
            }
            , function(a, b) {
                try {
                    if (1) {
                        b['user.HasEcomAccount'] = utag.ut.typeOf(b["va.flags.8125"]) != "undefined" ? b["va.flags.8125"] : "false";
                        b['user.HasEdrAccount'] = utag.ut.typeOf(b["va.flags.6941"]) != "undefined" ? b["va.flags.6941"] : "false";
                        b['user.RewardsMemberMatch'] = utag.ut.typeOf(b["va.flags.6941"]) != "undefined" ? b["va.flags.6941"] : "false";
                        b['user.EdrAppDownloaded'] = utag.ut.typeOf(b["va.flags.8032"]) != "undefined" ? b["va.flags.8032"] : "false";
                        b['user.EdrCardLinkedToEcom'] = utag.ut.typeOf(b["va.flags.6975"]) != "undefined" ? b["va.flags.6975"] : "false";
                        b['user.EdrHashCrnLinkedToEcom'] = utag.ut.typeOf(b["va.properties.7409"]) !== "undefined" ? "" + b["va.properties.7409"] : "Unknown";
                        b['user.WXID'] = utag.ut.typeOf(b["va.properties.8151"]) !== "undefined" ? "" + b["va.properties.8151"] : "Unknown";
                        b['user.WXIDMatchScore'] = utag.ut.typeOf(b["va.properties.8153"]) !== "undefined" ? "" + b["va.properties.8153"] : "Unknown";
                        b["user.SUPBehaviourSegments"] = utag.ut.typeOf(b["va.properties.7189"]) != "undefined" ? b["va.properties.7189"] : "";
                        b["user.CGESTSegment"] = utag.ut.typeOf(b["va.properties.7189"]) != "undefined" ? b["va.properties.7189"] : "";
                        b["user.SupersEcomCFV"] = utag.ut.typeOf(b["va.properties.7649"]) != "undefined" ? b["va.properties.7649"] : "";
                        b["user.SupersInstoreCFV"] = utag.ut.typeOf(b["va.properties.7647"]) != "undefined" ? b["va.properties.7647"] : "";
                        b["user.SupersTotalCFV"] = utag.ut.typeOf(b["va.properties.7645"]) != "undefined" ? b["va.properties.7645"] : "";
                        b['user.ScoredCampaigns'] = utag.ut.typeOf(b["va.property_sets.7380"]) != "undefined" ? b["va.property_sets.7380"].join(",") : "Unknown";
                        b['user.RNLScoredCampaigns'] = utag.ut.typeOf(b["va.property_sets.7362"]) != "undefined" ? b["va.property_sets.7362"].join(",") : "Unknown";
                        b['user.RNLActivatedCampaigns'] = utag.ut.typeOf(b["va.property_sets.7360"]) != "undefined" ? b["va.property_sets.7360"].join(",") : "Unknown";
                        b['user.CNAScoredCampaigns'] = utag.ut.typeOf(b["va.property_sets.7431"]) != "undefined" ? b["va.property_sets.7431"].join(",") : "Unknown";
                        b['user.ONMScoredCampaigns'] = utag.ut.typeOf(b["va.property_sets.7670"]) != "undefined" ? b["va.property_sets.7670"].join(",") : "Unknown";
                        b["user.EDRTotalES"] = utag.ut.typeOf(b["va.metrics.8191"]) != "undefined" ? b["va.metrics.8191"] : "";
                        b["user.EDRTotalESLm"] = utag.ut.typeOf(b["va.metrics.8193"]) != "undefined" ? b["va.metrics.8193"] : "";
                        b["user.EDRTotalESL2m"] = utag.ut.typeOf(b["va.metrics.8195"]) != "undefined" ? b["va.metrics.8195"] : "";
                        b["user.EDRTotalESLy"] = utag.ut.typeOf(b["va.metrics.8197"]) != "undefined" ? b["va.metrics.8197"] : "";
                        b["user.EDRESSegment"] = utag.ut.typeOf(b["va.properties.8199"]) != "undefined" ? b["va.properties.8199"] : "";
                        b["user.EDRESSegmentLm"] = utag.ut.typeOf(b["va.properties.8201"]) != "undefined" ? b["va.properties.8201"] : "";
                        b["user.EDRESSegmentL2m"] = utag.ut.typeOf(b["va.properties.8203"]) != "undefined" ? b["va.properties.8203"] : "";
                        b["user.EDRESSegmentLy"] = utag.ut.typeOf(b["va.properties.8205"]) != "undefined" ? b["va.properties.8205"] : "";
                        b["user.GroupTotalCAV"] = utag.ut.typeOf(b["va.metrics.8243"]) != "undefined" ? b["va.metrics.8243"] : "";
                        b["user.SupersInstoreCAV"] = utag.ut.typeOf(b["va.metrics.8245"]) != "undefined" ? b["va.metrics.8245"] : "";
                        b["user.SupersEcomCAV"] = utag.ut.typeOf(b["va.metrics.8247"]) != "undefined" ? b["va.metrics.8247"] : "";
                        b["user.SupersTotalCAV"] = utag.ut.typeOf(b["va.metrics.8249"]) != "undefined" ? b["va.metrics.8249"] : "";
                        b["user.SupersLargeStoreInstoreCAV"] = utag.ut.typeOf(b["va.metrics.8251"]) != "undefined" ? b["va.metrics.8251"] : "";
                        b["user.SupersLargeStoreEcomCAV"] = utag.ut.typeOf(b["va.metrics.8253"]) != "undefined" ? b["va.metrics.8253"] : "";
                        b["user.SupersLargeStoreTotalCAV"] = utag.ut.typeOf(b["va.metrics.8255"]) != "undefined" ? b["va.metrics.8255"] : "";
                        b["user.SupersMetroInstoreCAV"] = utag.ut.typeOf(b["va.metrics.8257"]) != "undefined" ? b["va.metrics.8257"] : "";
                        b["user.SupersMetroEcomCAV"] = utag.ut.typeOf(b["va.metrics.8259"]) != "undefined" ? b["va.metrics.8259"] : "";
                        b["user.SupersMetroTotalCAV"] = utag.ut.typeOf(b["va.metrics.8261"]) != "undefined" ? b["va.metrics.8261"] : "";
                        b["user.BigWInstoreTotalCAV"] = utag.ut.typeOf(b["va.metrics.8263"]) != "undefined" ? b["va.metrics.8263"] : "";
                        b["user.BigWEcomTotalCAV"] = utag.ut.typeOf(b["va.metrics.8265"]) != "undefined" ? b["va.metrics.8265"] : "";
                        b["user.BigWTotalCAV"] = utag.ut.typeOf(b["va.metrics.8267"]) != "undefined" ? b["va.metrics.8267"] : "";
                        b["user.HealthyLifeTotalCAV"] = utag.ut.typeOf(b["va.metrics.8269"]) != "undefined" ? b["va.metrics.8269"] : "";
                        b["user.PetcultureTotalCAV"] = utag.ut.typeOf(b["va.metrics.8271"]) != "undefined" ? b["va.metrics.8271"] : "";
                        b["user.EverydaymarketTotalCAV"] = utag.ut.typeOf(b["va.metrics.8273"]) != "undefined" ? b["va.metrics.8273"] : "";
                    }
                } catch (e) {
                    utag.DB(e)
                }
            }
            , function(a, b) {
                try {
                    if ((typeof b['page.Type'] != 'undefined' && b['page.Type'].toString().toLowerCase() == 'confirmation'.toLowerCase() && b['ut.env'].toString().toLowerCase() == 'prod'.toLowerCase())) {
                        b['page.Type'] = 'order'
                    }
                } catch (e) {
                    utag.DB(e);
                }
            }
            , function(a, b) {
                try {
                    if (1) {
                        var c = b["cp.akaalb_woolworths.com.au"];
                        if (c) {
                            b["akamai_Zones"] = (c.match(/www_woolworths_com_au_ZoneAandC:([^|]*)/) || ["", ""])[1]
                        }
                    }
                } catch (e) {
                    utag.DB(e)
                }
            }
            , function(a, b) {
                try {
                    if ((typeof b['order.ID'] != 'undefined' && typeof b['order.ID'] != 'undefined' && b['order.ID'] != '')) {
                        var trackOrder = true;
                        try {
                            var trackedOrders = JSON.parse(b["cp.trackedOrders"] || "[]");
                            for (var i = 0; i < trackedOrders.length; i++) {
                                if (trackedOrders[i] == b["order.ID"]) {
                                    trackOrder = false
                                }
                            }
                            if (!!trackOrder) {
                                trackedOrders.push(b["order.ID"])
                            }
                            document.cookie = "trackedOrders=" + JSON.stringify(trackedOrders) + ";path=/;expires=Fri, 1 Jan 2038 00:00:00 UTC;";
                        } catch (ex) {
                            utag.DB(ex)
                        }
                        b["order.Track"] = trackOrder;
                    }
                } catch (e) {
                    utag.DB(e)
                }
            }
            , function(a, b) {
                try {
                    if ((typeof b['search.Keyword'] == 'undefined' && typeof b['qp.keyword'] != 'undefined' && b['qp.keyword'] != '') || (typeof b['search.Keyword'] != 'undefined' && b['search.Keyword'] == '' && typeof b['qp.keyword'] != 'undefined' && b['qp.keyword'] != '')) {
                        b['search.Keyword'] = b['qp.keyword']
                    }
                } catch (e) {
                    utag.DB(e);
                }
            }
            , function(a, b) {
                try {
                    if ((b['ut.event'] == 'view' && typeof b['page.Name'] != 'undefined' && b['page.Name'] != '' && typeof b['page.Name'] != 'undefined')) {
                        var pv = sessionStorage.visitor_PageViewCount || 0;
                        b["visitor.PageViewCount"] = sessionStorage.visitor_PageViewCount = parseInt(pv) + 1;
                        var ord = sessionStorage.visitor_ReferringDomain || document.referrer.split('/').length > 1 ? document.referrer.split('/')[2] : "";
                        b["visitor.ReferringDomain"] = sessionStorage.visitor_ReferringDomain = ord;
                    }
                } catch (e) {
                    utag.DB(e)
                }
            }
            , function(a, b) {
                try {
                    if (typeof b['list.ListName'] != 'undefined') {
                        b["list.Count"] = b["list.ListName"].length;
                    }
                } catch (e) {
                    utag.DB(e)
                }
            }
            , function(a, b) {
                try {
                    if (1) {
                        var AUTH = !window.wowBootstrap.ShopperRequest.IsGuest;
                        if (AUTH) {
                            if (wowBootstrap.TrolleyRequest.WowRewardsSummary !== null) {
                                b["user.ProfileRewardsSavedForLater"] = wowBootstrap.TrolleyRequest.WowRewardsSummary.SaveForLaterPreference || "";
                                b["user.ProfileRewardsToSpend"] = wowBootstrap.TrolleyRequest.WowRewardsSummary.WowRewardsToSpend || "";
                            }
                        }
                    }
                } catch (e) {
                    utag.DB(e)
                }
            }
            , function(a, b) {
                try {
                    if (1) {
                        var settingsList = wowBootstrap ? wowBootstrap.SettingRequest : [];
                        var settings = {};
                        var s = {};
                        settingsList.forEach(function(item) {
                            s[item.Group.trim()] = s[item.Group.trim()] || {};
                            s[item.Group.trim()][item.Name.trim()] = item.Value
                        });
                        Object.keys(s).sort().forEach(function(key) {
                            settings[key] = s[key];
                        });
                        b["settings.AdobeTarget.EnableCRO"] = (settings.AdobeTarget ? settings.AdobeTarget.EnableCRO : true).toString() != "false";
                        b["settings.AdobeTarget.EnablePrefetchHomePageGlobalMbox"] = (settings.AdobeTarget.EnablePrefetchHomePageGlobalMbox ? settings.AdobeTarget.EnablePrefetchHomePageGlobalMbox : false).toString() != "false";
                        b["settings.CRO.CitrusAdsTargetingType"] = settings.CRO ? settings.CRO.CitrusAdsTargetingType : 'None';
                    }
                } catch (e) {
                    utag.DB(e)
                }
            }
            , function(a, b) {
                try {
                    if ((b['ut.event'].toString().toLowerCase() == 'view'.toLowerCase() && typeof b['page.Type'] != 'undefined' && b['page.Type'].toString().toLowerCase() != 'error'.toLowerCase())) {
                        b['tealium_event'] = 'page_view'
                    }
                } catch (e) {
                    utag.DB(e);
                }
            }
            , function(a, b) {
                try {
                    if (b['event.Name'] == 'cart_add') {
                        b['tealium_event'] = 'cart_add';
                    }
                } catch (e) {
                    utag.DB(e);
                }
                try {
                    if (b['event.Name'] == 'cart_empty') {
                        b['tealium_event'] = 'cart_empty';
                    }
                } catch (e) {
                    utag.DB(e);
                }
                try {
                    if (b['event.Name'] == 'cart_remove') {
                        b['tealium_event'] = 'cart_remove';
                    }
                } catch (e) {
                    utag.DB(e);
                }
                try {
                    if (b['page_type'] == 'cart' || b['event.Name'] == 'cart_view') {
                        b['tealium_event'] = 'cart_view';
                    }
                } catch (e) {
                    utag.DB(e);
                }
                try {
                    if (b['page.Type'] == 'productcategory') {
                        b['tealium_event'] = 'category_view';
                    }
                } catch (e) {
                    utag.DB(e);
                }
                try {
                    if (b['page.Type'] == 'checkout') {
                        b['tealium_event'] = 'checkout';
                    }
                } catch (e) {
                    utag.DB(e);
                }
                try {
                    if (b['event.Name'] == 'email_signup') {
                        b['tealium_event'] = 'email_signup';
                    }
                } catch (e) {
                    utag.DB(e);
                }
                try {
                    if (b['page.Type'] == 'productdetail') {
                        b['tealium_event'] = 'product_view';
                    }
                } catch (e) {
                    utag.DB(e);
                }
                try {
                    if ((b['page.Type'] == 'order' && typeof b['order.ID'] != 'undefined' && typeof b['order.ID'] != 'undefined' && b['order.ID'] != '')) {
                        b['tealium_event'] = 'purchase';
                    }
                } catch (e) {
                    utag.DB(e);
                }
                try {
                    if ((typeof b['search.Keyword'] != 'undefined' && typeof b['search.Keyword'] != 'undefined' && b['search.Keyword'] != '' && b['ut.event'].toString().toLowerCase() == 'view'.toLowerCase())) {
                        b['tealium_event'] = 'search';
                    }
                } catch (e) {
                    utag.DB(e);
                }
                try {
                    if ((typeof b['event.Name'] != 'undefined' && b['event.Name'].toString().toLowerCase() == 'user_login'.toLowerCase())) {
                        b['tealium_event'] = 'user_login';
                    }
                } catch (e) {
                    utag.DB(e);
                }
                try {
                    if ((typeof b['event.Name'] != 'undefined' && b['event.Name'].toString().toLowerCase().indexOf('user_register'.toLowerCase()) > -1) || (typeof b['event.Name'] != 'undefined' && b['event.Name'].toString().toLowerCase().indexOf('user_signup_success'.toLowerCase()) > -1)) {
                        b['tealium_event'] = 'user_register';
                    }
                } catch (e) {
                    utag.DB(e);
                }
            }
            , function(a, b) {
                try {
                    if ((typeof b['event.Name'] != 'undefined' && b['event.Name'].toString().toLowerCase().indexOf('list_add'.toLowerCase()) > -1)) {
                        b['tealium_event'] = 'list_add'
                    }
                } catch (e) {
                    utag.DB(e);
                }
            }
            , function(a, b) {
                try {
                    if ((typeof b['page.Name'] != 'undefined' && b['page.Name'].toString().toLowerCase().indexOf('ww-sm:shop:deliveryunlimited:confirmation'.toLowerCase()) > -1) || (typeof b['page.Name'] != 'undefined' && b['page.Name'].toString().toLowerCase().indexOf('ww-sm:shop:deliveryplus:confirmation'.toLowerCase()) > -1)) {
                        b['tealium_event'] = 'subscription_success'
                    }
                } catch (e) {
                    utag.DB(e);
                }
            }
            , function(a, b) {
                try {
                    if ((typeof b['tealium_event'] != 'undefined' && b['tealium_event'].toString().toLowerCase() == 'link'.toLowerCase() && typeof b['event.Label'] != 'undefined' && b['event.Label'].toString().toLowerCase() == 'Checkout: View Cart'.toLowerCase())) {
                        b['tealium_event'] = 'cart_view'
                    }
                } catch (e) {
                    utag.DB(e);
                }
            }
            , function(a, b) {
                try {
                    if ((typeof b['tealium_event'] != 'undefined' && b['tealium_event'].toString().toLowerCase() == 'link'.toLowerCase() && typeof b['event.Label'] != 'undefined' && b['event.Label'].toString().toLowerCase() == 'Save Recipe'.toLowerCase())) {
                        b['tealium_event'] = 'save_recipe'
                    }
                } catch (e) {
                    utag.DB(e);
                }
            }
            , function(a, b) {
                try {
                    if ((typeof b['event.Name'] != 'undefined' && /(^acs_)/.test(b['event.Name'])) || (typeof b['event.Name'] != 'undefined' && b['event.Name'].toString().toLowerCase() == 'cart_timeslots_loaded'.toLowerCase()) || (typeof b['event.Name'] != 'undefined' && b['event.Name'].toString().toLowerCase() == 'product_click'.toLowerCase()) || (typeof b['event.Name'] != 'undefined' && b['event.Name'].toString().toLowerCase() == 'catalogue_arrow_click'.toLowerCase()) || (typeof b['event.Name'] != 'undefined' && b['event.Name'].toString().toLowerCase() == 'catalogue_filters'.toLowerCase()) || (typeof b['event.Name'] != 'undefined' && b['event.Name'].toString().toLowerCase() == 'catalogue_category_click'.toLowerCase()) || (typeof b['event.Name'] != 'undefined' && b['event.Name'].toString().toLowerCase() == 'catalogue_collection_click'.toLowerCase()) || (typeof b['event.Name'] != 'undefined' && b['event.Name'].toString().toLowerCase() == 'catalogue_explore_click'.toLowerCase()) || (typeof b['event.Name'] != 'undefined' && b['event.Name'].toString().toLowerCase() == 'top_nav_click'.toLowerCase()) || (typeof b['event.Name'] != 'undefined' && /(^show_)/.test(b['event.Name']))) {
                        b['tealium_event'] = b['event.Name']
                    }
                } catch (e) {
                    utag.DB(e);
                }
            }
            , function(a, b) {
                try {
                    if ((typeof b['event.Name'] != 'undefined' && b['event.Name'].toString().toLowerCase() == 'checkout_accordion'.toLowerCase())) {
                        b['tealium_event'] = 'checkout'
                    }
                } catch (e) {
                    utag.DB(e);
                }
            }
            , function(a, b) {
                try {
                    if ((typeof b['event.Name'] != 'undefined' && b['event.Name'].toString().toLowerCase() == 'navigation_click'.toLowerCase() && b['event.Label'].toString().toLowerCase() == 'FMS Ribbon - Delivery'.toLowerCase()) || (typeof b['event.Name'] != 'undefined' && b['event.Name'].toString().toLowerCase() == 'custom_event'.toLowerCase() && b['event.Label'].toString().toLowerCase() == 'Direct to Boot Entry'.toLowerCase()) || (typeof b['event.Name'] != 'undefined' && b['event.Name'].toString().toLowerCase() == 'custom_event'.toLowerCase() && b['event.Label'].toString().toLowerCase() == 'Delivery Entry'.toLowerCase()) || (typeof b['event.Name'] != 'undefined' && b['event.Name'].toString().toLowerCase() == 'custom_event'.toLowerCase() && b['event.Label'].toString().toLowerCase() == 'Pickup Entry'.toLowerCase()) || (typeof b['event.Name'] != 'undefined' && b['event.Name'].toString().toLowerCase() == 'navigation_click'.toLowerCase() && b['event.Label'].toString().toLowerCase() == 'FMS Ribbon - Direct to boot'.toLowerCase()) || (typeof b['event.Name'] != 'undefined' && b['event.Name'].toString().toLowerCase() == 'navigation_click'.toLowerCase() && b['event.Label'].toString().toLowerCase() == 'FMS Ribbon - Pickup'.toLowerCase())) {
                        b['tealium_event'] = 'ordertype_click'
                    }
                } catch (e) {
                    utag.DB(e);
                }
            }
            , function(a, b, c, d, e, f, g) {
                if (typeof b['event.Name'] != 'undefined') {
                    d = b['event.Name'];
                    if (typeof d == 'undefined')
                        return;
                    c = [{
                        'boostAllOffersSuccess': 'offer_activation_success'
                    }, {
                        'boostOfferSuccess': 'offer_activation_success'
                    }, {
                        'boostAllOffersFail': 'offer_activation_fail'
                    }, {
                        'boostOfferFail': 'offer_activation_fail'
                    }, {
                        'boostOfferClick': 'button_click'
                    }, {
                        'offerDetailsBoostClick': 'button_click'
                    }, {
                        'boostAllOffersStart': 'button_click'
                    }];
                    var m = false;
                    for (e = 0; e < c.length; e++) {
                        for (f in utag.loader.GV(c[e])) {
                            if (d == f) {
                                b['tealium_event'] = c[e][f];
                                m = true
                            }
                            ;
                        }
                        ;if (m)
                            break
                    }
                    ;
                }
            }
            , function(a, b) {
                try {
                    if ((b['ut.event'].toString().toLowerCase() == 'view'.toLowerCase() && b['dom.pathname'].toString().toLowerCase().indexOf('/shop/myaccount/woolworthsrewards'.toLowerCase()) > -1 && typeof b['qp.success'] != 'undefined' && b['qp.success'].toString().toLowerCase() == 'true'.toLowerCase())) {
                        b['tealium_event'] = 'rewards_link_success'
                    }
                } catch (e) {
                    utag.DB(e);
                }
            }
            , function(a, b) {
                try {
                    if ((b['ut.event'].toString().toLowerCase() == 'link'.toLowerCase() && typeof b['event.Category'] != 'undefined' && /^recipe/i.test(b['event.Category']))) {
                        try {
                            b['tealium_event'] = b["event.Category"].toLowerCase().replace(/[^a-z0-9]/g, "_")
                        } catch (e) {}
                    }
                } catch (e) {
                    utag.DB(e);
                }
            }
            , function(a, b) {
                try {
                    if (1) {
                        var useDataLayerPageName = false;
                        var useCanonical = false;
                        var prefix = "";
                        switch (utag.id) {
                            case ("woolworths.supermarkets"):
                                prefix = "ww-sm";
                                useCanonical = true;
                                break;
                            case ("woolworths.rewards"):
                                prefix = "ww-rw";
                                break;
                            case ("woolworths.business"):
                                prefix = "ww-waw";
                                useDataLayerPageName = true;
                                break;
                            case ("woolworths.insurance"):
                                prefix = "ww-ins";
                                break;
                            case ("woolworths.telco"):
                                prefix = "ww-tel";
                                break;
                        }
                        if (/deliveryunlimited:reactivated/.test(b["page.Name"]))
                            useDataLayerPageName = true;
                        function getPageName() {
                            var c = document.querySelector("[rel='canonical']");
                            var p = (c && useCanonical ? c.getAttribute("href").replace(/^(https?\:\/\/([^\/]+)|([^\/]+))/, "") : window.location.pathname).replace(/\..+/, "")
                            if (!p || p == '/')
                                return prefix + ":homepage";
                            var page = prefix + p.split('/').join(":").replace(/:$/, "");
                            page = page.replace(/shop\:checkout/i, "checkout");
                            page = page.replace(/shop\:shopping/i, "shop:productdetails");
                            return page.toLowerCase();
                        }
                        b["adobe_pageNameGlobal"] = useDataLayerPageName ? (b["page.Name"] || getPageName()) : getPageName();
                    }
                } catch (e) {
                    utag.DB(e)
                }
            }
            , function(a, b, c, d, e, f, g) {
                if (1) {
                    d = b['dom.url'];
                    if (typeof d == 'undefined')
                        return;
                    c = [{
                        'shop/catalogue': 'Catalogue Section'
                    }, {
                        'shop/browse/specials': 'Specials Section'
                    }, {
                        'shop/recipes': 'Recipes Section'
                    }, {
                        'shop/storeLocator': 'Store Locator Section'
                    }, {
                        'shop/suggestedlists': 'Lists Section'
                    }, {
                        'shop/browse': 'Products Section'
                    }, {
                        'shop/search': 'Search Section'
                    }, {
                        'shop/discover': 'Discover Section'
                    }, {
                        'checkout': 'Checkout Section'
                    }, {
                        'shop/confirmation': 'Order Confirmation Section'
                    }, {
                        'shop/myaccount': 'My Account Section'
                    }, {
                        'error': 'Error Page'
                    }, {
                        'shop/securelogin': 'Login Page'
                    }, {
                        'shop/productgroup': 'Product Group'
                    }, {
                        'shop/new': 'New Section'
                    }, {
                        'shop/find-recipes': 'Recipes Section'
                    }];
                    var m = false;
                    for (e = 0; e < c.length; e++) {
                        for (f in utag.loader.GV(c[e])) {
                            g = new RegExp(f,'i');
                            if (g.test(d)) {
                                b['adobe_siteSection'] = c[e][f];
                                m = true
                            }
                            ;
                        }
                        ;if (m)
                            break
                    }
                    ;if (!m)
                        b['adobe_siteSection'] = 'Other Section';
                }
            }
            , function(a, b) {
                try {
                    if ((typeof b['search.Keyword'] != 'undefined' && typeof b['search.Keyword'] != 'undefined' && b['search.Keyword'] != '')) {
                        var b_kwt = b["search.KeywordType"];
                        var ss_kwt = sessionStorage.getItem("search_KeywordType");
                        if (b_kwt) {
                            sessionStorage.setItem("search_KeywordType", b["search.KeywordType"])
                        } else if (ss_kwt) {
                            b["search.KeywordType"] = ss_kwt
                        }
                        b["product.ID"] = b["product.ID"] || [];
                    }
                } catch (e) {
                    utag.DB(e)
                }
            }
            , function(a, b) {
                try {
                    if ((typeof b['tealium_event'] != 'undefined' && b['tealium_event'] == 'subscription' && b['ut.env'] != 'dev')) {
                        var sName = document.querySelector(".deliverySaverSubscriptionDetail-title");
                        var sTerm = document.querySelector(".deliverySaverSubscriptionDetail-subTitle");
                        b["subscription.Name"] = b["subscription.Name"] || (sName && sTerm ? sName.innerText + " - " + sTerm.innerText : "");
                    }
                } catch (e) {
                    utag.DB(e)
                }
            }
            , function(a, b) {
                try {
                    if (1) {
                        var storageName = "checkoutTiming";
                        var isCheckout = b["site.Section"] === "checkout";
                        var isOrder = b["page.Type"] === "order";
                        if (isCheckout || isOrder) {
                            var c = JSON.parse(sessionStorage.getItem(storageName) || "{}");
                            if (isCheckout) {
                                c.start = c.start || Date.now();
                                b["checkout.StartTime"] = c.start;
                                c.timer = c.start ? Date.now() - c.start : "";
                                b["checkout.Time"] = c.timer;
                                var cs = b["checkout.Step"];
                                var ct = b["checkout.StepTime"];
                                if (cs && !sessionStorage[cs]) {
                                    c[cs] = ct
                                }
                                if (c[cs] && c[cs - 1]) {
                                    b["checkout.PreviousStepTime"] = c[cs] - c[cs - 1]
                                }
                                sessionStorage.setItem(storageName, JSON.stringify(c));
                            }
                            if (isOrder) {
                                c.timer = c.start ? Date.now() - c.start : "";
                                b["order.CheckoutTime"] = c.timer;
                                sessionStorage.removeItem(storageName);
                            }
                        }
                    }
                } catch (e) {
                    utag.DB(e)
                }
            }
            , function(a, b, c, d, e, f, g) {
                if (1) {
                    d = b['qp.utagdb'];
                    if (typeof d == 'undefined')
                        return;
                    c = [{
                        'true': 'false'
                    }];
                    var m = false;
                    for (e = 0; e < c.length; e++) {
                        for (f in utag.loader.GV(c[e])) {
                            if (d == f) {
                                b['dc_allowcustomscripts'] = c[e][f];
                                m = true
                            }
                            ;
                        }
                        ;if (m)
                            break
                    }
                    ;if (!m)
                        b['dc_allowcustomscripts'] = 'true';
                }
            }
            , function(a, b) {
                try {
                    if ((typeof b['event.Name'] != 'undefined' && b['event.Name'].toString().toLowerCase().indexOf('checkout_accordion'.toLowerCase()) > -1 && typeof b['event.Category'] != 'undefined' && b['event.Category'].toString().toLowerCase().indexOf('substitution'.toLowerCase()) > -1)) {
                        b['checkout.Step'] = '0';
                        try {
                            b['checkout.SubstitutionProductID'] = b['event.Value'].split(',')
                        } catch (e) {}
                        ;b['event.Value'] = '0';
                        b['product.ID'] = b['checkout.SubstitutionProductID']
                    }
                } catch (e) {
                    utag.DB(e);
                }
            }
            , function(a, b) {
                try {
                    if ((typeof b['page.Type'] != 'undefined' && b['page.Type'].toString().toLowerCase() == 'catalogue'.toLowerCase())) {
                        var download = document.getElementById("sf-catalogue-download");
                        if (download) {
                            download.setAttribute("onclick", "utag.link({'tealium_event':'catalogue_download','event.Category':'Catalogue','event.Action':'Download Catalogue','event.Label':'" + download.href.split("/")[download.href.split("/").length - 1] + "'})")
                        }
                    }
                } catch (e) {
                    utag.DB(e)
                }
            }
            , function(a, b) {
                try {
                    if ((typeof b['page.Hierarchy'] != 'undefined' && /^ww-sm:shop:browse:/i.test(b['page.Hierarchy']) && typeof b['page.Name'] != 'undefined' && typeof b['page.Name'] != 'undefined' && b['page.Name'] != '')) {
                        var h = b["page.Hierarchy"].replace("ww-sm:shop:browse:", "").split(":");
                        var pn = b["page.Name"].replace("ww-sm:shop:browse:", "").split(":");
                        if (h.length == pn.length) {
                            for (var i = 0; i < h.length; i++) {
                                if (h.length > 0)
                                    b["page.Aisle" + h[i][0].toUpperCase() + h[i].slice(1)] = pn[i];
                            }
                        }
                    }
                } catch (e) {
                    utag.DB(e)
                }
            }
            , function(a, b) {
                try {
                    if (b['qp.amendReverted'] == '1' || (typeof b['event.Value'] != 'undefined' && b['event.Value'].toString().toLowerCase() == 'change_order_abort'.toLowerCase())) {
                        b['order.AbortAmendOrder'] = '1'
                    }
                } catch (e) {
                    utag.DB(e);
                }
            }
            , function(a, b) {
                try {
                    if ((b['ut.event'] == 'view' && typeof b['site.Section'] != 'undefined' && b['site.Section'].toString().toLowerCase() == 'checkout'.toLowerCase())) {
                        b['checkout.StepPanalysis'] = '1';
                        b['checkout.StepOptionPanalysis'] = b['checkout.ShippingMethod']
                    }
                } catch (e) {
                    utag.DB(e);
                }
            }
            , function(a, b, c, d, e, f, g) {
                if ((typeof b['checkout.StepName'] != 'undefined' && typeof b['checkout.StepName'] != 'undefined' && b['checkout.StepName'] != '')) {
                    d = b['checkout.StepName'];
                    if (typeof d == 'undefined')
                        return;
                    c = [{
                        'checkout-fulfilmentPanel': '1'
                    }, {
                        'checkout-timePanel': '2'
                    }, {
                        'checkout-reviewPanel': '3'
                    }, {
                        'checkout-payment': '4'
                    }];
                    var m = false;
                    for (e = 0; e < c.length; e++) {
                        for (f in utag.loader.GV(c[e])) {
                            if (d == f) {
                                b['checkout.StepPanalysis'] = c[e][f];
                                m = true
                            }
                            ;
                        }
                        ;if (m)
                            break
                    }
                    ;if (!m)
                        b['checkout.StepPanalysis'] = '1';
                }
            }
            , function(a, b) {
                try {
                    if (1) {
                        var collect = true;
                        var isView = (a === "view");
                        var pageType = typeof b["page.Type"] != "undefined" ? b["page.Type"] : "";
                        if (location.hostname != "www.woolworths.com.au") {
                            collect = false;
                            if (typeof b["cp.collectEvent"] != "undefined" && b["cp.collectEvent"] === "true")
                                collect = true;
                        }
                        switch (b["tealium_event"]) {
                            case "view":
                                collect = !pageType ? false : collect
                                break;
                            case "link":
                                collect = false;
                                break;
                            case "mbox_available":
                                collect = false;
                                break;
                        }
                        if (isView && pageType === "catalogue") {
                            var cdata = function() {
                                var id = b["qp.saleId"] || "";
                                var page = b["qp.page"] || "";
                                return id && page ? [id, page].join("|") : "";
                            }();
                            if (cdata) {
                                var visitor_CatalogueViewed = JSON.parse(sessionStorage.getItem("visitor_CatalogueViewed") || "[]");
                                if (visitor_CatalogueViewed.indexOf(cdata) > -1) {
                                    collect = false
                                } else {
                                    visitor_CatalogueViewed.push(cdata);
                                    sessionStorage.setItem("visitor_CatalogueViewed", JSON.stringify(visitor_CatalogueViewed))
                                }
                            } else {
                                collect = false;
                            }
                        }
                        b["collectEvent"] = collect.toString();
                    }
                } catch (e) {
                    utag.DB(e)
                }
            }
            , function(a, b) {
                try {
                    if ((typeof b['product.ID'] != 'undefined' && typeof b['product.ID'] != 'undefined' && b['product.ID'] != '')) {
                        var products = b["product.ID"];
                        var productCount = 0;
                        var productUnavailableCount = 0;
                        var productSubCount = 0;
                        products.forEach(function(product, i) {
                            productCount++;
                            if (b["product.IsAvailable"][i] !== true)
                                productUnavailableCount++;
                            if (b["product.HasProductSubs"][i] === true)
                                productSubCount++;
                        });
                        b["list.ProductCount"] = productCount.toString();
                        b["list.UnavailableCount"] = productUnavailableCount.toString();
                        b["list.SubstitutionCount"] = productSubCount.toString();
                    }
                } catch (e) {
                    utag.DB(e)
                }
            }
            , function(a, b) {
                try {
                    if ((typeof b['event.Name'] != 'undefined' && b['event.Name'].toString().toLowerCase().indexOf('load_healthy_option_product'.toLowerCase()) > -1)) {
                        try {
                            b['product.HealthySwapProduct'] = b['event.Value'].split(',')
                        } catch (e) {}
                    }
                } catch (e) {
                    utag.DB(e);
                }
            }
            , function(a, b) {
                try {
                    if ((typeof b['event.Label'] != 'undefined' && b['event.Label'].toString().toLowerCase() == 'DSS: Cancel Subscription'.toLowerCase())) {
                        b['user.CancelDeliveryUnlimited'] = '1'
                    }
                } catch (e) {
                    utag.DB(e);
                }
            }
            , function(a, b) {
                try {
                    if ((typeof b['page.Name'] != 'undefined' && /ww-sm:shop:browse:pet:dog-puppy:dog-treats-milk$/i.test(b['page.Name'])) || (typeof b['page.Name'] != 'undefined' && /ww-sm:shop:browse:health-beauty:skin-care$/i.test(b['page.Name'])) || (typeof b['page.Name'] != 'undefined' && /ww-sm:shop:browse:dairy-eggs-fridge:yoghurt$/i.test(b['page.Name'])) || (typeof b['page.Name'] != 'undefined' && /ww-sm:shop:browse:pantry:international-foods$/i.test(b['page.Name'])) || (typeof b['page.Name'] != 'undefined' && /ww-sm:shop:browse:pantry:baking$/i.test(b['page.Name'])) || (typeof b['page.Name'] != 'undefined' && /ww-sm:shop:browse:drinks:soft-drinks$/i.test(b['page.Name']))) {
                        b['medallia.CitrusAdsFlag'] = b['settings.CRO.CitrusAdsTargetingType']
                    }
                } catch (e) {
                    utag.DB(e);
                }
            }
            , function(a, b) {
                try {
                    if ((typeof b['product.TileAvailability'] != 'undefined' && b['product.TileAvailability'].toString().toLowerCase() == 'false'.toLowerCase() && typeof b['product.TileRestockDate'] != 'undefined' && b['product.TileRestockDate'].toString().toLowerCase() == 'true'.toLowerCase())) {
                        b['product.OutOfStockWithRestock'] = 'true'
                    }
                } catch (e) {
                    utag.DB(e);
                }
            }
            , function(a, b) {
                try {
                    if (1) {
                        var getTimeParting = function(a) {
                            a = document.documentMode ? void 0 : a || "Etc/GMT";
                            a = (new Date).toLocaleDateString("en-US", {
                                timeZone: a,
                                minute: "numeric",
                                hour: "numeric",
                                weekday: "long",
                                day: "numeric",
                                year: "numeric",
                                month: "long"
                            });
                            a = /([a-zA-Z]+).*?([a-zA-Z]+).*?([0-9]+).*?([0-9]+)(.*?)([0-9])(.*)/.exec(a);
                            return "year=" + a[4] + " | month=" + a[2] + " | date=" + a[3] + " | day=" + a[1] + " | time=" + (a[6] + a[7])
                        };
                        var timeParting = getTimeParting("Australia/Sydney").split(" | ");
                        timeParting.forEach(function(t) {
                            var k = t.split("=")[0];
                            var v = t.split("=")[1];
                            b["visitor.TimeParting" + k.charAt(0).toUpperCase() + k.slice(1)] = v;
                        });
                    }
                } catch (e) {
                    utag.DB(e)
                }
            }
            , function(a, b) {
                try {
                    if ((typeof b['product.SAPCategory'] != 'undefined' && b['product.SAPCategory'] != '' && typeof b['product.IsAvailable'] != 'undefined' && b['product.IsAvailable'] != '')) {
                        var cats = b['product.SAPCategory'];
                        var stocks = b['product.IsAvailable'];
                        var isArray = cats instanceof Array && stocks instanceof Array;
                        if (!isArray)
                            return;
                        if (cats.length != stocks.length)
                            return;
                        var catsOutOfStock = [];
                        for (var i = 0; i < stocks.length; i++) {
                            if (!stocks[i] && cats[i]) {
                                catsOutOfStock.push(cats[i]);
                            }
                        }
                        b['product.SAPCategoryOutOfStock'] = catsOutOfStock;
                    }
                } catch (e) {
                    utag.DB(e)
                }
            }
            , function(a, b) {
                try {
                    if (1) {
                        b["optimisation.ActivityID"] = JSON.parse(sessionStorage.getItem("optimisation_ActivityID") || "[]");
                        b["optimisation.ExperienceID"] = JSON.parse(sessionStorage.getItem("optimisation_ExperienceID") || "[]");
                        b["optimisation.OfferID"] = JSON.parse(sessionStorage.getItem("optimisation_OfferID") || "[]");
                        var newOptimisation = false;
                        var mboxes = (window.atMETA || {});
                        Object.keys(mboxes).forEach(function(m, i) {
                            var mbox = window.atMETA[m];
                            var isOpti = mbox["ActivityName"] && mbox["ActivityName"].match(/^OPTI/);
                            if (isOpti) {
                                var isNew = mbox["ActivityID"] && (b["optimisation.ActivityID"].indexOf(mbox["ActivityID"]) < 0);
                                if (isNew) {
                                    b["optimisation.ActivityID"].push(mbox["ActivityID"] || "");
                                    b["optimisation.ExperienceID"].push(mbox["ExperienceID"] || "");
                                    b["optimisation.OfferID"].push(mbox["OfferID"] || "");
                                    newOptimisation = true;
                                }
                            }
                        });
                        sessionStorage.setItem("optimisation_ActivityID", JSON.stringify(b["optimisation.ActivityID"]));
                        sessionStorage.setItem("optimisation_ExperienceID", JSON.stringify(b["optimisation.ExperienceID"]));
                        sessionStorage.setItem("optimisation_OfferID", JSON.stringify(b["optimisation.OfferID"]));
                        newOptimisation = (newOptimisation && !!utag.cfg.utagdb);
                        if (newOptimisation) {
                            utag.link({
                                "tealium_event": "optimisation_track"
                            })
                        }
                    }
                } catch (e) {
                    utag.DB(e)
                }
            }
            , function(a, b) {
                try {
                    if (1) {
                        var b = b || {};
                        var ECID = b["adobe.ECID"] || "";
                        var adobeOrgID = "4353388057AC8D357F000101@AdobeOrg"
                        if (!ECID) {
                            try {
                                utag.DB("adobe.ECID: SDK Fetch");
                                ECID = (window.visitor || Visitor.getInstance(adobeOrgID)).getMarketingCloudVisitorID();
                            } catch (ex) {}
                        }
                        if (!ECID) {
                            try {
                                utag.DB("adobe.ECID: Cookie Fetch");
                                ECID = b["cp.AMCV_" + adobeOrgID].match(/MCMID\|([^|]*)/)[1];
                            } catch (ex) {}
                        }
                        if (!ECID) {
                            utag.DB("adobe.ECID: Could Not Fetch");
                        }
                        b["adobe.ECID"] = ECID;
                    }
                } catch (e) {
                    utag.DB(e)
                }
            }
            , function(a, b, c, d) {
                try {
                    if (1) {
                        c = [b['ut.profile'], b['ut.env']];
                        b['profileEnvironment'] = c.join('__')
                    }
                } catch (e) {
                    utag.DB(e);
                }
            }
            , function(a, b, c, d, e, f, g) {
                if (1) {
                    d = b['profileEnvironment'];
                    if (typeof d == 'undefined')
                        return;
                    c = [{
                        'rewards[_][_]prod': 'key_live_hfIK5u9RVv0vM5jPljURBgmhqspTiwxa'
                    }, {
                        'rewards[_][_](dev|qa)': 'key_test_hfHUXBWQIDXvMWkGodTLmfgauujVlxn1'
                    }, {
                        'supermarkets[_][_]prod': 'key_live_khMWDl4bjlMy4XbyKAHvEokjCsk63mrM'
                    }, {
                        'supermarkets[_][_](dev|qa)': 'key_test_ncO3zfZhimMrW6cxQFJDubgbzwlW2bC2'
                    }];
                    var m = false;
                    for (e = 0; e < c.length; e++) {
                        for (f in utag.loader.GV(c[e])) {
                            g = new RegExp(f,'i');
                            if (g.test(d)) {
                                b['branch.Key'] = c[e][f];
                                m = true
                            }
                            ;
                        }
                        ;if (m)
                            break
                    }
                    ;
                }
            }
            , function(a, b) {
                try {
                    if (typeof b['product.SAPCategory'] != 'undefined') {
                        var flag = false;
                        var c = b["product.SAPCategory"] || [];
                        for (var i = 0; i < c.length; i++) {
                            var category = c[i];
                            if (category == "CIGARETTES") {
                                flag = true;
                            }
                        }
                        if (!!flag) {
                            b["page.TobaccoFlag"] = flag.toString()
                        }
                    }
                } catch (e) {
                    utag.DB(e)
                }
            }
            , function(a, b) {
                try {
                    if (1) {
                        window.mobileCheck = function() {
                            let check = false;
                            (function(a) {
                                    if (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0, 4)))
                                        check = true;
                                }
                            )(navigator.userAgent || navigator.vendor || window.opera);
                            return check;
                        }
                        ;
                        b['branch.MobileCheck'] = JSON.stringify(mobileCheck() || false);
                    }
                } catch (e) {
                    utag.DB(e)
                }
            }
            , function(a, b) {
                try {
                    if (1) {
                        try {
                            b['user.ScoredCampaigns'] = utag.ut.typeOf(b["va.property_sets.7380"]) != "undefined" ? b["va.property_sets.7380"].join(",") : "Unknown"
                        } catch (e) {}
                    }
                } catch (e) {
                    utag.DB(e);
                }
            }
            , function(a, b) {
                try {
                    if ((typeof b['product.AdID'] != 'undefined' && typeof b['product.AdID'] != 'undefined' && b['product.AdID'] != '')) {
                        b["citrus.ServerSide"] = "true";
                        var adIDs = b["product.AdID"] || [""];
                        var isSponsored = !!adIDs.join("").length;
                        var isImpression = isSponsored && (b["ut.event"] == "view" && (b["page.Type"] == "search" || b["page.Type"] == "productcategory"));
                        var isRecommendedImpression = isSponsored && (b["ut.event"] == "link" && (b["event.Name"] == "show_most_popular" || b["event.Name"] == "show_you_may_also_like"));
                        var isClick = isSponsored && (b["ut.event"] == "link" && (b["event.Name"] == "cart_add" || b["event.Name"] == "list_add" || b["event.Name"] == "product_click"));
                        if (isImpression) {
                            b["citrus.IsImpression"] = "true"
                        }
                        if (isRecommendedImpression) {
                            b["citrus.IsImpression"] = "true"
                        }
                        if (isClick) {
                            b["citrus.IsClick"] = "true"
                        }
                    }
                } catch (e) {
                    utag.DB(e)
                }
            }
            , function(a, b) {
                try {
                    if (1) {
                        if (b['tealium_event'].toString().toLowerCase() == 'cart_add'.toLowerCase() && typeof b['product.SAPCategory'] != 'undefined') {
                            var currentSAPCategory = b["product.SAPCategory"][0];
                            var existingData = JSON.parse(sessionStorage.getItem("cart.SAPCategories_InSession"));
                            if (existingData === null) {
                                existingData = [];
                            }
                            if (existingData.indexOf(currentSAPCategory) === -1) {
                                existingData.push(currentSAPCategory);
                            }
                            sessionStorage.setItem("cart.SAPCategories_InSession", JSON.stringify(existingData));
                        }
                        var allData = JSON.parse(sessionStorage.getItem("cart.SAPCategories_InSession") || "[]").toString();
                        b["cart.SAPCategories_InSession"] = allData;
                    }
                } catch (e) {
                    utag.DB(e)
                }
            }
            , function(a, b, c, d) {
                try {
                    if ((typeof b['subscription.Name'] != 'undefined' && b['subscription.Name'] != '' && typeof b['subscription.Type'] != 'undefined' && b['subscription.Type'] != '')) {
                        c = [b['subscription.Name'], b['subscription.Type'], b['subscription.EntryPage']];
                        b['adobe_subscription_details'] = c.join('|')
                    }
                } catch (e) {
                    utag.DB(e);
                }
            }
            , function(a, b) {
                try {
                    if ((typeof b['cp.mbox'] != 'undefined' && typeof b['cp.mbox'] != 'undefined' && b['cp.mbox'] != '')) {
                        var mc = b["cp.mbox"];
                        var mc_map = {};
                        var mc_params = mc.split("|");
                        for (var i = 0; i < mc_params.length; i++) {
                            try {
                                mc_map[mc_params[i].split("#")[0]] = mc_params[i].split("#")[1]
                            } catch (ex) {
                                utag.DB(ex)
                            }
                        }
                        var sessionId = mc_map["session"];
                        if (sessionId) {
                            b["adobe.sessionId"] = sessionId
                        }
                    }
                } catch (e) {
                    utag.DB(e)
                }
            }
            , function(a, b) {
                try {
                    if (1) {
                        try {
                            b['user.RNLScoredCampaigns'] = utag.data["user.RNLScoredCampaigns"] = b["user.RNLScoredCampaigns"] == "" ? "Unknown" : b["user.RNLScoredCampaigns"]
                        } catch (e) {}
                        ;try {
                            b['user.CNAScoredCampaigns'] = utag.data["user.CNAScoredCampaigns"] = b["user.CNAScoredCampaigns"] == "" ? "Unknown" : b["user.CNAScoredCampaigns"]
                        } catch (e) {}
                        ;try {
                            b['user.RNLActivatedCampaigns'] = utag.data["user.RNLActivatedCampaigns"] = b["user.RNLActivatedCampaigns"] == "" ? "Unknown" : b["user.RNLActivatedCampaigns"]
                        } catch (e) {}
                        ;try {
                            b['user.ONMScoredCampaigns'] = utag.data["user.ONMScoredCampaigns"] = b["user.ONMScoredCampaigns"] == "" ? "Unknown" : b["user.ONMScoredCampaigns"]
                        } catch (e) {}
                    }
                } catch (e) {
                    utag.DB(e);
                }
            }
            , function(a, b) {
                try {
                    if ((typeof b['branch.Key'] != 'undefined' && b['branch.Key'] != '' && typeof b['branch.MobileCheck'] != 'undefined' && b['branch.MobileCheck'].toString().toLowerCase() == 'true'.toLowerCase() && b['ut.env'] == 'qa') || (typeof b['branch.Key'] != 'undefined' && b['branch.Key'] != '' && typeof b['branch.MobileCheck'] != 'undefined' && b['branch.MobileCheck'].toString().toLowerCase() == 'true'.toLowerCase() && b['ut.env'] == 'prod')) {
                        b['branchEnabled'] = 'true'
                    }
                } catch (e) {
                    utag.DB(e);
                }
            }
            , function(a, b, c, d) {
                try {
                    if (typeof b['medallia.FormID'] != 'undefined') {
                        c = [b['medallia.FormID'], b['medallia.FormType'], b['medallia.FeedbackUUID']];
                        b['adobe_medallia_survey'] = c.join('|')
                    }
                } catch (e) {
                    utag.DB(e);
                }
            }
            , function(a, b) {
                if (typeof b['cp.fullstoryEnabled'] == 'undefined' || b['cp.fullstoryEnabled'] == '') {
                    var r = parseInt((Math.random() * 100) + 1);
                    var s = {
                        'true': 10,
                        'false': 90
                    };
                    var g = {}, k = 0, i;
                    for (i in s) {
                        if (!s.hasOwnProperty(i)) {
                            continue;
                        }
                        k++;
                        g[i] = {};
                        g[i].min = k;
                        k = k + s[i] - 1;
                        g[i].max = k;
                    }
                    for (i in g) {
                        if (!g.hasOwnProperty(i)) {
                            continue;
                        }
                        if (r >= g[i].min && r <= g[i].max) {
                            s = i;
                            break;
                        }
                    }
                    document.cookie = "fullstoryEnabled=" + s + ";path=/;domain=" + utag.cfg.domain + ";expires=";
                    b['cp.fullstoryEnabled'] = s;
                }
            }
            , function(a, b, c, d) {
                try {
                    if (typeof b['subscription.Id'] != 'undefined' && b['subscription.Id'] != '') {
                        c = [b['subscription.Id'], b['subscription.Name'], b['subscription.Type'], b['subscription.EntryPage']];
                        b['adobe_subscription_signup'] = c.join('|')
                    }
                } catch (e) {
                    utag.DB(e);
                }
            }
            , function(a, b, c, d) {
                try {
                    if (typeof b['user.ProfileIsRewardsMember'] != 'undefined' && b['user.ProfileIsRewardsMember'] != '') {
                        c = [b['user.ProfileIsRewardsMember'], b['user.ProfileRewardsType']];
                        b['adobe_user_rewardsdetails'] = c.join('|')
                    }
                } catch (e) {
                    utag.DB(e);
                }
            }
            , function(a, b) {
                try {
                    if ((typeof b['healthySwaps.CountOfSubs'] != 'undefined' && parseFloat(b['healthySwaps.CountOfSubs']) >= parseFloat(1))) {
                        b['adobe_healthy_swaps_available'] = '1'
                    }
                } catch (e) {
                    utag.DB(e);
                }
            }
            , function(a, b) {
                try {
                    if (typeof b['product.OfferRTLCampaignCode'] != 'undefined') {
                        b['offer.RTLAccountID'] = b['product.OfferRTLAccountID'];
                        b['offer.RTLCampaignCode'] = b['product.OfferRTLCampaignCode'];
                        b['offer.RTLCampaignID'] = b['product.OfferRTLCampaignID'];
                        b['offer.Status'] = b['product.OfferStatus']
                    }
                } catch (e) {
                    utag.DB(e);
                }
            }
            , function(a, b) {
                try {
                    if (b['tealium_event'].toString().toLowerCase() == 'user_register'.toLowerCase() || b['tealium_event'].toString().toLowerCase() == 'user_login'.toLowerCase() || b['tealium_event'].toString().toLowerCase() == 'subscription_success'.toLowerCase() || b['tealium_event'].toString().toLowerCase() == 'rewards_link_success'.toLowerCase() || b['tealium_event'].toString().toLowerCase() == 'list_add'.toLowerCase() || b['tealium_event'].toString().toLowerCase() == 'cart_add'.toLowerCase() || b['tealium_event'].toString().toLowerCase() == 'checkout'.toLowerCase() || b['tealium_event'].toString().toLowerCase() == 'purchase'.toLowerCase()) {
                        b['fs_eventname'] = b['tealium_event']
                    }
                } catch (e) {
                    utag.DB(e);
                }
            }
            , function(a, b) {
                try {
                    if ((b['ut.event'].toString().toLowerCase() == 'view'.toLowerCase() && typeof b['mbox.Name'] == 'undefined' && b['settings.AdobeTarget.EnableCRO'].toString().toLowerCase() != 'false'.toLowerCase() && b['dom.pathname'].toString().toLowerCase() != '/'.toLowerCase() && b['dom.pathname'].toString().toLowerCase() != '/shop/page/preview-homepage'.toLowerCase()) || (b['dom.pathname'].toString().toLowerCase() == '/'.toLowerCase() && b['ut.event'].toString().toLowerCase() == 'view'.toLowerCase() && b['settings.AdobeTarget.EnableCRO'].toString().toLowerCase().indexOf('false'.toLowerCase()) < 0 && typeof b['mbox.Name'] == 'undefined' && b['settings.AdobeTarget.EnablePrefetchHomePageGlobalMbox'].toString().toLowerCase() == 'false'.toLowerCase())) {
                        __TEALIUM.adobe.target.mboxes = __TEALIUM.adobe.target.mboxes || [];
                        __TEALIUM.adobe.target.at_property = __TEALIUM.adobe.target.at_property || b["adobe_at_property"];
                        var globalMbox = {
                            type: "create",
                            args: ["target-global-mbox", "at_property=" + __TEALIUM.adobe.target.at_property]
                        };
                        utag.DB("globalMbox");
                        utag.DB(globalMbox);
                        __TEALIUM.adobe.target.mboxes.unshift(globalMbox);
                        window.visitor = window.visitor || Visitor.getInstance("4353388057AC8D357F000101@AdobeOrg");
                        window.visitor.resetState();
                    }
                } catch (e) {
                    utag.DB(e)
                }
            }
            , function(a, b) {
                try {
                    if (b['ut.event'].toString().toLowerCase() == 'view'.toLowerCase()) {
                        __TEALIUM.adobe.target.mboxes = __TEALIUM.adobe.target.mboxes || [];
                        __TEALIUM.adobe.target.at_property = __TEALIUM.adobe.target.at_property || b["adobe_at_property"];
                        __TEALIUM.adobe.target.at_property_acs = __TEALIUM.adobe.target.at_property_acs || b["adobe_at_property_acs"];
                        function createCustomMbox(mboxName, at_property, requestId) {
                            var mboxSelector = "[data-mbox-request-id='" + requestId + "']";
                            var mboxParams = [mboxName, "at_property=" + at_property];
                            var mbox = {
                                type: "create",
                                selector: mboxSelector,
                                args: mboxParams
                            };
                            utag.DB("createCustomMbox('" + mboxName + "')");
                            utag.DB(mbox);
                            __TEALIUM.adobe.target.mboxes.push(mbox);
                            var mboxEl = document.querySelector(mboxSelector);
                            function mboxClickListener() {
                                if (mboxEl && !mboxEl.mboxClickListener) {
                                    mboxEl.mboxClickListener = true;
                                    adobe.target.trackEvent({
                                        'mbox': 'clicked-' + mboxName,
                                        'type': 'click'
                                    });
                                }
                            }
                            mboxEl.addEventListener("click", mboxClickListener, true);
                        }
                        var brandedShopPage = window.location.pathname;
                        if (brandedShopPage != 'undefined' && brandedShopPage.includes("featured-brands/")) {
                            var adResponseDOM = document.querySelectorAll("[stitch-id]");
                            if (adResponseDOM != 'undefined' && adResponseDOM.length > 0) {
                                for (let div of document.querySelectorAll('[stitch-id]')) {
                                    var stitchID = div.getAttribute("stitch-id");
                                    if (stitchID) {
                                        window.acs.trackEvent("brandedShop", "impression", {
                                            "StitchID": stitchID
                                        });
                                    }
                                }
                            }
                        }
                        if (window.location.pathname != 'undefined' && window.location.pathname === '/') {
                            var lazyLoadImagesInterval = setInterval(function() {
                                var images = [].slice.call(document.querySelectorAll("[acs] .lazy-loaded-image.lazy"));
                                if (images && images.length > 0) {
                                    clearInterval(lazyLoadImagesInterval);
                                    lazyLoadImages(images);
                                }
                            }, 50);
                        }
                        function lazyLoadImages(images) {
                            if ('IntersectionObserver'in window) {
                                const imageObserver = new IntersectionObserver((entries,observer)=>{
                                        entries.forEach(entry=>{
                                                if (entry.intersectionRatio > 0.0) {
                                                    const image = entry.target;
                                                    if (!image.hasAttribute('src')) {
                                                        image.setAttribute('src', image.dataset.src);
                                                    }
                                                    image.onload = ()=>image.classList.remove("lazy");
                                                    imageObserver.unobserve(image);
                                                }
                                            }
                                        );
                                    }
                                );
                                images.forEach(img=>imageObserver.observe(img));
                            } else {
                                const inViewport = selector=>{
                                    const element = document.querySelector(selector)
                                    const elementBoundingClientRect = element && element.getBoundingClientRect();
                                    const offset = 50;
                                    if (elementBoundingClientRect) {
                                        return (elementBoundingClientRect.top - offset >= 0 && elementBoundingClientRect.bottom > 0 && elementBoundingClientRect.bottom + offset <= window.innerHeight);
                                    } else {
                                        return false;
                                    }
                                }
                                document.onscroll = ()=>{
                                    if (inViewport('.lazy-loaded-image.lazy')) {
                                        images.forEach(img=>{
                                                img.src = img.dataset.src;
                                                img.classList.remove("lazy");
                                            }
                                        );
                                    }
                                }
                            }
                        }
                        var customMbox = b["mbox.Name"] || "";
                        var customMboxSelector = customMbox ? "[data-mbox='" + customMbox + "']" : "[data-mbox]:not(.at-element-marker)";
                        var customMboxElements = document.querySelectorAll(customMboxSelector);
                        customMboxElements.forEach(function(mboxEl, i) {
                            utag.DB('acs-testing-create-custom-mbox ', mboxEl.id);
                            var requestId = "" + Math.random().toString(36).substr(2, 9);
                            mboxEl.setAttribute("data-mbox-request-id", requestId);
                            mboxEl.removeAttribute("data-mbox-impression-tracked");
                            var mboxName = mboxEl.dataset.mbox;
                            var isACS = !!mboxName.match(/^acs/);
                            var allowCRO = !!b["settings.AdobeTarget.EnableCRO"];
                            if (isACS) {
                                createCustomMbox(mboxEl.dataset.mbox, __TEALIUM.adobe.target.at_property_acs, requestId);
                            } else if (allowCRO) {
                                createCustomMbox(mboxEl.dataset.mbox, __TEALIUM.adobe.target.at_property, requestId);
                            } else {
                                utag.DB("customMbox: " + mboxName + ": Not Created");
                            }
                        });
                    }
                } catch (e) {
                    utag.DB(e)
                }
            }
            , function(a, b, c, d) {
                b._ccity = (typeof b['user.DetailsCity'] != 'undefined') ? b['user.DetailsCity'] : '';
                b._ccountry = (typeof b['user.DetailsCountry'] != 'undefined') ? b['user.DetailsCountry'] : '';
                b._ccurrency = (typeof b['order.CurrencyCode'] != 'undefined') ? b['order.CurrencyCode'] : '';
                b._ccustid = (typeof b['user.ProfileID'] != 'undefined') ? b['user.ProfileID'] : '';
                b._corder = (typeof b['order.ID'] != 'undefined') ? b['order.ID'] : '';
                b._cpromo = (typeof b['order.PromoCode'] != 'undefined') ? b['order.PromoCode'] : '';
                b._cship = (typeof b['order.ShippingTotal'] != 'undefined') ? b['order.ShippingTotal'] : '';
                b._cstate = (typeof b['user.DetailsState'] != 'undefined') ? b['user.DetailsState'] : '';
                b._cstore = (typeof b['order.Store'] != 'undefined') ? b['order.Store'] : 'web';
                b._csubtotal = (typeof b['order.SubTotal'] != 'undefined') ? b['order.SubTotal'] : '';
                b._ctax = (typeof b['order.TaxAmount'] != 'undefined') ? b['order.TaxAmount'] : '';
                b._ctotal = (typeof b['order.Total'] != 'undefined') ? b['order.Total'] : '';
                b._ctype = (typeof b['order.Type'] != 'undefined') ? b['order.Type'] : '';
                b._czip = (typeof b['user.DetailsPostcode'] != 'undefined') ? b['user.DetailsPostcode'] : '';
                b._cprod = (typeof b['product.ID'] != 'undefined' && b['product.ID'].length > 0) ? b['product.ID'] : [];
                b._cprodname = (typeof b['product.Name'] != 'undefined' && b['product.Name'].length > 0) ? b['product.Name'] : [];
                b._cbrand = (typeof b['product.Brand'] != 'undefined' && b['product.Brand'].length > 0) ? b['product.Brand'] : [];
                b._ccat = (typeof b['product.Category'] != 'undefined' && b['product.Category'].length > 0) ? b['product.Category'] : [];
                b._ccat2 = (typeof b[''] != 'undefined' && b[''].length > 0) ? b[''] : [];
                b._cquan = (typeof b['product.Quantity'] != 'undefined' && b['product.Quantity'].length > 0) ? b['product.Quantity'] : [];
                b._cprice = (typeof b['product.Price'] != 'undefined' && b['product.Price'].length > 0) ? b['product.Price'] : [];
                b._csku = (typeof b['product.ID'] != 'undefined' && b['product.ID'].length > 0) ? b['product.ID'] : [];
                b._cpdisc = (typeof b['product.Discount'] != 'undefined' && b['product.Discount'].length > 0) ? b['product.Discount'] : [];
                if (b._cprod.length == 0) {
                    b._cprod = b._csku.slice()
                }
                ;if (b._cprodname.length == 0) {
                    b._cprodname = b._csku.slice()
                }
                ;function tf(a) {
                    if (a == '' || isNaN(parseFloat(a))) {
                        return a
                    } else {
                        return (parseFloat(a)).toFixed(2)
                    }
                }
                ;b._ctotal = tf(b._ctotal);
                b._csubtotal = tf(b._csubtotal);
                b._ctax = tf(b._ctax);
                b._cship = tf(b._cship);
                for (c = 0; c < b._cprice.length; c++) {
                    b._cprice[c] = tf(b._cprice[c])
                }
                ;for (c = 0; c < b._cpdisc.length; c++) {
                    b._cpdisc[c] = tf(b._cpdisc[c])
                }
                ;
            }
            , function(a, b) {
                try {
                    if (b['ut.event'] == 'view') {
                        $(function() {
                            $("#product-thumbnail-gallery > a").on("click", function() {
                                utag.track("link", {
                                    "event.Name": "link_click",
                                    "event.Label": "Product Thumbnail" + ($(this).index() + 1)
                                });
                            });
                        });
                    }
                } catch (e) {
                    utag.DB(e)
                }
            }
            , function(a, b) {
                try {
                    if (b['ut.event'] == 'view') {
                        $(function() {
                            $(".productDetail-bundleContainer > wow-bundle-item").on("click", function() {
                                utag.track("link", {
                                    "event.Name": "link_click",
                                    "event.Label": "Bundle Item " + $(this).find(".bundleItem-itemTextLink").text().trim()
                                });
                            });
                        });
                    }
                } catch (e) {
                    utag.DB(e)
                }
            }
            , function(a, b) {
                try {
                    if (b['ut.event'] == 'view') {
                        $("#canLeaveUnattendedPreference").change(function() {
                            utag.track("link", {
                                "event.Name": "link_click",
                                "event.Label": "Leave Unattended: " + $("#canLeaveUnattendedPreference").is(':checked')
                            });
                        });
                    }
                } catch (e) {
                    utag.DB(e)
                }
            }
            , function(a, b) {
                try {
                    if ((typeof b['event.Name'] != 'undefined' && b['event.Name'].toString().toLowerCase() == 'cart_add'.toLowerCase()) || (typeof b['event.Name'] != 'undefined' && b['event.Name'].toString().toLowerCase() == 'cart_add_all'.toLowerCase())) {
                        b['cart_add_value'] = b['product.Price']
                    }
                } catch (e) {
                    utag.DB(e);
                }
            }
            , function(a, b) {
                try {
                    if ((typeof b['event.Name'] != 'undefined' && b['event.Name'].toString().toLowerCase() == 'cart_remove'.toLowerCase())) {
                        b['cart_remove_value'] = b['product.Price']
                    }
                } catch (e) {
                    utag.DB(e);
                }
            }
            , function(a, b) {
                try {
                    if ((typeof b['event.Name'] != 'undefined' && b['event.Name'].toString().toLowerCase().indexOf('nsb_add_all'.toLowerCase()) > -1)) {
                        b['reorder.ProductCount.AddAll'] = b['reorder.ProductCount']
                    }
                } catch (e) {
                    utag.DB(e);
                }
            }
            , function(a, b) {
                try {
                    if ((typeof b['event.Name'] != 'undefined' && b['event.Name'].toString().toLowerCase().indexOf('nsb_add_all'.toLowerCase()) > -1)) {
                        b['reorder.TotalQuantity.AddAll'] = b['reorder.TotalQuantity']
                    }
                } catch (e) {
                    utag.DB(e);
                }
            }
            , function(a, b) {
                try {
                    if ((b['ut.event'] == 'view' && b['dom.pathname'].toString().toLowerCase().indexOf('/shop/discover/shopping-online/quick-shop'.toLowerCase()) > -1)) {
                        [].slice.call(document.querySelectorAll(".list__block a.button--primary")).forEach(function(a) {
                            a.addEventListener("click", function(e) {
                                var args = e.target.getAttribute("ng-click").replace("addMultiItemsToTrolley\(", "").replace("\)", "").replace(/\'/g, "").split(/\,\s/g);
                                var linkName = args[1];
                                var linkProducts = args[0].split(",").map(String);
                                var linkSources = [];
                                for (var i = 0; i < linkProducts.length; i++) {
                                    linkSources.push(linkName)
                                }
                                utag.track("link", {
                                    "event.Name": "cart_add",
                                    "event.Category": "button",
                                    "event.Action": "click",
                                    "event.Label": linkName,
                                    "product.ID": linkProducts,
                                    "product.Source": linkSources
                                });
                            }, false)
                        });
                    }
                } catch (e) {
                    utag.DB(e)
                }
            }
            , function(a, b) {
                try {
                    if ((typeof b['event.Category'] != 'undefined' && b['event.Category'].toString().toLowerCase().indexOf('Delivery Window'.toLowerCase()) > -1 && typeof b['event.Label'] != 'undefined' && b['event.Label'].toString().toLowerCase().indexOf('Super market selected'.toLowerCase()) > -1) || (typeof b['event.Category'] != 'undefined' && b['event.Category'].toString().toLowerCase().indexOf('Delivery Address'.toLowerCase()) > -1 && typeof b['event.Label'] != 'undefined' && b['event.Label'].toString().toLowerCase().indexOf('AMAS address selection (New)'.toLowerCase()) > -1) || (typeof b['event.Category'] != 'undefined' && b['event.Category'].toString().toLowerCase().indexOf('Delivery Address'.toLowerCase()) > -1 && typeof b['event.Label'] != 'undefined' && b['event.Label'].toString().toLowerCase().indexOf('Previously used address selection'.toLowerCase()) > -1)) {
                        utag.DB('Delivery Address Changed!');
                        if (typeof window.targetFunctionCall == "function")
                            window.targetFunctionCall();
                    }
                } catch (e) {
                    utag.DB(e)
                }
            }
            , function(a, b) {
                try {
                    if (1) {
                        var productASIds = [6095, 6097, 6099, 6101, 6103, 6105, 6107, 6109, 6111, 6113, 6115, 6117];
                        for (var i = 0; i < productASIds.length; i++) {
                            var key = 'va.properties.' + productASIds[i];
                            if (b[key] === undefined)
                                continue;
                            var li = b[key].lastIndexOf('-');
                            if (li === -1)
                                continue;
                            b[key] = b[key].slice(0, li);
                        }
                    }
                } catch (e) {
                    utag.DB(e)
                }
            }
            , function(a, b) {
                try {
                    utag.runonce = utag.runonce || {};
                    utag.runonce.ext = utag.runonce.ext || {};
                    if (typeof utag.runonce.ext[378] == 'undefined') {
                        utag.runonce.ext[378] = 1;
                        if (b['ut.event'].toString().toLowerCase() == 'view'.toLowerCase()) {
                            var yt_frames = document.querySelectorAll('iframe[src*="youtube.com"]');
                            if (yt_frames) {
                                window.iframe_id = [];
                                [].slice.call(yt_frames).forEach(function(e, i) {
                                    if (!e.id)
                                        e.id = 'tealium_youtube' + i;
                                    window.iframe_id.push(e.id);
                                });
                            }
                            function setMileStones(i) {
                                mileStones[i] = [50, 90];
                            }
                            var mileStones = [];
                            if (window.iframe_id) {
                                for (i = 0; i < window.iframe_id.length; i++) {
                                    setMileStones(i);
                                }
                            }
                            var ytapi = document.createElement('script');
                            ytapi.src = "https://ww" + "w.youtube" + ".com/iframe_api";
                            var scriptref = document.getElementsByTagName('script')[0];
                            scriptref.parentNode.insertBefore(ytapi, scriptref);
                            window.players = window.players || [];
                            window.onYouTubeIframeAPIReady = window.onYouTubeIframeAPIReady || function() {
                                [].slice.call(document.querySelectorAll('iframe[src*="youtube.com"]')).forEach(function(e, i) {
                                    var id = e.id;
                                    window.players[id] = new YT.Player(id,{
                                        events: {
                                            'onReady': onPlayerReady,
                                            'onStateChange': onPlayerStateChange
                                        }
                                    });
                                });
                            }
                            ;
                            window.start = window.start || [];
                            window.onPlayerReady = window.onPlayerReady || function(event) {
                                var idx;
                                for (i = 0; i < window.iframe_id.length; i++) {
                                    if (window.iframe_id[i] === event.target.getIframe().id) {
                                        idx = i;
                                    }
                                    window.start.push(true);
                                }
                            }
                            ;
                            var playerCheckInterval, event;
                            window.onPlayerStateChange = window.onPlayerStateChange || function(event) {
                                player = event.target;
                                var playhead, idx;
                                for (i = 0; i < window.iframe_id.length; i++) {
                                    if (window.iframe_id[i] === event.target.getIframe().id) {
                                        idx = i;
                                    }
                                }
                                tealium_event = "";
                                if (event.data == YT.PlayerState.PLAYING) {
                                    if (start[idx]) {
                                        if (mileStones[idx].length > 0) {
                                            playerCheckInterval = setInterval(mileStoneCheck, 50);
                                        }
                                        tealium_event = "video_start";
                                        playhead = 0;
                                    }
                                    start[idx] = false;
                                } else if (event.data == YT.PlayerState.ENDED) {
                                    if (mileStones[idx].length > 0) {
                                        clearInterval(playerCheckInterval);
                                        playerCheckInterval = 0;
                                        setMileStones(idx);
                                    }
                                    tealium_event = "video_complete";
                                    playhead = Math.round(player.getDuration()).toString();
                                }
                                if (tealium_event) {
                                    utag.DB("Video event: " + tealium_event + ", video ID: " + window.iframe_id[idx]);
                                    var player_data = player.getVideoData();
                                    utag.link({
                                        "tealium_event": tealium_event,
                                        "video.Playhead": parseInt(playhead).toString(),
                                        "video.ID": player_data.video_id,
                                        "video.Length": Math.round(player.getDuration()).toString(),
                                        "video.Name": player_data.title,
                                        "video.Platform": 'YouTube'
                                    });
                                }
                                function mileStoneCheck() {
                                    var idx;
                                    for (i = 0; i < window.iframe_id.length; i++) {
                                        if (window.iframe_id[i] === player.getIframe().id) {
                                            idx = i;
                                        }
                                    }
                                    var duration = Math.round(player.getDuration());
                                    var playhead = parseInt(player.getCurrentTime());
                                    var percComplete = (playhead / duration) * 100;
                                    var ms_len = mileStones[idx].length;
                                    if (ms_len > 0) {
                                        var next_ms = mileStones[idx][0];
                                        var milestoneEvent = "video_milestone".concat(next_ms.toString());
                                        if (next_ms <= percComplete) {
                                            mileStones[idx].shift();
                                            utag.DB("Video event: video_milestone, video ID: " + window.iframe_id[idx] + ", Milestone=" + percComplete.toFixed());
                                            var player_data = player.getVideoData();
                                            utag.link({
                                                "tealium_event": milestoneEvent,
                                                "video.Playhead": parseInt(playhead).toString(),
                                                "video.ID": player_data.video_id,
                                                "video.Length": duration.toString(),
                                                "video.Milestone": next_ms.toString(),
                                                "video.Name": player_data.title,
                                                "video.Platform": 'YouTube'
                                            });
                                        }
                                    }
                                }
                            }
                            ;
                        }
                    }
                } catch (e) {
                    utag.DB(e)
                }
            }
            , function(a, b) {
                try {
                    if ((b['ut.event'].toString().toLowerCase() == 'view'.toLowerCase() && typeof b['settings.AdobeTarget.EnableCRO'] != 'undefined' && b['settings.AdobeTarget.EnableCRO'].toString().toLowerCase() != 'false'.toLowerCase() && typeof b['js_page.window.optimizeCallback'] == 'undefined')) {
                        function gtag() {
                            dataLayer.push(arguments)
                        }
                        window['optimizeCallback'] = true;
                        gtag('event', 'optimize.callback', {
                            callback: function(value, name) {
                                if (typeof value !== 'undefined' && typeof name !== 'undefined') {
                                    if (!document.cookie.includes(name + ":" + value)) {
                                        utag.link({
                                            'event.Label': name + ':' + value,
                                            'event.Category': 'Optimize'
                                        });
                                        utag.loader.SC("utag_optimize_" + name, {
                                            [name]: value + ";exp-session"
                                        });
                                    }
                                }
                            }
                        });
                    }
                } catch (e) {
                    utag.DB(e)
                }
            }
            , function(a, b) {
                try {
                    utag.runonce = utag.runonce || {};
                    utag.runonce.ext = utag.runonce.ext || {};
                    if (typeof utag.runonce.ext[588] == 'undefined') {
                        utag.runonce.ext[588] = 1;
                        if (b['adobe_pageNameGlobal'].toString().toLowerCase() == 'ww-sm:homepage'.toLowerCase()) {
                            var moduleNames = ["offertiles", "brand-promotions-campaigns", "hp-campaign", "hp-shopping-online", "hp-recipes", "hp-more-woolies"];
                            var homePageSections = document.querySelectorAll('section[data-label]');
                            for (var i = 0; i < homePageSections.length; i++) {
                                var dataLabel = homePageSections[i].getAttribute('data-label');
                                if (moduleNames.indexOf(dataLabel) > -1 && typeof window.inView !== "undefined") {
                                    inView('section[data-label="' + dataLabel + '"]').once('enter', el=>{
                                            var label = el.getAttribute('data-label');
                                            label = !/^hp-/.test(label) ? "hp-" + label : label;
                                            utag.link({
                                                "event.Category": "module",
                                                "event.Action": "impression",
                                                "event.Label": label,
                                                "event.Name": "module_impression",
                                                "tealium_event": "module_impression"
                                            });
                                        }
                                    )
                                }
                            }
                        }
                    }
                } catch (e) {
                    utag.DB(e)
                }
            }
            , function(a, b) {
                try {
                    if (b['ut.event'] == 'view') {
                        if (localStorage.edrCardEventUnlink) {
                            try {
                                let cb = function() {
                                    try {
                                        localStorage.removeItem("edrCardEventUnlink");
                                        localStorage.removeItem("unlinkCardEvent");
                                        utag.DB("##EDR## Made 'rewards_unlink_success' event call & removed localStorage items!");
                                    } catch (ex) {
                                        utag.DB(ex);
                                    }
                                };
                                utag.link(JSON.parse(localStorage.edrCardEventUnlink), cb);
                            } catch (ex) {
                                utag.DB(ex);
                            }
                        } else {
                            utag.DB("##EDR## Didn't find unlink event in localStorage!");
                        }
                    }
                } catch (e) {
                    utag.DB(e)
                }
            }
            , function(a, b) {
                try {
                    if ((typeof b['adobe_contentType'] != 'undefined' && b['adobe_contentType'].toString().toLowerCase() == 'recipe'.toLowerCase())) {
                        b['adobe_contentMetadata'] = b['adobe_recipeMetadata']
                    }
                } catch (e) {
                    utag.DB(e);
                }
            }
        ];
        utag.handler.cfg_extend = [{
            "id": "109",
            "blr": 1,
            "end": 0,
            "alr": 0,
            "bwq": 0
        }, {
            "id": "867",
            "bwq": 0,
            "end": 0,
            "blr": 1,
            "alr": 0
        }, {
            "id": "834",
            "bwq": 0,
            "blr": 1,
            "end": 0,
            "alr": 0
        }, {
            "bwq": 0,
            "alr": 0,
            "end": 0,
            "blr": 1,
            "id": "619"
        }, {
            "id": "3",
            "bwq": 0,
            "end": 0,
            "blr": 1,
            "alr": 0
        }, {
            "id": "56",
            "bwq": 0,
            "end": 0,
            "blr": 1,
            "alr": 0
        }, {
            "id": "438",
            "bwq": 0,
            "end": 0,
            "blr": 1,
            "alr": 0
        }, {
            "alr": 0,
            "end": 0,
            "blr": 1,
            "bwq": 0,
            "id": "250"
        }, {
            "id": "249",
            "blr": 1,
            "end": 0,
            "alr": 0,
            "bwq": 0
        }, {
            "id": "251",
            "blr": 1,
            "end": 0,
            "alr": 0,
            "bwq": 0
        }, {
            "end": 0,
            "alr": 0,
            "blr": 1,
            "bwq": 0,
            "id": "252"
        }, {
            "bwq": 0,
            "alr": 0,
            "end": 0,
            "blr": 1,
            "id": "471"
        }, {
            "alr": 0,
            "end": 0,
            "blr": 1,
            "bwq": 0,
            "id": "292"
        }, {
            "id": "865",
            "end": 0,
            "blr": 1,
            "alr": 0,
            "bwq": 0
        }, {
            "end": 0,
            "alr": 0,
            "blr": 1,
            "bwq": 0,
            "id": "832"
        }, {
            "bwq": 0,
            "end": 0,
            "alr": 0,
            "blr": 1,
            "id": "323"
        }, {
            "end": 0,
            "alr": 0,
            "blr": 1,
            "bwq": 0,
            "id": "349"
        }, {
            "id": "290",
            "bwq": 0,
            "end": 0,
            "blr": 1,
            "alr": 0
        }, {
            "id": "293",
            "end": 0,
            "blr": 1,
            "alr": 0,
            "bwq": 0
        }, {
            "id": "126",
            "bwq": 0,
            "end": 0,
            "blr": 1,
            "alr": 0
        }, {
            "bwq": 0,
            "end": 0,
            "alr": 0,
            "blr": 1,
            "id": "265"
        }, {
            "id": "852",
            "blr": 1,
            "end": 0,
            "alr": 0,
            "bwq": 0
        }, {
            "id": "356",
            "bwq": 0,
            "end": 0,
            "blr": 1,
            "alr": 0
        }, {
            "bwq": 0,
            "alr": 0,
            "end": 0,
            "blr": 1,
            "id": "269"
        }, {
            "id": "18",
            "end": 0,
            "blr": 1,
            "alr": 0,
            "bwq": 0
        }, {
            "bwq": 0,
            "end": 0,
            "alr": 0,
            "blr": 1,
            "id": "272"
        }, {
            "bwq": 0,
            "end": 0,
            "alr": 0,
            "blr": 1,
            "id": "277"
        }, {
            "alr": 0,
            "end": 0,
            "blr": 1,
            "bwq": 0,
            "id": "446"
        }, {
            "id": "868",
            "end": 0,
            "blr": 1,
            "alr": 0,
            "bwq": 0
        }, {
            "id": "452",
            "blr": 1,
            "end": 0,
            "alr": 0,
            "bwq": 0
        }, {
            "id": "442",
            "blr": 1,
            "end": 0,
            "alr": 0,
            "bwq": 0
        }, {
            "id": "864",
            "bwq": 0,
            "blr": 1,
            "end": 0,
            "alr": 0
        }, {
            "bwq": 0,
            "end": 0,
            "alr": 0,
            "blr": 1,
            "id": "575"
        }, {
            "id": "655",
            "end": 0,
            "blr": 1,
            "alr": 0,
            "bwq": 0
        }, {
            "id": "691",
            "bwq": 0,
            "end": 0,
            "blr": 1,
            "alr": 0
        }, {
            "id": "492",
            "bwq": 0,
            "blr": 1,
            "end": 0,
            "alr": 0
        }, {
            "id": "108",
            "bwq": 0,
            "blr": 1,
            "end": 0,
            "alr": 0
        }, {
            "bwq": 0,
            "alr": 0,
            "end": 0,
            "blr": 1,
            "id": "271"
        }, {
            "id": "278",
            "bwq": 0,
            "end": 0,
            "blr": 1,
            "alr": 0
        }, {
            "bwq": 0,
            "end": 0,
            "alr": 0,
            "blr": 1,
            "id": "286"
        }, {
            "id": "395",
            "bwq": 0,
            "end": 0,
            "blr": 1,
            "alr": 0
        }, {
            "bwq": 0,
            "alr": 0,
            "end": 0,
            "blr": 1,
            "id": "342"
        }, {
            "alr": 0,
            "end": 0,
            "blr": 1,
            "bwq": 0,
            "id": "350"
        }, {
            "id": "400",
            "blr": 1,
            "end": 0,
            "alr": 0,
            "bwq": 0
        }, {
            "id": "410",
            "end": 0,
            "blr": 1,
            "alr": 0,
            "bwq": 0
        }, {
            "bwq": 0,
            "end": 0,
            "alr": 0,
            "blr": 1,
            "id": "428"
        }, {
            "end": 0,
            "alr": 0,
            "blr": 1,
            "bwq": 0,
            "id": "426"
        }, {
            "id": "445",
            "end": 0,
            "blr": 1,
            "alr": 0,
            "bwq": 0
        }, {
            "id": "466",
            "end": 0,
            "blr": 1,
            "alr": 0,
            "bwq": 0
        }, {
            "id": "472",
            "bwq": 0,
            "end": 0,
            "blr": 1,
            "alr": 0
        }, {
            "id": "483",
            "blr": 1,
            "end": 0,
            "alr": 0,
            "bwq": 0
        }, {
            "id": "489",
            "blr": 1,
            "end": 0,
            "alr": 0,
            "bwq": 0
        }, {
            "id": "719",
            "blr": 1,
            "end": 0,
            "alr": 0,
            "bwq": 0
        }, {
            "bwq": 0,
            "alr": 0,
            "end": 0,
            "blr": 1,
            "id": "490"
        }, {
            "bwq": 0,
            "end": 0,
            "alr": 0,
            "blr": 1,
            "id": "495"
        }, {
            "id": "497",
            "bwq": 0,
            "end": 0,
            "blr": 1,
            "alr": 0
        }, {
            "alr": 0,
            "end": 0,
            "blr": 1,
            "bwq": 0,
            "id": "308"
        }, {
            "bwq": 0,
            "alr": 0,
            "end": 0,
            "blr": 1,
            "id": "623"
        }, {
            "id": "621",
            "end": 0,
            "blr": 1,
            "alr": 0,
            "bwq": 0
        }, {
            "bwq": 0,
            "end": 0,
            "alr": 0,
            "blr": 1,
            "id": "635"
        }, {
            "bwq": 0,
            "alr": 0,
            "end": 0,
            "blr": 1,
            "id": "654"
        }, {
            "alr": 0,
            "end": 0,
            "blr": 1,
            "bwq": 0,
            "id": "685"
        }, {
            "id": "686",
            "bwq": 0,
            "end": 0,
            "blr": 1,
            "alr": 0
        }, {
            "id": "690",
            "end": 0,
            "blr": 1,
            "alr": 0,
            "bwq": 0
        }, {
            "id": "696",
            "blr": 1,
            "end": 0,
            "alr": 0,
            "bwq": 0
        }, {
            "id": "680",
            "bwq": 0,
            "end": 0,
            "blr": 1,
            "alr": 0
        }, {
            "id": "711",
            "bwq": 0,
            "blr": 1,
            "end": 0,
            "alr": 0
        }, {
            "bwq": 0,
            "alr": 0,
            "end": 0,
            "blr": 1,
            "id": "714"
        }, {
            "id": "721",
            "bwq": 0,
            "end": 0,
            "blr": 1,
            "alr": 0
        }, {
            "id": "723",
            "bwq": 0,
            "end": 0,
            "blr": 1,
            "alr": 0
        }, {
            "id": "724",
            "bwq": 0,
            "end": 0,
            "blr": 1,
            "alr": 0
        }, {
            "alr": 0,
            "end": 0,
            "blr": 1,
            "bwq": 0,
            "id": "725"
        }, {
            "id": "726",
            "blr": 1,
            "end": 0,
            "alr": 0,
            "bwq": 0
        }, {
            "id": "831",
            "blr": 1,
            "end": 0,
            "alr": 0,
            "bwq": 0
        }, {
            "end": 0,
            "alr": 0,
            "blr": 1,
            "bwq": 0,
            "id": "861"
        }, {
            "bwq": 0,
            "alr": 1,
            "end": 0,
            "blr": 0,
            "id": "422"
        }, {
            "alr": 1,
            "end": 0,
            "blr": 0,
            "bwq": 0,
            "id": "391"
        }, {
            "id": "4",
            "end": 0,
            "blr": 0,
            "alr": 1,
            "bwq": 0
        }, {
            "end": 0,
            "alr": 1,
            "blr": 0,
            "bwq": 0,
            "id": "173"
        }, {
            "bwq": 0,
            "end": 0,
            "alr": 1,
            "blr": 0,
            "id": "174"
        }, {
            "end": 0,
            "alr": 1,
            "blr": 0,
            "bwq": 0,
            "id": "193"
        }, {
            "id": "333",
            "bwq": 0,
            "end": 0,
            "blr": 0,
            "alr": 1
        }, {
            "id": "334",
            "end": 0,
            "blr": 0,
            "alr": 1,
            "bwq": 0
        }, {
            "id": "345",
            "bwq": 0,
            "end": 0,
            "blr": 0,
            "alr": 1
        }, {
            "bwq": 0,
            "end": 0,
            "alr": 1,
            "blr": 0,
            "id": "346"
        }, {
            "id": "357",
            "blr": 0,
            "end": 0,
            "alr": 1,
            "bwq": 0
        }, {
            "id": "385",
            "bwq": 0,
            "end": 0,
            "blr": 0,
            "alr": 1
        }, {
            "bwq": 0,
            "alr": 1,
            "end": 0,
            "blr": 0,
            "id": "387"
        }, {
            "id": "378",
            "end": 0,
            "blr": 0,
            "alr": 1,
            "bwq": 0
        }, {
            "bwq": 0,
            "end": 0,
            "alr": 1,
            "blr": 0,
            "id": "473"
        }, {
            "bwq": 0,
            "end": 0,
            "alr": 1,
            "blr": 0,
            "id": "588"
        }, {
            "alr": 1,
            "end": 0,
            "blr": 0,
            "bwq": 0,
            "id": "704"
        }, {
            "id": "827",
            "end": 0,
            "blr": 0,
            "alr": 1,
            "bwq": 0
        }];
        utag.loader.initcfg = function() {
            utag.loader.cfg = {
                "3": {
                    load: 4,
                    send: 1,
                    v: 202104190319,
                    wait: 0,
                    tid: 1191
                },
                "93": {
                    load: 4,
                    send: utag.cond[47],
                    v: 202301240100,
                    wait: 0,
                    tid: 20108
                },
                "186": {
                    load: (utag.cond[108] && utag.cond[110]),
                    send: 1,
                    v: 202302090133,
                    wait: 0,
                    tid: 6038
                },
                "174": {
                    load: 1,
                    send: 1,
                    v: 202302090133,
                    wait: 1,
                    tid: 19063
                },
                "140": {
                    load: (utag.cond[61] && utag.cond[78]),
                    send: 1,
                    v: 202110061038,
                    wait: 1,
                    tid: 7127
                },
                "69": {
                    load: 1,
                    send: 1,
                    v: 202202140302,
                    wait: 1,
                    tid: 7133
                },
                "105": {
                    load: (utag.cond[70] || utag.cond[54] || utag.cond[84]),
                    send: 1,
                    v: 202302020301,
                    wait: 1,
                    tid: 20067
                },
                "146": {
                    load: utag.cond[68],
                    send: 1,
                    v: 202101250942,
                    wait: 1,
                    tid: 2062
                },
                "158": {
                    load: 4,
                    send: utag.cond[31],
                    v: 202104190319,
                    wait: 1,
                    tid: 7132
                },
                "159": {
                    load: utag.cond[66],
                    send: 1,
                    v: 202104190319,
                    wait: 1,
                    tid: 7132
                },
                "101": {
                    load: utag.cond[10],
                    send: 1,
                    v: 202104190319,
                    wait: 1,
                    tid: 7132
                },
                "102": {
                    load: utag.cond[10],
                    send: 1,
                    v: 202104190319,
                    wait: 1,
                    tid: 7132
                },
                "143": {
                    load: 4,
                    send: 1,
                    v: 202302140103,
                    wait: 1,
                    tid: 2063
                },
                "28": {
                    load: 4,
                    send: 1,
                    v: 202105170409,
                    wait: 1,
                    tid: 4028
                },
                "79": {
                    load: 4,
                    send: utag.cond[31],
                    v: 202104260309,
                    wait: 1,
                    tid: 4049
                },
                "85": {
                    load: 4,
                    send: utag.cond[32],
                    v: 202104190312,
                    wait: 1,
                    tid: 4049
                },
                "84": {
                    load: utag.cond[8],
                    send: 1,
                    v: 202104190312,
                    wait: 1,
                    tid: 4049
                },
                "80": {
                    load: utag.cond[33],
                    send: 1,
                    v: 202104190312,
                    wait: 1,
                    tid: 4049
                },
                "94": {
                    load: utag.cond[10],
                    send: 1,
                    v: 202208260426,
                    wait: 1,
                    tid: 4049
                },
                "88": {
                    load: utag.cond[29],
                    send: 1,
                    v: 202104190312,
                    wait: 1,
                    tid: 4049
                },
                "104": {
                    load: utag.cond[43],
                    send: 1,
                    v: 202104190312,
                    wait: 1,
                    tid: 4049
                },
                "148": {
                    load: utag.cond[10],
                    send: 1,
                    v: 202104190312,
                    wait: 1,
                    tid: 4049
                },
                "91": {
                    load: 4,
                    send: 1,
                    v: 202302140103,
                    wait: 1,
                    tid: 6026
                },
                "45": {
                    load: 4,
                    send: utag.cond[31],
                    v: 202206020059,
                    wait: 1,
                    tid: 9038
                },
                "162": {
                    load: 4,
                    send: (utag.cond[67] && utag.cond[89]),
                    v: 202104300009,
                    wait: 1,
                    tid: 4001
                },
                "164": {
                    load: 4,
                    send: utag.cond[31],
                    v: 202011242239,
                    wait: 1,
                    tid: 7132
                },
                "168": {
                    load: utag.cond[69],
                    send: 1,
                    v: 202105210800,
                    wait: 1,
                    tid: 7132
                },
                "165": {
                    load: utag.cond[66],
                    send: 1,
                    v: 202007091103,
                    wait: 1,
                    tid: 7132
                },
                "163": {
                    load: utag.cond[10],
                    send: 1,
                    v: 202107050720,
                    wait: 1,
                    tid: 7132
                },
                "205": {
                    load: utag.cond[29],
                    send: 1,
                    v: 202107050720,
                    wait: 1,
                    tid: 7132
                },
                "177": {
                    load: (utag.cond[10] && utag.cond[74]),
                    send: 1,
                    v: 202107050720,
                    wait: 1,
                    tid: 7132
                },
                "199": {
                    load: (utag.cond[43] && utag.cond[10]),
                    send: 1,
                    v: 202107050720,
                    wait: 1,
                    tid: 7132
                },
                "130": {
                    load: utag.cond[55],
                    send: 1,
                    v: 202208090752,
                    wait: 1,
                    tid: 20064
                },
                "170": {
                    load: utag.cond[81],
                    send: 1,
                    v: 202110130049,
                    wait: 1,
                    tid: 20067
                },
                "180": {
                    load: utag.cond[30],
                    send: 1,
                    v: 202106152359,
                    wait: 1,
                    tid: 4049
                },
                "192": {
                    load: utag.cond[93],
                    send: 1,
                    v: 202105252113,
                    wait: 1,
                    tid: 7132
                },
                "195": {
                    load: utag.cond[93],
                    send: 1,
                    v: 202204210020,
                    wait: 1,
                    tid: 4049
                },
                "198": {
                    load: utag.cond[75],
                    send: 1,
                    v: 202301300645,
                    wait: 1,
                    tid: 7142
                },
                "209": {
                    load: utag.cond[105],
                    send: 1,
                    v: 202206160213,
                    wait: 1,
                    tid: 20010
                },
                "222": {
                    load: utag.cond[109],
                    send: 1,
                    v: 202205230640,
                    wait: 1,
                    tid: 4049
                },
                "226": {
                    load: utag.cond[115],
                    send: 1,
                    v: 202208150441,
                    wait: 1,
                    tid: 4049
                }
            };
            utag.loader.cfgsort = ["3", "93", "186", "174", "140", "69", "105", "146", "158", "159", "101", "102", "143", "28", "79", "85", "84", "80", "94", "88", "104", "148", "91", "45", "162", "164", "168", "165", "163", "205", "177", "199", "130", "170", "180", "192", "195", "198", "209", "222", "226"];
        }
        utag.loader.initcfg();
    }
    if (typeof utag_cfg_ovrd != 'undefined') {
        for (utag._i in utag.loader.GV(utag_cfg_ovrd))
            utag.cfg[utag._i] = utag_cfg_ovrd[utag._i]
    }
    ;utag.loader.PINIT = function(a, b, c) {
        utag.DB("Pre-INIT");
        if (utag.cfg.noload) {
            return;
        }
        try {
            this.GET();
            if (utag.handler.RE('view', utag.data, "blr")) {
                utag.handler.LR(utag.data);
            }
        } catch (e) {
            utag.DB(e)
        }
        ;a = this.cfg;
        c = 0;
        for (b in this.GV(a)) {
            if (a[b].block == 1 || (a[b].load > 0 && (typeof a[b].src != 'undefined' && a[b].src != ''))) {
                a[b].block = 1;
                c = 1;
                this.bq[b] = 1;
            }
        }
        if (c == 1) {
            for (b in this.GV(a)) {
                if (a[b].block) {
                    a[b].id = b;
                    if (a[b].load == 4)
                        a[b].load = 1;
                    a[b].cb = function() {
                        var d = this.uid;
                        utag.loader.cfg[d].cbf = 1;
                        utag.loader.LOAD(d)
                    }
                    ;
                    this.AS(a[b]);
                }
            }
        }
        if (c == 0)
            this.INIT();
    }
    ;
    utag.loader.INIT = function(a, b, c, d, e) {
        utag.DB('utag.loader.INIT');
        if (this.ol == 1)
            return -1;
        else
            this.ol = 1;
        if (utag.cfg.noview != true)
            utag.handler.RE('view', utag.data, "alr");
        utag.rpt.ts['i'] = new Date();
        d = this.cfgsort;
        for (a = 0; a < d.length; a++) {
            e = d[a];
            b = this.cfg[e];
            b.id = e;
            if (b.block != 1) {
                if (utag.loader.bk[b.id] || ((utag.cfg.readywait || utag.cfg.noview) && b.load == 4)) {
                    this.f[b.id] = 0;
                    utag.loader.LOAD(b.id)
                } else if (b.wait == 1 && utag.loader.rf == 0) {
                    utag.DB('utag.loader.INIT: waiting ' + b.id);
                    this.wq.push(b)
                    this.f[b.id] = 2;
                } else if (b.load > 0) {
                    utag.DB('utag.loader.INIT: loading ' + b.id);
                    this.lq.push(b);
                    this.AS(b);
                }
            }
        }
        if (this.wq.length > 0)
            utag.loader.EV('', 'ready', function(a) {
                if (utag.loader.rf == 0) {
                    utag.DB('READY:utag.loader.wq');
                    utag.loader.rf = 1;
                    utag.loader.WQ();
                }
            });
        else if (this.lq.length > 0)
            utag.loader.rf = 1;
        else if (this.lq.length == 0)
            utag.loader.END();
        return 1
    }
    ;
    utag.loader.EV('', 'ready', function(a) {
        if (utag.loader.efr != 1) {
            utag.loader.efr = 1;
            try {
                try {
                    if (1) {
                        try {
                            utag.DB('Tealium Debugging Tools: Loading');
                            if (utag.data['qp.utagdb']) {
                                if (utag.data['qp.utagdb'].match(/1|true/i) || utag.data['cp.utagdb'] === 'true') {
                                    document.cookie = 'utagdb=true';
                                    utag.data['cp.utagdb'] = 'true';
                                    utag.cfg.utagdb = true;
                                } else {
                                    document.cookie = 'utagdb=false';
                                    utag.data['cp.utagdb'] = 'false';
                                    utag.cfg.utagdb = false;
                                }
                            }
                            if (utag.cfg.path.indexOf('/prod/') === -1 && (typeof utag.data['cp.utagdb'] === 'undefined' || utag.data['cp.utagdb'] === 'true')) {
                                document.cookie = 'utagdb=true';
                                utag.cfg.utagdb = true;
                            }
                        } catch (e) {
                            utag.DB('Tealium Debugging Tools: Failed: ' + e);
                        }
                    }
                } catch (e) {
                    utag.DB(e)
                }
            } catch (e) {
                utag.DB(e)
            }
            ;try {
                try {
                    if (1) {
                        window.InbentaEventHandler = function(eventName, sessionId) {
                            utag.track("link", {
                                "event.Name": "inbenta_event",
                                "inbenta_eventData": eventName + ":" + sessionId
                            });
                        }
                        ;
                    }
                } catch (e) {
                    utag.DB(e)
                }
            } catch (e) {
                utag.DB(e)
            }
            ;try {
                if (typeof utag.runonce == 'undefined')
                    utag.runonce = {};
                utag.jdh = function(h, i, j, k) {
                    h = utag.jdhc.length;
                    if (h == 0)
                        window.clearInterval(utag.jdhi);
                    else {
                        for (i = 0; i < h; i++) {
                            j = utag.jdhc[i];
                            k = jQuery(j.i).is(":visible") ? 1 : 0;
                            if (k != j.s) {
                                if (j.e == (j.s = k))
                                    jQuery(j.i).trigger(j.e ? "afterShow" : "afterHide")
                            }
                        }
                    }
                }
                ;
                utag.jdhi = window.setInterval(utag.jdh, 250);
                utag.jdhc = [];
                if (1) {
                    if (typeof utag.runonce[121] == 'undefined') {
                        utag.runonce[121] = 1;
                        jQuery(document.body).on('click', '[ng-click="$ctrl.addAll()"]', function(e) {
                            utag.link({
                                "event.Name": 'link_click',
                                "event.Label": 'Add All'
                            })
                        })
                    }
                }
            } catch (e) {
                utag.DB(e)
            }
            ;try {
                if (1) {
                    if (typeof utag.runonce[167] == 'undefined') {
                        utag.runonce[167] = 1;
                        jQuery(document.body).on('click', '.viewMore-toggle', function(e) {
                            utag.link({
                                "event.Name": 'link_click',
                                "event.Label": 'View more'
                            })
                        })
                    }
                }
            } catch (e) {
                utag.DB(e)
            }
            ;try {
                if (1) {
                    if (typeof utag.runonce[226] == 'undefined') {
                        utag.runonce[226] = 1;
                        jQuery(document.body).on('click', '[ng-click="$ctrl.setAutoAddressValidationInfo()"]', function(e) {
                            utag.link({
                                "event.Name": 'link_click',
                                "event.Label": 'Shop Now: Delivery Now'
                            })
                        })
                    }
                }
            } catch (e) {
                utag.DB(e)
            }
            ;try {
                if (utag.data['dom.url'].toString().indexOf('woolworths.com.au/shop/myaccount/woolworthsrewards') > -1) {
                    if (typeof utag.runonce[664] == 'undefined') {
                        utag.runonce[664] = 1;
                        jQuery(document.body).on('mousedown', 'div.rewards-card-remove a', function(e) {
                            setTimeout(function() {
                                try {
                                    let edrCardEventUnlink = {
                                        tealium_event: "rewards_unlink_success",
                                    };
                                    localStorage.setItem("edrCardEventUnlink", JSON.stringify(edrCardEventUnlink));
                                    utag.DB("##EDR## Added 'rewards_unlink_success' event item to localStorage as fallback!");
                                    let cb = function() {
                                        utag.DB("##EDR## Making 'rewards_unlink_success' event call!");
                                    };
                                    utag.link(edrCardEventUnlink, cb);
                                } catch (ex) {
                                    utag.DB(ex);
                                }
                            }, 1000);
                        });
                    }
                }
            } catch (e) {
                utag.DB(e)
            }
            ;
        }
    })
    if (utag.cfg.readywait || utag.cfg.waittimer) {
        utag.loader.EV('', 'ready', function(a) {
            if (utag.loader.rf == 0) {
                utag.loader.rf = 1;
                utag.cfg.readywait = 1;
                utag.DB('READY:utag.cfg.readywait');
                setTimeout(function() {
                    utag.loader.PINIT()
                }, utag.cfg.waittimer || 1);
            }
        })
    } else {
        utag.loader.PINIT()
    }
}
//tealium universal tag - utag.3 ut4.0.202302140104, Copyright 2023 Tealium.com Inc. All Rights Reserved.
var e = function() {
    "use strict";
    function e(t) {
        "@babel/helpers - typeof";
        return (e = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                    return typeof e
                }
                : function(e) {
                    return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                }
        )(t)
    }
    function t(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n,
            e
    }
    function n() {
        return {
            callbacks: {},
            add: function(e, t) {
                this.callbacks[e] = this.callbacks[e] || [];
                var n = this.callbacks[e].push(t) - 1
                    , i = this;
                return function() {
                    i.callbacks[e].splice(n, 1)
                }
            },
            execute: function(e, t) {
                if (this.callbacks[e]) {
                    t = void 0 === t ? [] : t,
                        t = t instanceof Array ? t : [t];
                    try {
                        for (; this.callbacks[e].length; ) {
                            var n = this.callbacks[e].shift();
                            "function" == typeof n ? n.apply(null, t) : n instanceof Array && n[1].apply(n[0], t)
                        }
                        delete this.callbacks[e]
                    } catch (e) {}
                }
            },
            executeAll: function(e, t) {
                (t || e && !U.isObjectEmpty(e)) && Object.keys(this.callbacks).forEach(function(t) {
                    var n = void 0 !== e[t] ? e[t] : "";
                    this.execute(t, n)
                }, this)
            },
            hasCallbacks: function() {
                return Boolean(Object.keys(this.callbacks).length)
            }
        }
    }
    function i(e, t, n) {
        var i = null == e ? void 0 : e[t];
        return void 0 === i ? n : i
    }
    function r(e) {
        for (var t = /^\d+$/, n = 0, i = e.length; n < i; n++)
            if (!t.test(e[n]))
                return !1;
        return !0
    }
    function a(e, t) {
        for (; e.length < t.length; )
            e.push("0");
        for (; t.length < e.length; )
            t.push("0")
    }
    function o(e, t) {
        for (var n = 0; n < e.length; n++) {
            var i = parseInt(e[n], 10)
                , r = parseInt(t[n], 10);
            if (i > r)
                return 1;
            if (r > i)
                return -1
        }
        return 0
    }
    function s(e, t) {
        if (e === t)
            return 0;
        var n = e.toString().split(".")
            , i = t.toString().split(".");
        return r(n.concat(i)) ? (a(n, i),
            o(n, i)) : NaN
    }
    function c(e) {
        return e === Object(e) && 0 === Object.keys(e).length
    }
    function u(e) {
        return "function" == typeof e || e instanceof Array && e.length
    }
    function l() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ""
            , t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : function() {
                return !0
            }
        ;
        this.log = Ie("log", e, t),
            this.warn = Ie("warn", e, t),
            this.error = Ie("error", e, t)
    }
    function d() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
            , t = e.cookieName
            , n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}
            , i = n.cookies;
        if (!t || !i)
            return {
                get: Ne,
                set: Ne,
                remove: Ne
            };
        var r = {
            remove: function() {
                i.remove(t)
            },
            get: function() {
                var e = i.get(t)
                    , n = {};
                try {
                    n = JSON.parse(e)
                } catch (e) {
                    n = {}
                }
                return n
            },
            set: function(e, n) {
                n = n || {};
                var a = r.get()
                    , o = Object.assign(a, e);
                i.set(t, JSON.stringify(o), {
                    domain: n.optInCookieDomain || "",
                    cookieLifetime: n.optInStorageExpiry || 3419e4,
                    expires: !0
                })
            }
        };
        return r
    }
    function f(e) {
        this.name = this.constructor.name,
            this.message = e,
            "function" == typeof Error.captureStackTrace ? Error.captureStackTrace(this, this.constructor) : this.stack = new Error(e).stack
    }
    function p() {
        function e(e, t) {
            var n = Ae(e);
            return n.length ? n.every(function(e) {
                return !!t[e]
            }) : Oe(t)
        }
        function t() {
            M(A),
                O(de.COMPLETE),
                _(h.status, h.permissions),
            s && m.set(h.permissions, {
                optInCookieDomain: c,
                optInStorageExpiry: u
            }),
                C.execute(He)
        }
        function n(e) {
            return function(n, i) {
                if (!Me(n))
                    throw new Error("[OptIn] Invalid category(-ies). Please use the `OptIn.Categories` enum.");
                return O(de.CHANGED),
                    Object.assign(A, ke(Ae(n), e)),
                i || t(),
                    h
            }
        }
        var i = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
            , r = i.doesOptInApply
            , a = i.previousPermissions
            , o = i.preOptInApprovals
            , s = i.isOptInStorageEnabled
            , c = i.optInCookieDomain
            , u = i.optInStorageExpiry
            , l = i.isIabContext
            , f = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}
            , p = f.cookies
            , g = xe(a);
        Fe(g, "Invalid `previousPermissions`!"),
            Fe(o, "Invalid `preOptInApprovals`!");
        var m = d({
            cookieName: "adobeujs-optin"
        }, {
            cookies: p
        })
            , h = this
            , _ = le(h)
            , C = _e()
            , S = Le(g)
            , I = Le(o)
            , v = s ? m.get() : {}
            , D = {}
            , y = function(e, t) {
            return Pe(e) || t && Pe(t) ? de.COMPLETE : de.PENDING
        }(S, v)
            , b = function(e, t, n) {
            var i = ke(he, !r);
            return r ? Object.assign({}, i, e, t, n) : i
        }(I, S, v)
            , A = Ee(b)
            , O = function(e) {
            return y = e
        }
            , M = function(e) {
            return b = e
        };
        h.deny = n(!1),
            h.approve = n(!0),
            h.denyAll = h.deny.bind(h, he),
            h.approveAll = h.approve.bind(h, he),
            h.isApproved = function(t) {
                return e(t, h.permissions)
            }
            ,
            h.isPreApproved = function(t) {
                return e(t, I)
            }
            ,
            h.fetchPermissions = function(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]
                    , n = t ? h.on(de.COMPLETE, e) : Ne;
                return !r || r && h.isComplete || !!o ? e(h.permissions) : t || C.add(He, function() {
                    return e(h.permissions)
                }),
                    n
            }
            ,
            h.complete = function() {
                h.status === de.CHANGED && t()
            }
            ,
            h.registerPlugin = function(e) {
                if (!e || !e.name || "function" != typeof e.onRegister)
                    throw new Error(Be);
                D[e.name] || (D[e.name] = e,
                    e.onRegister.call(e, h))
            }
            ,
            h.execute = Ue(D),
            h.memoizeContent = function(e) {
                we(e) && m.set(e, {
                    optInCookieDomain: c,
                    optInStorageExpiry: u
                })
            }
            ,
            h.getMemoizedContent = function(e) {
                var t = m.get();
                if (t)
                    return t[e]
            }
            ,
            Object.defineProperties(h, {
                permissions: {
                    get: function() {
                        return b
                    }
                },
                status: {
                    get: function() {
                        return y
                    }
                },
                Categories: {
                    get: function() {
                        return fe
                    }
                },
                doesOptInApply: {
                    get: function() {
                        return !!r
                    }
                },
                isPending: {
                    get: function() {
                        return h.status === de.PENDING
                    }
                },
                isComplete: {
                    get: function() {
                        return h.status === de.COMPLETE
                    }
                },
                __plugins: {
                    get: function() {
                        return Object.keys(D)
                    }
                },
                isIabContext: {
                    get: function() {
                        return l
                    }
                }
            })
    }
    function g(e, t) {
        function n() {
            r = null,
                e.call(e, new f("The call took longer than you wanted!"))
        }
        function i() {
            r && (clearTimeout(r),
                e.apply(e, arguments))
        }
        if (void 0 === t)
            return e;
        var r = setTimeout(n, t);
        return i
    }
    function m() {
        if (window.__tcfapi)
            return window.__tcfapi;
        var e = window;
        if (e === window.top)
            return void ye.error("__tcfapi not found");
        for (var t; !t; ) {
            e = e.parent;
            try {
                e.frames.__tcfapiLocator && (t = e)
            } catch (e) {}
            if (e === window.top)
                break
        }
        if (!t)
            return void ye.error("__tcfapi not found");
        var n = {};
        return window.__tcfapi = function(e, i, r, a) {
            var o = Math.random() + ""
                , s = {
                __tcfapiCall: {
                    command: e,
                    parameter: a,
                    version: i,
                    callId: o
                }
            };
            n[o] = r,
                t.postMessage(s, "*")
        }
            ,
            window.addEventListener("message", function(e) {
                var t = e.data;
                if ("string" == typeof t)
                    try {
                        t = JSON.parse(e.data)
                    } catch (e) {}
                if (t.__tcfapiReturn) {
                    var i = t.__tcfapiReturn;
                    "function" == typeof n[i.callId] && (n[i.callId](i.returnValue, i.success),
                        delete n[i.callId])
                }
            }, !1),
            window.__tcfapi
    }
    function h(e, t) {
        var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : []
            , i = !0 === e.vendor.consents[t]
            , r = n.every(function(t) {
            return !0 === e.purpose.consents[t]
        });
        return i && r
    }
    function _() {
        var e = this;
        e.name = "iabPlugin",
            e.version = "0.0.2";
        var t, n = _e(), i = {
            transparencyAndConsentData: null
        }, r = function(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            return i[e] = t
        };
        e.fetchConsentData = function(e) {
            var t = e.callback
                , n = e.timeout
                , i = g(t, n);
            a({
                callback: i
            })
        }
            ,
            e.isApproved = function(e) {
                var t = e.callback
                    , n = e.category
                    , r = e.timeout;
                if (i.transparencyAndConsentData)
                    return t(null, h(i.transparencyAndConsentData, pe[n], ge[n]));
                var o = g(function(e, i) {
                    t(e, h(i, pe[n], ge[n]))
                }, r);
                a({
                    category: n,
                    callback: o
                })
            }
            ,
            e.onRegister = function(n) {
                t = n;
                var i = Object.keys(pe)
                    , r = function(e, t) {
                    !e && t && (i.forEach(function(e) {
                        var i = h(t, pe[e], ge[e]);
                        n[i ? "approve" : "deny"](e, !0)
                    }),
                        n.complete())
                };
                e.fetchConsentData({
                    callback: r
                })
            }
        ;
        var a = function(e) {
            var a = e.callback;
            if (i.transparencyAndConsentData)
                return a(null, i.transparencyAndConsentData);
            n.add("FETCH_CONSENT_DATA", a),
                o(function(e, a) {
                    if (a) {
                        var o = Ee(e)
                            , s = t.getMemoizedContent("iabConsentHash")
                            , c = De(o.tcString).toString(32);
                        o.consentString = e.tcString,
                            o.hasConsentChangedSinceLastCmpPull = s !== c,
                            r("transparencyAndConsentData", o),
                            t.memoizeContent({
                                iabConsentHash: c
                            })
                    }
                    n.execute("FETCH_CONSENT_DATA", [null, i.transparencyAndConsentData])
                })
        }
            , o = function(e) {
            var t = Ve(pe)
                , n = m();
            "function" == typeof n && n("getTCData", 2, e, t)
        }
    }
    var C = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {};
    Object.assign = Object.assign || function(e) {
        for (var t, n, i = 1; i < arguments.length; ++i) {
            n = arguments[i];
            for (t in n)
                Object.prototype.hasOwnProperty.call(n, t) && (e[t] = n[t])
        }
        return e
    }
    ;
    var S, I, v = {
        HANDSHAKE: "HANDSHAKE",
        GETSTATE: "GETSTATE",
        PARENTSTATE: "PARENTSTATE"
    }, D = {
        MCMID: "MCMID",
        MCAID: "MCAID",
        MCAAMB: "MCAAMB",
        MCAAMLH: "MCAAMLH",
        MCOPTOUT: "MCOPTOUT",
        CUSTOMERIDS: "CUSTOMERIDS"
    }, y = {
        MCMID: "getMarketingCloudVisitorID",
        MCAID: "getAnalyticsVisitorID",
        MCAAMB: "getAudienceManagerBlob",
        MCAAMLH: "getAudienceManagerLocationHint",
        MCOPTOUT: "isOptedOut",
        ALLFIELDS: "getVisitorValues"
    }, b = {
        CUSTOMERIDS: "getCustomerIDs"
    }, A = {
        MCMID: "getMarketingCloudVisitorID",
        MCAAMB: "getAudienceManagerBlob",
        MCAAMLH: "getAudienceManagerLocationHint",
        MCOPTOUT: "isOptedOut",
        MCAID: "getAnalyticsVisitorID",
        CUSTOMERIDS: "getCustomerIDs",
        ALLFIELDS: "getVisitorValues"
    }, O = {
        MC: "MCMID",
        A: "MCAID",
        AAM: "MCAAMB"
    }, M = {
        MCMID: "MCMID",
        MCOPTOUT: "MCOPTOUT",
        MCAID: "MCAID",
        MCAAMLH: "MCAAMLH",
        MCAAMB: "MCAAMB"
    }, k = {
        UNKNOWN: 0,
        AUTHENTICATED: 1,
        LOGGED_OUT: 2
    }, E = {
        GLOBAL: "global"
    }, T = {
        LAX: "Lax",
        STRICT: "Strict",
        NONE: "None"
    }, L = {
        MESSAGES: v,
        STATE_KEYS_MAP: D,
        ASYNC_API_MAP: y,
        SYNC_API_MAP: b,
        ALL_APIS: A,
        FIELDGROUP_TO_FIELD: O,
        FIELDS: M,
        AUTH_STATE: k,
        OPT_OUT: E,
        SAME_SITE_VALUES: T
    }, P = L.STATE_KEYS_MAP, R = function(e) {
        function t() {}
        function n(t, n) {
            var i = this;
            return function() {
                var r = e(0, t)
                    , a = {};
                return a[t] = r,
                    i.setStateAndPublish(a),
                    n(r),
                    r
            }
        }
        this.getMarketingCloudVisitorID = function(e) {
            e = e || t;
            var i = this.findField(P.MCMID, e)
                , r = n.call(this, P.MCMID, e);
            return void 0 !== i ? i : r()
        }
            ,
            this.getVisitorValues = function(e) {
                this.getMarketingCloudVisitorID(function(t) {
                    e({
                        MCMID: t
                    })
                })
            }
    }, w = L.MESSAGES, N = L.ASYNC_API_MAP, x = L.SYNC_API_MAP, F = function() {
        function e() {}
        function t(e, t) {
            var n = this;
            return function() {
                return n.callbackRegistry.add(e, t),
                    n.messageParent(w.GETSTATE),
                    ""
            }
        }
        function n(n) {
            this[N[n]] = function(i) {
                i = i || e;
                var r = this.findField(n, i)
                    , a = t.call(this, n, i);
                return void 0 !== r ? r : a()
            }
        }
        function i(t) {
            this[x[t]] = function() {
                return this.findField(t, e) || {}
            }
        }
        Object.keys(N).forEach(n, this),
            Object.keys(x).forEach(i, this)
    }, j = L.ASYNC_API_MAP, V = function() {
        Object.keys(j).forEach(function(e) {
            this[j[e]] = function(t) {
                this.callbackRegistry.add(e, t)
            }
        }, this)
    }, U = function(e, t) {
        return t = {
            exports: {}
        },
            e(t, t.exports),
            t.exports
    }(function(t, n) {
        n.isObjectEmpty = function(e) {
            return e === Object(e) && 0 === Object.keys(e).length
        }
            ,
            n.isValueEmpty = function(e) {
                return "" === e || n.isObjectEmpty(e)
            }
        ;
        var i = function() {
            var e = navigator.appName
                , t = navigator.userAgent;
            return "Microsoft Internet Explorer" === e || t.indexOf("MSIE ") >= 0 || t.indexOf("Trident/") >= 0 && t.indexOf("Windows NT 6") >= 0
        };
        n.getIeVersion = function() {
            return document.documentMode ? document.documentMode : i() ? 7 : null
        }
            ,
            n.encodeAndBuildRequest = function(e, t) {
                return e.map(encodeURIComponent).join(t)
            }
            ,
            n.isObject = function(t) {
                return null !== t && "object" === e(t) && !1 === Array.isArray(t)
            }
            ,
            n.defineGlobalNamespace = function() {
                return window.adobe = n.isObject(window.adobe) ? window.adobe : {},
                    window.adobe
            }
            ,
            n.pluck = function(e, t) {
                return t.reduce(function(t, n) {
                    return e[n] && (t[n] = e[n]),
                        t
                }, Object.create(null))
            }
            ,
            n.parseOptOut = function(e, t, n) {
                t || (t = n,
                e.d_optout && e.d_optout instanceof Array && (t = e.d_optout.join(",")));
                var i = parseInt(e.d_ottl, 10);
                return isNaN(i) && (i = 7200),
                    {
                        optOut: t,
                        d_ottl: i
                    }
            }
            ,
            n.normalizeBoolean = function(e) {
                var t = e;
                return "true" === e ? t = !0 : "false" === e && (t = !1),
                    t
            }
    }), H = (U.isObjectEmpty,
        U.isValueEmpty,
        U.getIeVersion,
        U.encodeAndBuildRequest,
        U.isObject,
        U.defineGlobalNamespace,
        U.pluck,
        U.parseOptOut,
        U.normalizeBoolean,
        n), B = L.MESSAGES, G = {
        0: "prefix",
        1: "orgID",
        2: "state"
    }, Y = function(e, t) {
        this.parse = function(e) {
            try {
                var t = {};
                return e.data.split("|").forEach(function(e, n) {
                    if (void 0 !== e) {
                        t[G[n]] = 2 !== n ? e : JSON.parse(e)
                    }
                }),
                    t
            } catch (e) {}
        }
            ,
            this.isInvalid = function(n) {
                var i = this.parse(n);
                if (!i || Object.keys(i).length < 2)
                    return !0;
                var r = e !== i.orgID
                    , a = !t || n.origin !== t
                    , o = -1 === Object.keys(B).indexOf(i.prefix);
                return r || a || o
            }
            ,
            this.send = function(n, i, r) {
                var a = i + "|" + e;
                r && r === Object(r) && (a += "|" + JSON.stringify(r));
                try {
                    n.postMessage(a, t)
                } catch (e) {}
            }
    }, q = L.MESSAGES, X = function(e, t, n, i) {
        function r(e) {
            Object.assign(p, e)
        }
        function a(e) {
            Object.assign(p.state, e),
                Object.assign(p.state.ALLFIELDS, e),
                p.callbackRegistry.executeAll(p.state)
        }
        function o(e) {
            if (!h.isInvalid(e)) {
                m = !1;
                var t = h.parse(e);
                p.setStateAndPublish(t.state)
            }
        }
        function s(e) {
            !m && g && (m = !0,
                h.send(i, e))
        }
        function c() {
            r(new R(n._generateID)),
                p.getMarketingCloudVisitorID(),
                p.callbackRegistry.executeAll(p.state, !0),
                C.removeEventListener("message", u)
        }
        function u(e) {
            if (!h.isInvalid(e)) {
                var t = h.parse(e);
                m = !1,
                    C.clearTimeout(p._handshakeTimeout),
                    C.removeEventListener("message", u),
                    r(new F(p)),
                    C.addEventListener("message", o),
                    p.setStateAndPublish(t.state),
                p.callbackRegistry.hasCallbacks() && s(q.GETSTATE)
            }
        }
        function l() {
            g && postMessage ? (C.addEventListener("message", u),
                s(q.HANDSHAKE),
                p._handshakeTimeout = setTimeout(c, 250)) : c()
        }
        function d() {
            C.s_c_in || (C.s_c_il = [],
                C.s_c_in = 0),
                p._c = "Visitor",
                p._il = C.s_c_il,
                p._in = C.s_c_in,
                p._il[p._in] = p,
                C.s_c_in++
        }
        function f() {
            function e(e) {
                0 !== e.indexOf("_") && "function" == typeof n[e] && (p[e] = function() {}
                )
            }
            Object.keys(n).forEach(e),
                p.getSupplementalDataID = n.getSupplementalDataID,
                p.isAllowed = function() {
                    return !0
                }
        }
        var p = this
            , g = t.whitelistParentDomain;
        p.state = {
            ALLFIELDS: {}
        },
            p.version = n.version,
            p.marketingCloudOrgID = e,
            p.cookieDomain = n.cookieDomain || "",
            p._instanceType = "child";
        var m = !1
            , h = new Y(e,g);
        p.callbackRegistry = H(),
            p.init = function() {
                d(),
                    f(),
                    r(new V(p)),
                    l()
            }
            ,
            p.findField = function(e, t) {
                if (void 0 !== p.state[e])
                    return t(p.state[e]),
                        p.state[e]
            }
            ,
            p.messageParent = s,
            p.setStateAndPublish = a
    }, W = L.MESSAGES, K = L.ALL_APIS, J = L.ASYNC_API_MAP, z = L.FIELDGROUP_TO_FIELD, Q = function(e, t) {
        function n() {
            var t = {};
            return Object.keys(K).forEach(function(n) {
                var i = K[n]
                    , r = e[i]();
                U.isValueEmpty(r) || (t[n] = r)
            }),
                t
        }
        function i() {
            var t = [];
            return e._loading && Object.keys(e._loading).forEach(function(n) {
                if (e._loading[n]) {
                    var i = z[n];
                    t.push(i)
                }
            }),
                t.length ? t : null
        }
        function r(t) {
            return function n(r) {
                var a = i();
                if (a) {
                    var o = J[a[0]];
                    e[o](n, !0)
                } else
                    t()
            }
        }
        function a(e, i) {
            var r = n();
            t.send(e, i, r)
        }
        function o(e) {
            c(e),
                a(e, W.HANDSHAKE)
        }
        function s(e) {
            r(function() {
                a(e, W.PARENTSTATE)
            })()
        }
        function c(n) {
            function i(i) {
                r.call(e, i),
                    t.send(n, W.PARENTSTATE, {
                        CUSTOMERIDS: e.getCustomerIDs()
                    })
            }
            var r = e.setCustomerIDs;
            e.setCustomerIDs = i
        }
        return function(e) {
            if (!t.isInvalid(e)) {
                (t.parse(e).prefix === W.HANDSHAKE ? o : s)(e.source)
            }
        }
    }, $ = function(e, t) {
        function n(e) {
            return function(n) {
                i[e] = n,
                    r++,
                r === a && t(i)
            }
        }
        var i = {}
            , r = 0
            , a = Object.keys(e).length;
        Object.keys(e).forEach(function(t) {
            var i = e[t];
            if (i.fn) {
                var r = i.args || [];
                r.unshift(n(t)),
                    i.fn.apply(i.context || null, r)
            }
        })
    }, Z = {
        get: function(e) {
            e = encodeURIComponent(e);
            var t = (";" + document.cookie).split(" ").join(";")
                , n = t.indexOf(";" + e + "=")
                , i = n < 0 ? n : t.indexOf(";", n + 1);
            return n < 0 ? "" : decodeURIComponent(t.substring(n + 2 + e.length, i < 0 ? t.length : i))
        },
        set: function(e, t, n) {
            var r = i(n, "cookieLifetime")
                , a = i(n, "expires")
                , o = i(n, "domain")
                , s = i(n, "secure")
                , c = i(n, "sameSite")
                , u = s ? "Secure" : ""
                , l = c ? "SameSite=" + c + ";" : "";
            if (a && "SESSION" !== r && "NONE" !== r) {
                var d = "" !== t ? parseInt(r || 0, 10) : -60;
                if (d)
                    a = new Date,
                        a.setTime(a.getTime() + 1e3 * d);
                else if (1 === a) {
                    a = new Date;
                    var f = a.getYear();
                    a.setYear(f + 2 + (f < 1900 ? 1900 : 0))
                }
            } else
                a = 0;
            return e && "NONE" !== r ? (document.cookie = encodeURIComponent(e) + "=" + encodeURIComponent(t) + "; path=/;" + (a ? " expires=" + a.toGMTString() + ";" : "") + (o ? " domain=" + o + ";" : "") + l + u,
            this.get(e) === t) : 0
        },
        remove: function(e, t) {
            var n = i(t, "domain");
            n = n ? " domain=" + n + ";" : "";
            var r = i(t, "secure")
                , a = i(t, "sameSite")
                , o = r ? "Secure" : ""
                , s = a ? "SameSite=" + a + ";" : "";
            document.cookie = encodeURIComponent(e) + "=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;" + n + s + o
        }
    }, ee = function(e, t) {
        var n;
        !e && C.location && (e = C.location.hostname),
            n = e;
        var i, r = n.split("."), a = t || {};
        for (i = r.length - 2; i >= 0; i--)
            if (a.domain = r.slice(i).join("."),
                Z.set("test", "cookie", a))
                return Z.remove("test", a),
                    a.domain;
        return ""
    }, te = {
        compare: s,
        isLessThan: function(e, t) {
            return s(e, t) < 0
        },
        areVersionsDifferent: function(e, t) {
            return 0 !== s(e, t)
        },
        isGreaterThan: function(e, t) {
            return s(e, t) > 0
        },
        isEqual: function(e, t) {
            return 0 === s(e, t)
        }
    }, ne = !!C.postMessage, ie = {
        postMessage: function(e, t, n) {
            var i = 1;
            t && (ne ? n.postMessage(e, t.replace(/([^:]+:\/\/[^\/]+).*/, "$1")) : t && (n.location = t.replace(/#.*$/, "") + "#" + +new Date + i++ + "&" + e))
        },
        receiveMessage: function(e, t) {
            var n;
            try {
                ne && (e && (n = function(n) {
                        if ("string" == typeof t && n.origin !== t || "[object Function]" === Object.prototype.toString.call(t) && !1 === t(n.origin))
                            return !1;
                        e(n)
                    }
                ),
                    C.addEventListener ? C[e ? "addEventListener" : "removeEventListener"]("message", n) : C[e ? "attachEvent" : "detachEvent"]("onmessage", n))
            } catch (e) {}
        }
    }, re = function(e) {
        var t, n, i = "0123456789", r = "", a = "", o = 8, s = 10, c = 10;
        if (1 == e) {
            for (i += "ABCDEF",
                     t = 0; 16 > t; t++)
                n = Math.floor(Math.random() * o),
                    r += i.substring(n, n + 1),
                    n = Math.floor(Math.random() * o),
                    a += i.substring(n, n + 1),
                    o = 16;
            return r + "-" + a
        }
        for (t = 0; 19 > t; t++)
            n = Math.floor(Math.random() * s),
                r += i.substring(n, n + 1),
                0 === t && 9 == n ? s = 3 : (1 == t || 2 == t) && 10 != s && 2 > n ? s = 10 : 2 < t && (s = 10),
                n = Math.floor(Math.random() * c),
                a += i.substring(n, n + 1),
                0 === t && 9 == n ? c = 3 : (1 == t || 2 == t) && 10 != c && 2 > n ? c = 10 : 2 < t && (c = 10);
        return r + a
    }, ae = function(e, t) {
        return {
            corsMetadata: function() {
                var e = "none"
                    , t = !0;
                return "undefined" != typeof XMLHttpRequest && XMLHttpRequest === Object(XMLHttpRequest) && ("withCredentials"in new XMLHttpRequest ? e = "XMLHttpRequest" : "undefined" != typeof XDomainRequest && XDomainRequest === Object(XDomainRequest) && (t = !1),
                Object.prototype.toString.call(C.HTMLElement).indexOf("Constructor") > 0 && (t = !1)),
                    {
                        corsType: e,
                        corsCookiesEnabled: t
                    }
            }(),
            getCORSInstance: function() {
                return "none" === this.corsMetadata.corsType ? null : new C[this.corsMetadata.corsType]
            },
            fireCORS: function(t, n, i) {
                function r(e) {
                    var n;
                    try {
                        if ((n = JSON.parse(e)) !== Object(n))
                            return void a.handleCORSError(t, null, "Response is not JSON")
                    } catch (e) {
                        return void a.handleCORSError(t, e, "Error parsing response as JSON")
                    }
                    try {
                        for (var i = t.callback, r = C, o = 0; o < i.length; o++)
                            r = r[i[o]];
                        r(n)
                    } catch (e) {
                        a.handleCORSError(t, e, "Error forming callback function")
                    }
                }
                var a = this;
                n && (t.loadErrorHandler = n);
                try {
                    var o = this.getCORSInstance();
                    o.open("get", t.corsUrl + "&ts=" + (new Date).getTime(), !0),
                    "XMLHttpRequest" === this.corsMetadata.corsType && (o.withCredentials = !0,
                            o.timeout = e.loadTimeout,
                            o.setRequestHeader("Content-Type", "application/x-www-form-urlencoded"),
                            o.onreadystatechange = function() {
                                4 === this.readyState && 200 === this.status && r(this.responseText)
                            }
                    ),
                        o.onerror = function(e) {
                            a.handleCORSError(t, e, "onerror")
                        }
                        ,
                        o.ontimeout = function(e) {
                            a.handleCORSError(t, e, "ontimeout")
                        }
                        ,
                        o.send(),
                        e._log.requests.push(t.corsUrl)
                } catch (e) {
                    this.handleCORSError(t, e, "try-catch")
                }
            },
            handleCORSError: function(t, n, i) {
                e.CORSErrors.push({
                    corsData: t,
                    error: n,
                    description: i
                }),
                t.loadErrorHandler && ("ontimeout" === i ? t.loadErrorHandler(!0) : t.loadErrorHandler(!1))
            }
        }
    }, oe = {
        POST_MESSAGE_ENABLED: !!C.postMessage,
        DAYS_BETWEEN_SYNC_ID_CALLS: 1,
        MILLIS_PER_DAY: 864e5,
        ADOBE_MC: "adobe_mc",
        ADOBE_MC_SDID: "adobe_mc_sdid",
        VALID_VISITOR_ID_REGEX: /^[0-9a-fA-F\-]+$/,
        ADOBE_MC_TTL_IN_MIN: 5,
        VERSION_REGEX: /vVersion\|((\d+\.)?(\d+\.)?(\*|\d+))(?=$|\|)/,
        FIRST_PARTY_SERVER_COOKIE: "s_ecid"
    }, se = function(e, t) {
        var n = C.document;
        return {
            THROTTLE_START: 3e4,
            MAX_SYNCS_LENGTH: 649,
            throttleTimerSet: !1,
            id: null,
            onPagePixels: [],
            iframeHost: null,
            getIframeHost: function(e) {
                if ("string" == typeof e) {
                    var t = e.split("/");
                    return t[0] + "//" + t[2]
                }
            },
            subdomain: null,
            url: null,
            getUrl: function() {
                var t, i = "http://fast.", r = "?d_nsid=" + e.idSyncContainerID + "#" + encodeURIComponent(n.location.origin);
                return this.subdomain || (this.subdomain = "nosubdomainreturned"),
                e.loadSSL && (i = e.idSyncSSLUseAkamai ? "https://fast." : "https://"),
                    t = i + this.subdomain + ".demdex.net/dest5.html" + r,
                    this.iframeHost = this.getIframeHost(t),
                    this.id = "destination_publishing_iframe_" + this.subdomain + "_" + e.idSyncContainerID,
                    t
            },
            checkDPIframeSrc: function() {
                var t = "?d_nsid=" + e.idSyncContainerID + "#" + encodeURIComponent(n.location.href);
                "string" == typeof e.dpIframeSrc && e.dpIframeSrc.length && (this.id = "destination_publishing_iframe_" + (e._subdomain || this.subdomain || (new Date).getTime()) + "_" + e.idSyncContainerID,
                    this.iframeHost = this.getIframeHost(e.dpIframeSrc),
                    this.url = e.dpIframeSrc + t)
            },
            idCallNotProcesssed: null,
            doAttachIframe: !1,
            startedAttachingIframe: !1,
            iframeHasLoaded: null,
            iframeIdChanged: null,
            newIframeCreated: null,
            originalIframeHasLoadedAlready: null,
            iframeLoadedCallbacks: [],
            regionChanged: !1,
            timesRegionChanged: 0,
            sendingMessages: !1,
            messages: [],
            messagesPosted: [],
            messagesReceived: [],
            messageSendingInterval: oe.POST_MESSAGE_ENABLED ? null : 100,
            onPageDestinationsFired: [],
            jsonForComparison: [],
            jsonDuplicates: [],
            jsonWaiting: [],
            jsonProcessed: [],
            canSetThirdPartyCookies: !0,
            receivedThirdPartyCookiesNotification: !1,
            readyToAttachIframePreliminary: function() {
                return !(e.idSyncDisableSyncs || e.disableIdSyncs || e.idSyncDisable3rdPartySyncing || e.disableThirdPartyCookies || e.disableThirdPartyCalls)
            },
            readyToAttachIframe: function() {
                return this.readyToAttachIframePreliminary() && (this.doAttachIframe || e._doAttachIframe) && (this.subdomain && "nosubdomainreturned" !== this.subdomain || e._subdomain) && this.url && !this.startedAttachingIframe
            },
            attachIframe: function() {
                function e() {
                    r = n.createElement("iframe"),
                        r.sandbox = "allow-scripts allow-same-origin",
                        r.title = "Adobe ID Syncing iFrame",
                        r.id = i.id,
                        r.name = i.id + "_name",
                        r.style.cssText = "display: none; width: 0; height: 0;",
                        r.src = i.url,
                        i.newIframeCreated = !0,
                        t(),
                        n.body.appendChild(r)
                }
                function t(e) {
                    r.addEventListener("load", function() {
                        r.className = "aamIframeLoaded",
                            i.iframeHasLoaded = !0,
                            i.fireIframeLoadedCallbacks(e),
                            i.requestToProcess()
                    })
                }
                this.startedAttachingIframe = !0;
                var i = this
                    , r = n.getElementById(this.id);
                r ? "IFRAME" !== r.nodeName ? (this.id += "_2",
                    this.iframeIdChanged = !0,
                    e()) : (this.newIframeCreated = !1,
                    "aamIframeLoaded" !== r.className ? (this.originalIframeHasLoadedAlready = !1,
                        t("The destination publishing iframe already exists from a different library, but hadn't loaded yet.")) : (this.originalIframeHasLoadedAlready = !0,
                        this.iframeHasLoaded = !0,
                        this.iframe = r,
                        this.fireIframeLoadedCallbacks("The destination publishing iframe already exists from a different library, and had loaded alresady."),
                        this.requestToProcess())) : e(),
                    this.iframe = r
            },
            fireIframeLoadedCallbacks: function(e) {
                this.iframeLoadedCallbacks.forEach(function(t) {
                    "function" == typeof t && t({
                        message: e || "The destination publishing iframe was attached and loaded successfully."
                    })
                }),
                    this.iframeLoadedCallbacks = []
            },
            requestToProcess: function(t) {
                function n() {
                    r.jsonForComparison.push(t),
                        r.jsonWaiting.push(t),
                        r.processSyncOnPage(t)
                }
                var i, r = this;
                if (t === Object(t) && t.ibs)
                    if (i = JSON.stringify(t.ibs || []),
                        this.jsonForComparison.length) {
                        var a, o, s, c = !1;
                        for (a = 0,
                                 o = this.jsonForComparison.length; a < o; a++)
                            if (s = this.jsonForComparison[a],
                            i === JSON.stringify(s.ibs || [])) {
                                c = !0;
                                break
                            }
                        c ? this.jsonDuplicates.push(t) : n()
                    } else
                        n();
                if ((this.receivedThirdPartyCookiesNotification || !oe.POST_MESSAGE_ENABLED || this.iframeHasLoaded) && this.jsonWaiting.length) {
                    var u = this.jsonWaiting.shift();
                    this.process(u),
                        this.requestToProcess()
                }
                e.idSyncDisableSyncs || e.disableIdSyncs || !this.iframeHasLoaded || !this.messages.length || this.sendingMessages || (this.throttleTimerSet || (this.throttleTimerSet = !0,
                    setTimeout(function() {
                        r.messageSendingInterval = oe.POST_MESSAGE_ENABLED ? null : 150
                    }, this.THROTTLE_START)),
                    this.sendingMessages = !0,
                    this.sendMessages())
            },
            getRegionAndCheckIfChanged: function(t, n) {
                var i = e._getField("MCAAMLH")
                    , r = t.d_region || t.dcs_region;
                return i ? r && (e._setFieldExpire("MCAAMLH", n),
                    e._setField("MCAAMLH", r),
                parseInt(i, 10) !== r && (this.regionChanged = !0,
                    this.timesRegionChanged++,
                    e._setField("MCSYNCSOP", ""),
                    e._setField("MCSYNCS", ""),
                    i = r)) : (i = r) && (e._setFieldExpire("MCAAMLH", n),
                    e._setField("MCAAMLH", i)),
                i || (i = ""),
                    i
            },
            processSyncOnPage: function(e) {
                var t, n, i, r;
                if ((t = e.ibs) && t instanceof Array && (n = t.length))
                    for (i = 0; i < n; i++)
                        r = t[i],
                        r.syncOnPage && this.checkFirstPartyCookie(r, "", "syncOnPage")
            },
            process: function(e) {
                var t, n, i, r, a, o = encodeURIComponent, s = !1;
                if ((t = e.ibs) && t instanceof Array && (n = t.length))
                    for (s = !0,
                             i = 0; i < n; i++)
                        r = t[i],
                            a = [o("ibs"), o(r.id || ""), o(r.tag || ""), U.encodeAndBuildRequest(r.url || [], ","), o(r.ttl || ""), "", "", r.fireURLSync ? "true" : "false"],
                        r.syncOnPage || (this.canSetThirdPartyCookies ? this.addMessage(a.join("|")) : r.fireURLSync && this.checkFirstPartyCookie(r, a.join("|")));
                s && this.jsonProcessed.push(e)
            },
            checkFirstPartyCookie: function(t, n, i) {
                var r = "syncOnPage" === i
                    , a = r ? "MCSYNCSOP" : "MCSYNCS";
                e._readVisitor();
                var o, s, c = e._getField(a), u = !1, l = !1, d = Math.ceil((new Date).getTime() / oe.MILLIS_PER_DAY);
                c ? (o = c.split("*"),
                    s = this.pruneSyncData(o, t.id, d),
                    u = s.dataPresent,
                    l = s.dataValid,
                u && l || this.fireSync(r, t, n, o, a, d)) : (o = [],
                    this.fireSync(r, t, n, o, a, d))
            },
            pruneSyncData: function(e, t, n) {
                var i, r, a, o = !1, s = !1;
                for (r = 0; r < e.length; r++)
                    i = e[r],
                        a = parseInt(i.split("-")[1], 10),
                        i.match("^" + t + "-") ? (o = !0,
                            n < a ? s = !0 : (e.splice(r, 1),
                                r--)) : n >= a && (e.splice(r, 1),
                            r--);
                return {
                    dataPresent: o,
                    dataValid: s
                }
            },
            manageSyncsSize: function(e) {
                if (e.join("*").length > this.MAX_SYNCS_LENGTH)
                    for (e.sort(function(e, t) {
                        return parseInt(e.split("-")[1], 10) - parseInt(t.split("-")[1], 10)
                    }); e.join("*").length > this.MAX_SYNCS_LENGTH; )
                        e.shift()
            },
            fireSync: function(t, n, i, r, a, o) {
                var s = this;
                if (t) {
                    if ("img" === n.tag) {
                        var c, u, l, d, f = n.url, p = e.loadSSL ? "https:" : "http:";
                        for (c = 0,
                                 u = f.length; c < u; c++) {
                            l = f[c],
                                d = /^\/\//.test(l);
                            var g = new Image;
                            g.addEventListener("load", function(t, n, i, r) {
                                return function() {
                                    s.onPagePixels[t] = null,
                                        e._readVisitor();
                                    var o, c = e._getField(a), u = [];
                                    if (c) {
                                        o = c.split("*");
                                        var l, d, f;
                                        for (l = 0,
                                                 d = o.length; l < d; l++)
                                            f = o[l],
                                            f.match("^" + n.id + "-") || u.push(f)
                                    }
                                    s.setSyncTrackingData(u, n, i, r)
                                }
                            }(this.onPagePixels.length, n, a, o)),
                                g.src = (d ? p : "") + l,
                                this.onPagePixels.push(g)
                        }
                    }
                } else
                    this.addMessage(i),
                        this.setSyncTrackingData(r, n, a, o)
            },
            addMessage: function(t) {
                var n = encodeURIComponent
                    , i = n(e._enableErrorReporting ? "---destpub-debug---" : "---destpub---");
                this.messages.push((oe.POST_MESSAGE_ENABLED ? "" : i) + t)
            },
            setSyncTrackingData: function(t, n, i, r) {
                t.push(n.id + "-" + (r + Math.ceil(n.ttl / 60 / 24))),
                    this.manageSyncsSize(t),
                    e._setField(i, t.join("*"))
            },
            sendMessages: function() {
                var e, t = this, n = "", i = encodeURIComponent;
                this.regionChanged && (n = i("---destpub-clear-dextp---"),
                    this.regionChanged = !1),
                    this.messages.length ? oe.POST_MESSAGE_ENABLED ? (e = n + i("---destpub-combined---") + this.messages.join("%01"),
                        this.postMessage(e),
                        this.messages = [],
                        this.sendingMessages = !1) : (e = this.messages.shift(),
                        this.postMessage(n + e),
                        setTimeout(function() {
                            t.sendMessages()
                        }, this.messageSendingInterval)) : this.sendingMessages = !1
            },
            postMessage: function(e) {
                ie.postMessage(e, this.url, this.iframe.contentWindow),
                    this.messagesPosted.push(e)
            },
            receiveMessage: function(e) {
                var t, n = /^---destpub-to-parent---/;
                "string" == typeof e && n.test(e) && (t = e.replace(n, "").split("|"),
                "canSetThirdPartyCookies" === t[0] && (this.canSetThirdPartyCookies = "true" === t[1],
                    this.receivedThirdPartyCookiesNotification = !0,
                    this.requestToProcess()),
                    this.messagesReceived.push(e))
            },
            processIDCallData: function(i) {
                (null == this.url || i.subdomain && "nosubdomainreturned" === this.subdomain) && ("string" == typeof e._subdomain && e._subdomain.length ? this.subdomain = e._subdomain : this.subdomain = i.subdomain || "",
                    this.url = this.getUrl()),
                i.ibs instanceof Array && i.ibs.length && (this.doAttachIframe = !0),
                this.readyToAttachIframe() && (e.idSyncAttachIframeOnWindowLoad ? (t.windowLoaded || "complete" === n.readyState || "loaded" === n.readyState) && this.attachIframe() : this.attachIframeASAP()),
                    "function" == typeof e.idSyncIDCallResult ? e.idSyncIDCallResult(i) : this.requestToProcess(i),
                "function" == typeof e.idSyncAfterIDCallResult && e.idSyncAfterIDCallResult(i)
            },
            canMakeSyncIDCall: function(t, n) {
                return e._forceSyncIDCall || !t || n - t > oe.DAYS_BETWEEN_SYNC_ID_CALLS
            },
            attachIframeASAP: function() {
                function e() {
                    t.startedAttachingIframe || (n.body ? t.attachIframe() : setTimeout(e, 30))
                }
                var t = this;
                e()
            }
        }
    }, ce = {
        audienceManagerServer: {},
        audienceManagerServerSecure: {},
        cookieDomain: {},
        cookieLifetime: {},
        cookieName: {},
        doesOptInApply: {
            type: "boolean"
        },
        disableThirdPartyCalls: {
            type: "boolean"
        },
        discardTrackingServerECID: {
            type: "boolean"
        },
        idSyncAfterIDCallResult: {},
        idSyncAttachIframeOnWindowLoad: {
            type: "boolean"
        },
        idSyncContainerID: {},
        idSyncDisable3rdPartySyncing: {
            type: "boolean"
        },
        disableThirdPartyCookies: {
            type: "boolean"
        },
        idSyncDisableSyncs: {
            type: "boolean"
        },
        disableIdSyncs: {
            type: "boolean"
        },
        idSyncIDCallResult: {},
        idSyncSSLUseAkamai: {
            type: "boolean"
        },
        isCoopSafe: {
            type: "boolean"
        },
        isIabContext: {
            type: "boolean"
        },
        isOptInStorageEnabled: {
            type: "boolean"
        },
        loadSSL: {
            type: "boolean"
        },
        loadTimeout: {},
        marketingCloudServer: {},
        marketingCloudServerSecure: {},
        optInCookieDomain: {},
        optInStorageExpiry: {},
        overwriteCrossDomainMCIDAndAID: {
            type: "boolean"
        },
        preOptInApprovals: {},
        previousPermissions: {},
        resetBeforeVersion: {},
        sdidParamExpiry: {},
        serverState: {},
        sessionCookieName: {},
        secureCookie: {
            type: "boolean"
        },
        sameSiteCookie: {},
        takeTimeoutMetrics: {},
        trackingServer: {},
        trackingServerSecure: {},
        useLocalStorage: {
            type: "boolean"
        },
        whitelistIframeDomains: {},
        whitelistParentDomain: {}
    }, ue = {
        getConfigNames: function() {
            return Object.keys(ce)
        },
        getConfigs: function() {
            return ce
        },
        normalizeConfig: function(e, t) {
            return ce[e] && "boolean" === ce[e].type ? "function" != typeof t ? t : t() : t
        }
    }, le = function(e) {
        var t = {};
        return e.on = function(e, n, i) {
            if (!n || "function" != typeof n)
                throw new Error("[ON] Callback should be a function.");
            t.hasOwnProperty(e) || (t[e] = []);
            var r = t[e].push({
                callback: n,
                context: i
            }) - 1;
            return function() {
                t[e].splice(r, 1),
                t[e].length || delete t[e]
            }
        }
            ,
            e.off = function(e, n) {
                t.hasOwnProperty(e) && (t[e] = t[e].filter(function(e) {
                    if (e.callback !== n)
                        return e
                }))
            }
            ,
            e.publish = function(e) {
                if (t.hasOwnProperty(e)) {
                    var n = [].slice.call(arguments, 1);
                    t[e].slice(0).forEach(function(e) {
                        e.callback.apply(e.context, n)
                    })
                }
            }
            ,
            e.publish
    }, de = {
        PENDING: "pending",
        CHANGED: "changed",
        COMPLETE: "complete"
    }, fe = {
        AAM: "aam",
        ADCLOUD: "adcloud",
        ANALYTICS: "aa",
        CAMPAIGN: "campaign",
        ECID: "ecid",
        LIVEFYRE: "livefyre",
        TARGET: "target",
        MEDIA_ANALYTICS: "mediaaa"
    }, pe = (S = {},
        t(S, fe.AAM, 565),
        t(S, fe.ECID, 565),
        S), ge = (I = {},
        t(I, fe.AAM, [1, 10]),
        t(I, fe.ECID, [1, 10]),
        I), me = ["videoaa", "iabConsentHash"], he = function(e) {
        return Object.keys(e).map(function(t) {
            return e[t]
        })
    }(fe), _e = function() {
        var e = {};
        return e.callbacks = Object.create(null),
            e.add = function(t, n) {
                if (!u(n))
                    throw new Error("[callbackRegistryFactory] Make sure callback is a function or an array of functions.");
                e.callbacks[t] = e.callbacks[t] || [];
                var i = e.callbacks[t].push(n) - 1;
                return function() {
                    e.callbacks[t].splice(i, 1)
                }
            }
            ,
            e.execute = function(t, n) {
                if (e.callbacks[t]) {
                    n = void 0 === n ? [] : n,
                        n = n instanceof Array ? n : [n];
                    try {
                        for (; e.callbacks[t].length; ) {
                            var i = e.callbacks[t].shift();
                            "function" == typeof i ? i.apply(null, n) : i instanceof Array && i[1].apply(i[0], n)
                        }
                        delete e.callbacks[t]
                    } catch (e) {}
                }
            }
            ,
            e.executeAll = function(t, n) {
                (n || t && !c(t)) && Object.keys(e.callbacks).forEach(function(n) {
                    var i = void 0 !== t[n] ? t[n] : "";
                    e.execute(n, i)
                }, e)
            }
            ,
            e.hasCallbacks = function() {
                return Boolean(Object.keys(e.callbacks).length)
            }
            ,
            e
    }, Ce = function() {}, Se = function(e) {
        var t = window
            , n = t.console;
        return !!n && "function" == typeof n[e]
    }, Ie = function(e, t, n) {
        return n() ? function() {
                if (Se(e)) {
                    for (var n = arguments.length, i = new Array(n), r = 0; r < n; r++)
                        i[r] = arguments[r];
                    console[e].apply(console, [t].concat(i))
                }
            }
            : Ce
    }, ve = l, De = function() {
        for (var e = [], t = 0; t < 256; t++) {
            for (var n = t, i = 0; i < 8; i++)
                n = 1 & n ? 3988292384 ^ n >>> 1 : n >>> 1;
            e.push(n)
        }
        return function(t, n) {
            t = unescape(encodeURIComponent(t)),
            n || (n = 0),
                n ^= -1;
            for (var i = 0; i < t.length; i++) {
                var r = 255 & (n ^ t.charCodeAt(i));
                n = n >>> 8 ^ e[r]
            }
            return (n ^= -1) >>> 0
        }
    }(), ye = new ve("[ADOBE OPT-IN]"), be = function(t, n) {
        return e(t) === n
    }, Ae = function(e, t) {
        return e instanceof Array ? e : be(e, "string") ? [e] : t || []
    }, Oe = function(e) {
        var t = Object.keys(e);
        return !!t.length && t.every(function(t) {
            return !0 === e[t]
        })
    }, Me = function(e) {
        var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
        return !(!e || Te(e)) && Ae(e).every(function(e) {
            return he.indexOf(e) > -1 || t && me.indexOf(e) > -1
        })
    }, ke = function(e, t) {
        return e.reduce(function(e, n) {
            return e[n] = t,
                e
        }, {})
    }, Ee = function(e) {
        return JSON.parse(JSON.stringify(e))
    }, Te = function(e) {
        return "[object Array]" === Object.prototype.toString.call(e) && !e.length
    }, Le = function(e) {
        if (we(e))
            return e;
        try {
            return JSON.parse(e)
        } catch (e) {
            return {}
        }
    }, Pe = function(e) {
        return void 0 === e || (we(e) ? Me(Object.keys(e), !0) : Re(e))
    }, Re = function(e) {
        try {
            var t = JSON.parse(e);
            return !!e && be(e, "string") && Me(Object.keys(t), !0)
        } catch (e) {
            return !1
        }
    }, we = function(e) {
        return null !== e && be(e, "object") && !1 === Array.isArray(e)
    }, Ne = function() {}, xe = function(e) {
        return be(e, "function") ? e() : e
    }, Fe = function(e, t) {
        Pe(e) || ye.error("".concat(t))
    }, je = function(e) {
        return Object.keys(e).map(function(t) {
            return e[t]
        })
    }, Ve = function(e) {
        return je(e).filter(function(e, t, n) {
            return n.indexOf(e) === t
        })
    }, Ue = function(e) {
        return function() {
            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
                , n = t.command
                , i = t.params
                , r = void 0 === i ? {} : i
                , a = t.callback
                , o = void 0 === a ? Ne : a;
            if (!n || -1 === n.indexOf("."))
                throw new Error("[OptIn.execute] Please provide a valid command.");
            try {
                var s = n.split(".")
                    , c = e[s[0]]
                    , u = s[1];
                if (!c || "function" != typeof c[u])
                    throw new Error("Make sure the plugin and API name exist.");
                var l = Object.assign(r, {
                    callback: o
                });
                c[u].call(c, l)
            } catch (e) {
                ye.error("[execute] Something went wrong: " + e.message)
            }
        }
    };
    f.prototype = Object.create(Error.prototype),
        f.prototype.constructor = f;
    var He = "fetchPermissions"
        , Be = "[OptIn#registerPlugin] Plugin is invalid.";
    p.Categories = fe,
        p.TimeoutError = f;
    var Ge = Object.freeze({
        OptIn: p,
        IabPlugin: _
    })
        , Ye = function(e, t) {
        e.publishDestinations = function(n) {
            var i = arguments[1]
                , r = arguments[2];
            try {
                r = "function" == typeof r ? r : n.callback
            } catch (e) {
                r = function() {}
            }
            var a = t;
            if (!a.readyToAttachIframePreliminary())
                return void r({
                    error: "The destination publishing iframe is disabled in the Visitor library."
                });
            if ("string" == typeof n) {
                if (!n.length)
                    return void r({
                        error: "subdomain is not a populated string."
                    });
                if (!(i instanceof Array && i.length))
                    return void r({
                        error: "messages is not a populated array."
                    });
                var o = !1;
                if (i.forEach(function(e) {
                    "string" == typeof e && e.length && (a.addMessage(e),
                        o = !0)
                }),
                    !o)
                    return void r({
                        error: "None of the messages are populated strings."
                    })
            } else {
                if (!U.isObject(n))
                    return void r({
                        error: "Invalid parameters passed."
                    });
                var s = n;
                if ("string" != typeof (n = s.subdomain) || !n.length)
                    return void r({
                        error: "config.subdomain is not a populated string."
                    });
                var c = s.urlDestinations;
                if (!(c instanceof Array && c.length))
                    return void r({
                        error: "config.urlDestinations is not a populated array."
                    });
                var u = [];
                c.forEach(function(e) {
                    U.isObject(e) && (e.hideReferrer ? e.message && a.addMessage(e.message) : u.push(e))
                });
                !function e() {
                    u.length && setTimeout(function() {
                        var t = new Image
                            , n = u.shift();
                        t.src = n.url,
                            a.onPageDestinationsFired.push(n),
                            e()
                    }, 100)
                }()
            }
            a.iframe ? (r({
                message: "The destination publishing iframe is already attached and loaded."
            }),
                a.requestToProcess()) : !e.subdomain && e._getField("MCMID") ? (a.subdomain = n,
                a.doAttachIframe = !0,
                a.url = a.getUrl(),
                a.readyToAttachIframe() ? (a.iframeLoadedCallbacks.push(function(e) {
                    r({
                        message: "Attempted to attach and load the destination publishing iframe through this API call. Result: " + (e.message || "no result")
                    })
                }),
                    a.attachIframe()) : r({
                    error: "Encountered a problem in attempting to attach and load the destination publishing iframe through this API call."
                })) : a.iframeLoadedCallbacks.push(function(e) {
                r({
                    message: "Attempted to attach and load the destination publishing iframe through normal Visitor API processing. Result: " + (e.message || "no result")
                })
            })
        }
    }
        , qe = function e(t) {
        function n(e, t) {
            return e >>> t | e << 32 - t
        }
        for (var i, r, a = Math.pow, o = a(2, 32), s = "", c = [], u = 8 * t.length, l = e.h = e.h || [], d = e.k = e.k || [], f = d.length, p = {}, g = 2; f < 64; g++)
            if (!p[g]) {
                for (i = 0; i < 313; i += g)
                    p[i] = g;
                l[f] = a(g, .5) * o | 0,
                    d[f++] = a(g, 1 / 3) * o | 0
            }
        for (t += "Â"; t.length % 64 - 56; )
            t += "\0";
        for (i = 0; i < t.length; i++) {
            if ((r = t.charCodeAt(i)) >> 8)
                return;
            c[i >> 2] |= r << (3 - i) % 4 * 8
        }
        for (c[c.length] = u / o | 0,
                 c[c.length] = u,
                 r = 0; r < c.length; ) {
            var m = c.slice(r, r += 16)
                , h = l;
            for (l = l.slice(0, 8),
                     i = 0; i < 64; i++) {
                var _ = m[i - 15]
                    , C = m[i - 2]
                    , S = l[0]
                    , I = l[4]
                    , v = l[7] + (n(I, 6) ^ n(I, 11) ^ n(I, 25)) + (I & l[5] ^ ~I & l[6]) + d[i] + (m[i] = i < 16 ? m[i] : m[i - 16] + (n(_, 7) ^ n(_, 18) ^ _ >>> 3) + m[i - 7] + (n(C, 17) ^ n(C, 19) ^ C >>> 10) | 0);
                l = [v + ((n(S, 2) ^ n(S, 13) ^ n(S, 22)) + (S & l[1] ^ S & l[2] ^ l[1] & l[2])) | 0].concat(l),
                    l[4] = l[4] + v | 0
            }
            for (i = 0; i < 8; i++)
                l[i] = l[i] + h[i] | 0
        }
        for (i = 0; i < 8; i++)
            for (r = 3; r + 1; r--) {
                var D = l[i] >> 8 * r & 255;
                s += (D < 16 ? 0 : "") + D.toString(16)
            }
        return s
    }
        , Xe = function(e, t) {
        return "SHA-256" !== t && "SHA256" !== t && "sha256" !== t && "sha-256" !== t || (e = qe(e)),
            e
    }
        , We = function(e) {
        return String(e).trim().toLowerCase()
    }
        , Ke = Ge.OptIn;
    U.defineGlobalNamespace(),
        window.adobe.OptInCategories = Ke.Categories;
    var Je = function(t, n, i) {
        function r() {
            S._customerIDsHashChanged = !1
        }
        function a(e) {
            var t = e;
            return function(e) {
                var n = e || A.location.href;
                try {
                    var i = S._extractParamFromUri(n, t);
                    if (i)
                        return q.parsePipeDelimetedKeyValues(i)
                } catch (e) {}
            }
        }
        function o(e) {
            function t(e, t, n) {
                e && e.match(oe.VALID_VISITOR_ID_REGEX) && (n === T && (b = !0),
                    t(e))
            }
            t(e[T], S.setMarketingCloudVisitorID, T),
                S._setFieldExpire(x, -1),
                t(e[w], S.setAnalyticsVisitorID)
        }
        function s(e) {
            e = e || {},
                S._supplementalDataIDCurrent = e.supplementalDataIDCurrent || "",
                S._supplementalDataIDCurrentConsumed = e.supplementalDataIDCurrentConsumed || {},
                S._supplementalDataIDLast = e.supplementalDataIDLast || "",
                S._supplementalDataIDLastConsumed = e.supplementalDataIDLastConsumed || {}
        }
        function c(e) {
            function t(e, t, n) {
                return n = n ? n += "|" : n,
                    n += e + "=" + encodeURIComponent(t)
            }
            function n(e, n) {
                var i = n[0]
                    , r = n[1];
                return null != r && r !== F && (e = t(i, r, e)),
                    e
            }
            var i = e.reduce(n, "");
            return function(e) {
                var t = q.getTimestampInSeconds();
                return e = e ? e += "|" : e,
                    e += "TS=" + t
            }(i)
        }
        function u(e) {
            var t = e.minutesToLive
                , n = "";
            return (S.idSyncDisableSyncs || S.disableIdSyncs) && (n = n || "Error: id syncs have been disabled"),
            "string" == typeof e.dpid && e.dpid.length || (n = n || "Error: config.dpid is empty"),
            "string" == typeof e.url && e.url.length || (n = n || "Error: config.url is empty"),
                void 0 === t ? t = 20160 : (t = parseInt(t, 10),
                (isNaN(t) || t <= 0) && (n = n || "Error: config.minutesToLive needs to be a positive number")),
                {
                    error: n,
                    ttl: t
                }
        }
        function l() {
            return !!S.configs.doesOptInApply && !(I.optIn.isComplete && d())
        }
        function d() {
            return S.configs.doesOptInApply && S.configs.isIabContext ? I.optIn.isApproved(I.optIn.Categories.ECID) && y : I.optIn.isApproved(I.optIn.Categories.ECID)
        }
        function f() {
            [["getMarketingCloudVisitorID"], ["setCustomerIDs", void 0], ["syncIdentity", void 0], ["getAnalyticsVisitorID"], ["getAudienceManagerLocationHint"], ["getLocationHint"], ["getAudienceManagerBlob"]].forEach(function(e) {
                var t = e[0]
                    , n = 2 === e.length ? e[1] : ""
                    , i = S[t];
                S[t] = function(e) {
                    return d() && S.isAllowed() ? i.apply(S, arguments) : ("function" == typeof e && S._callCallback(e, [n]),
                        n)
                }
            })
        }
        function p() {
            var e = S._getAudienceManagerURLData()
                , t = e.url;
            return S._loadData(E, t, null, e)
        }
        function g(e, t) {
            if (y = !0,
                e)
                throw new Error("[IAB plugin] : " + e);
            t && t.gdprApplies && (v = t.consentString,
                D = t.hasConsentChangedSinceLastCmpPull ? 1 : 0),
                p(),
                _()
        }
        function m(e, t) {
            if (y = !0,
                e)
                throw new Error("[IAB plugin] : " + e);
            t.gdprApplies && (v = t.consentString,
                D = t.hasConsentChangedSinceLastCmpPull ? 1 : 0),
                S.init(),
                _()
        }
        function h() {
            I.optIn.isComplete && (I.optIn.isApproved(I.optIn.Categories.ECID) ? S.configs.isIabContext ? I.optIn.execute({
                command: "iabPlugin.fetchConsentData",
                callback: m
            }) : (S.init(),
                _()) : S.configs.isIabContext ? I.optIn.execute({
                command: "iabPlugin.fetchConsentData",
                callback: g
            }) : (f(),
                _()))
        }
        function _() {
            I.optIn.off("complete", h)
        }
        if (!i || i.split("").reverse().join("") !== t)
            throw new Error("Please use `Visitor.getInstance` to instantiate Visitor.");
        var S = this
            , I = window.adobe
            , v = ""
            , D = 0
            , y = !1
            , b = !1;
        S.version = "5.2.0";
        var A = C
            , O = A.Visitor;
        O.version = S.version,
            O.AuthState = L.AUTH_STATE,
            O.OptOut = L.OPT_OUT,
        A.s_c_in || (A.s_c_il = [],
            A.s_c_in = 0),
            S._c = "Visitor",
            S._il = A.s_c_il,
            S._in = A.s_c_in,
            S._il[S._in] = S,
            A.s_c_in++,
            S._instanceType = "regular",
            S._log = {
                requests: []
            },
            S.marketingCloudOrgID = t,
            S.cookieName = "AMCV_" + t,
            S.sessionCookieName = "AMCVS_" + t;
        var M = {};
        n && n.secureCookie && n.sameSiteCookie && (M = {
            sameSite: n.sameSiteCookie,
            secure: n.secureCookie
        }),
            S.cookieDomain = S.useLocalStorage ? "" : ee(null, M),
            S.loadSSL = !0,
            S.loadTimeout = 3e4,
            S.CORSErrors = [],
            S.marketingCloudServer = S.audienceManagerServer = "dpm.demdex.net",
            S.sdidParamExpiry = 30;
        var k = null
            , E = "MC"
            , T = "MCMID"
            , P = "MCIDTS"
            , R = "A"
            , w = "MCAID"
            , N = "AAM"
            , x = "MCAAMB"
            , F = "NONE"
            , j = function(e) {
            return !Object.prototype[e]
        }
            , V = ae(S);
        S.FIELDS = L.FIELDS,
            S.cookieRead = function(e) {
                return S.useLocalStorage ? e === S.sessionCookieName ? sessionStorage.getItem(e) : localStorage.getItem(e) : Z.get(e)
            }
            ,
            S.cookieWrite = function(e, t, n) {
                var i = "" + t;
                if (S.useLocalStorage)
                    return e === S.sessionCookieName ? sessionStorage.setItem(e, i) : localStorage.setItem(e, i);
                var r = S.cookieLifetime ? ("" + S.cookieLifetime).toUpperCase() : ""
                    , a = {
                    expires: n,
                    domain: S.cookieDomain,
                    cookieLifetime: r
                };
                return S.configs && S.configs.secureCookie && "https:" === location.protocol && (a.secure = !0),
                S.configs && S.configs.sameSiteCookie && "https:" === location.protocol && (a.sameSite = L.SAME_SITE_VALUES[S.configs.sameSiteCookie.toUpperCase()] || "Lax"),
                    Z.set(e, i, a)
            }
            ,
            S.removeCookie = function(e) {
                if (S.useLocalStorage)
                    return e === S.sessionCookieName ? sessionStorage.removeItem(e) : localStorage.removeItem(e);
                var t = {
                    domain: S.cookieDomain
                };
                return S.configs && S.configs.secureCookie && "https:" === location.protocol && (t.secure = !0),
                S.configs && S.configs.sameSiteCookie && "https:" === location.protocol && (t.sameSite = L.SAME_SITE_VALUES[S.configs.sameSiteCookie.toUpperCase()] || "Lax"),
                    Z.remove(e, t)
            }
            ,
            S.resetState = function(e) {
                e ? S._mergeServerState(e) : s()
            }
            ,
            S._isAllowedDone = !1,
            S._isAllowedFlag = !1,
            S.isAllowed = function() {
                return S._isAllowedDone || (S._isAllowedDone = !0,
                (S.cookieRead(S.cookieName) || S.cookieWrite(S.cookieName, "T", 1)) && (S._isAllowedFlag = !0)),
                "T" === S.cookieRead(S.cookieName) && S.removeCookie(S.cookieName),
                    S._isAllowedFlag
            }
            ,
            S.setMarketingCloudVisitorID = function(e) {
                S._setMarketingCloudFields(e)
            }
            ,
            S._use1stPartyMarketingCloudServer = !1,
            S.getMarketingCloudVisitorID = function(e, t) {
                S.marketingCloudServer && S.marketingCloudServer.indexOf(".demdex.net") < 0 && (S._use1stPartyMarketingCloudServer = !0);
                var n = S._getAudienceManagerURLData("_setMarketingCloudFields")
                    , i = n.url;
                return S._getRemoteField(T, i, e, t, n)
            }
        ;
        var H = function(e, t) {
            var n = {};
            S.getMarketingCloudVisitorID(function() {
                t.forEach(function(e) {
                    n[e] = S._getField(e, !0)
                }),
                    -1 !== t.indexOf("MCOPTOUT") ? S.isOptedOut(function(t) {
                        n.MCOPTOUT = t,
                            e(n)
                    }, null, !0) : e(n)
            }, !0)
        };
        S.getVisitorValues = function(e, t) {
            var n = {
                MCMID: {
                    fn: S.getMarketingCloudVisitorID,
                    args: [!0],
                    context: S
                },
                MCOPTOUT: {
                    fn: S.isOptedOut,
                    args: [void 0, !0],
                    context: S
                },
                MCAID: {
                    fn: S.getAnalyticsVisitorID,
                    args: [!0],
                    context: S
                },
                MCAAMLH: {
                    fn: S.getAudienceManagerLocationHint,
                    args: [!0],
                    context: S
                },
                MCAAMB: {
                    fn: S.getAudienceManagerBlob,
                    args: [!0],
                    context: S
                }
            }
                , i = t && t.length ? U.pluck(n, t) : n;
            t && -1 === t.indexOf("MCAID") ? H(e, t) : $(i, e)
        }
            ,
            S._currentCustomerIDs = {},
            S._customerIDsHashChanged = !1,
            S._newCustomerIDsHash = "",
            S.setCustomerIDs = function(t, n) {
                if (!S.isOptedOut() && t) {
                    if (!U.isObject(t) || U.isObjectEmpty(t))
                        return !1;
                    S._readVisitor();
                    var i, a, o, s;
                    for (i in t)
                        if (j(i) && (S._currentCustomerIDs.dataSources = S._currentCustomerIDs.dataSources || {},
                            a = t[i],
                            n = a.hasOwnProperty("hashType") ? a.hashType : n,
                            a))
                            if ("object" === e(a)) {
                                var c = {};
                                if (a.id) {
                                    if (n) {
                                        if (!(s = Xe(We(a.id), n)))
                                            return;
                                        a.id = s,
                                            c.hashType = n
                                    }
                                    c.id = a.id
                                }
                                void 0 != a.authState && (c.authState = a.authState),
                                    S._currentCustomerIDs.dataSources[i] = c
                            } else if (n) {
                                if (!(s = Xe(We(a), n)))
                                    return;
                                S._currentCustomerIDs.dataSources[i] = {
                                    id: s,
                                    hashType: n
                                }
                            } else
                                S._currentCustomerIDs.dataSources[i] = {
                                    id: a
                                };
                    var u = S.getCustomerIDs(!0)
                        , l = S._getField("MCCIDH")
                        , d = "";
                    l || (l = 0);
                    for (o in u) {
                        var f = u[o];
                        if (!U.isObjectEmpty(f))
                            for (i in f)
                                j(i) && (a = f[i],
                                    d += (d ? "|" : "") + i + "|" + (a.id ? a.id : "") + (a.authState ? a.authState : ""))
                    }
                    S._newCustomerIDsHash = String(S._hash(d)),
                    S._newCustomerIDsHash !== l && (S._customerIDsHashChanged = !0,
                        S._mapCustomerIDs(r))
                }
            }
            ,
            S.syncIdentity = function(t, n) {
                if (!S.isOptedOut() && t) {
                    if (!U.isObject(t) || U.isObjectEmpty(t))
                        return !1;
                    S._readVisitor();
                    var i, a, o, s, c;
                    for (i in t)
                        if (j(i) && (S._currentCustomerIDs.nameSpaces = S._currentCustomerIDs.nameSpaces || {},
                            a = t[i],
                            n = a.hasOwnProperty("hashType") ? a.hashType : n,
                        a && "object" === e(a))) {
                            var u = {};
                            if (a.id) {
                                if (n) {
                                    if (!(o = Xe(We(a.id), n)))
                                        return;
                                    a.id = o,
                                        u.hashType = n
                                }
                                u.id = a.id
                            }
                            void 0 != a.authState && (u.authState = a.authState),
                            a.dataSource && (S._currentCustomerIDs.dataSources = S._currentCustomerIDs.dataSources || {},
                                s = a.dataSource,
                                S._currentCustomerIDs.dataSources[s] = u),
                                S._currentCustomerIDs.nameSpaces[i] = u
                        }
                    var l = S.getCustomerIDs(!0)
                        , d = S._getField("MCCIDH")
                        , f = "";
                    d || (d = "0");
                    for (c in l) {
                        var p = l[c];
                        if (!U.isObjectEmpty(p))
                            for (i in p)
                                j(i) && (a = p[i],
                                    f += (f ? "|" : "") + i + "|" + (a.id ? a.id : "") + (a.authState ? a.authState : ""))
                    }
                    S._newCustomerIDsHash = String(S._hash(f)),
                    S._newCustomerIDsHash !== d && (S._customerIDsHashChanged = !0,
                        S._mapCustomerIDs(r))
                }
            }
            ,
            S.getCustomerIDs = function(e) {
                S._readVisitor();
                var t, n, i = {
                    dataSources: {},
                    nameSpaces: {}
                }, r = S._currentCustomerIDs.dataSources;
                for (t in r)
                    j(t) && (n = r[t],
                    n.id && (i.dataSources[t] || (i.dataSources[t] = {}),
                        i.dataSources[t].id = n.id,
                        void 0 != n.authState ? i.dataSources[t].authState = n.authState : i.dataSources[t].authState = O.AuthState.UNKNOWN,
                    n.hashType && (i.dataSources[t].hashType = n.hashType)));
                var a = S._currentCustomerIDs.nameSpaces;
                for (t in a)
                    j(t) && (n = a[t],
                    n.id && (i.nameSpaces[t] || (i.nameSpaces[t] = {}),
                        i.nameSpaces[t].id = n.id,
                        void 0 != n.authState ? i.nameSpaces[t].authState = n.authState : i.nameSpaces[t].authState = O.AuthState.UNKNOWN,
                    n.hashType && (i.nameSpaces[t].hashType = n.hashType)));
                return e ? i : i.dataSources
            }
            ,
            S.setAnalyticsVisitorID = function(e) {
                S._setAnalyticsFields(e)
            }
            ,
            S.getAnalyticsVisitorID = function(e, t, n) {
                if (!q.isTrackingServerPopulated() && !n)
                    return S._callCallback(e, [""]),
                        "";
                var i = "";
                if (n || (i = S.getMarketingCloudVisitorID(function(t) {
                    S.getAnalyticsVisitorID(e, !0)
                })),
                i || n) {
                    var r = n ? S.marketingCloudServer : S.trackingServer
                        , a = "";
                    S.loadSSL && (n ? S.marketingCloudServerSecure && (r = S.marketingCloudServerSecure) : S.trackingServerSecure && (r = S.trackingServerSecure));
                    var o = {};
                    if (r) {
                        var s = "http" + (S.loadSSL ? "s" : "") + "://" + r + "/id"
                            , c = "d_visid_ver=" + S.version + "&mcorgid=" + encodeURIComponent(S.marketingCloudOrgID) + (i ? "&mid=" + encodeURIComponent(i) : "") + (S.idSyncDisable3rdPartySyncing || S.disableThirdPartyCookies ? "&d_coppa=true" : "")
                            , u = ["s_c_il", S._in, "_set" + (n ? "MarketingCloud" : "Analytics") + "Fields"];
                        a = s + "?" + c + "&callback=s_c_il%5B" + S._in + "%5D._set" + (n ? "MarketingCloud" : "Analytics") + "Fields",
                            o.corsUrl = s + "?" + c,
                            o.callback = u
                    }
                    return o.url = a,
                        S._getRemoteField(n ? T : w, a, e, t, o)
                }
                return ""
            }
            ,
            S.getAudienceManagerLocationHint = function(e, t) {
                if (S.getMarketingCloudVisitorID(function(t) {
                    S.getAudienceManagerLocationHint(e, !0)
                })) {
                    var n = S._getField(w);
                    if (!n && q.isTrackingServerPopulated() && (n = S.getAnalyticsVisitorID(function(t) {
                        S.getAudienceManagerLocationHint(e, !0)
                    })),
                    n || !q.isTrackingServerPopulated()) {
                        var i = S._getAudienceManagerURLData()
                            , r = i.url;
                        return S._getRemoteField("MCAAMLH", r, e, t, i)
                    }
                }
                return ""
            }
            ,
            S.getLocationHint = S.getAudienceManagerLocationHint,
            S.getAudienceManagerBlob = function(e, t) {
                if (S.getMarketingCloudVisitorID(function(t) {
                    S.getAudienceManagerBlob(e, !0)
                })) {
                    var n = S._getField(w);
                    if (!n && q.isTrackingServerPopulated() && (n = S.getAnalyticsVisitorID(function(t) {
                        S.getAudienceManagerBlob(e, !0)
                    })),
                    n || !q.isTrackingServerPopulated()) {
                        var i = S._getAudienceManagerURLData()
                            , r = i.url;
                        return S._customerIDsHashChanged && S._setFieldExpire(x, -1),
                            S._getRemoteField(x, r, e, t, i)
                    }
                }
                return ""
            }
            ,
            S._supplementalDataIDCurrent = "",
            S._supplementalDataIDCurrentConsumed = {},
            S._supplementalDataIDLast = "",
            S._supplementalDataIDLastConsumed = {},
            S.getSupplementalDataID = function(e, t) {
                S._supplementalDataIDCurrent || t || (S._supplementalDataIDCurrent = S._generateID(1));
                var n = S._supplementalDataIDCurrent;
                return S._supplementalDataIDLast && !S._supplementalDataIDLastConsumed[e] ? (n = S._supplementalDataIDLast,
                    S._supplementalDataIDLastConsumed[e] = !0) : n && (S._supplementalDataIDCurrentConsumed[e] && (S._supplementalDataIDLast = S._supplementalDataIDCurrent,
                    S._supplementalDataIDLastConsumed = S._supplementalDataIDCurrentConsumed,
                    S._supplementalDataIDCurrent = n = t ? "" : S._generateID(1),
                    S._supplementalDataIDCurrentConsumed = {}),
                n && (S._supplementalDataIDCurrentConsumed[e] = !0)),
                    n
            }
        ;
        var B = !1;
        S._liberatedOptOut = null,
            S.getOptOut = function(e, t) {
                var n = S._getAudienceManagerURLData("_setMarketingCloudFields")
                    , i = n.url;
                if (d())
                    return S._getRemoteField("MCOPTOUT", i, e, t, n);
                if (S._registerCallback("liberatedOptOut", e),
                null !== S._liberatedOptOut)
                    return S._callAllCallbacks("liberatedOptOut", [S._liberatedOptOut]),
                        B = !1,
                        S._liberatedOptOut;
                if (B)
                    return null;
                B = !0;
                var r = "liberatedGetOptOut";
                return n.corsUrl = n.corsUrl.replace(/\.demdex\.net\/id\?/, ".demdex.net/optOutStatus?"),
                    n.callback = [r],
                    C[r] = function(e) {
                        if (e === Object(e)) {
                            var t, n, i = U.parseOptOut(e, t, F);
                            t = i.optOut,
                                n = 1e3 * i.d_ottl,
                                S._liberatedOptOut = t,
                                setTimeout(function() {
                                    S._liberatedOptOut = null
                                }, n)
                        }
                        S._callAllCallbacks("liberatedOptOut", [t]),
                            B = !1
                    }
                    ,
                    V.fireCORS(n),
                    null
            }
            ,
            S.isOptedOut = function(e, t, n) {
                t || (t = O.OptOut.GLOBAL);
                var i = S.getOptOut(function(n) {
                    var i = n === O.OptOut.GLOBAL || n.indexOf(t) >= 0;
                    S._callCallback(e, [i])
                }, n);
                return i ? i === O.OptOut.GLOBAL || i.indexOf(t) >= 0 : null
            }
        ;
        var G = {
            subscribed: !1,
            callbacks: []
        };
        S.onReceiveEcid = function(e) {
            if (d())
                return S.getMarketingCloudVisitorID(e, !0);
            G.subscribed = !0,
            e && "function" == typeof e && G.callbacks.push(e)
        }
            ,
            S._fields = null,
            S._fieldsExpired = null,
            S._hash = function(e) {
                var t, n, i = 0;
                if (e)
                    for (t = 0; t < e.length; t++)
                        n = e.charCodeAt(t),
                            i = (i << 5) - i + n,
                            i &= i;
                return i
            }
            ,
            S._generateID = re,
            S._generateLocalMID = function() {
                var e = S._generateID(0);
                return W.isClientSideMarketingCloudVisitorID = !0,
                    e
            }
            ,
            S._callbackList = null,
            S._callCallback = function(e, t) {
                try {
                    "function" == typeof e ? e.apply(A, t) : e[1].apply(e[0], t)
                } catch (e) {}
            }
            ,
            S._registerCallback = function(e, t) {
                t && (null == S._callbackList && (S._callbackList = {}),
                void 0 == S._callbackList[e] && (S._callbackList[e] = []),
                    S._callbackList[e].push(t))
            }
            ,
            S._callAllCallbacks = function(e, t) {
                if (null != S._callbackList) {
                    var n = S._callbackList[e];
                    if (n)
                        for (; n.length > 0; )
                            S._callCallback(n.shift(), t)
                }
            }
            ,
            S._addQuerystringParam = function(e, t, n, i) {
                var r = encodeURIComponent(t) + "=" + encodeURIComponent(n)
                    , a = q.parseHash(e)
                    , o = q.hashlessUrl(e);
                if (-1 === o.indexOf("?"))
                    return o + "?" + r + a;
                var s = o.split("?")
                    , c = s[0] + "?"
                    , u = s[1];
                return c + q.addQueryParamAtLocation(u, r, i) + a
            }
            ,
            S._extractParamFromUri = function(e, t) {
                var n = new RegExp("[\\?&#]" + t + "=([^&#]*)")
                    , i = n.exec(e);
                if (i && i.length)
                    return decodeURIComponent(i[1])
            }
            ,
            S._parseAdobeMcFromUrl = a(oe.ADOBE_MC),
            S._parseAdobeMcSdidFromUrl = a(oe.ADOBE_MC_SDID),
            S._attemptToPopulateSdidFromUrl = function(e) {
                var n = S._parseAdobeMcSdidFromUrl(e)
                    , i = 1e9;
                n && n.TS && (i = q.getTimestampInSeconds() - n.TS),
                n && n.SDID && n.MCORGID === t && i < S.sdidParamExpiry && (S._supplementalDataIDCurrent = n.SDID,
                    S._supplementalDataIDCurrentConsumed.SDID_URL_PARAM = !0)
            }
            ,
            S._attemptToPopulateIdsFromUrl = function() {
                var e = S._parseAdobeMcFromUrl();
                if (e && e.TS) {
                    var n = q.getTimestampInSeconds()
                        , i = n - e.TS;
                    if (Math.floor(i / 60) > oe.ADOBE_MC_TTL_IN_MIN || e.MCORGID !== t)
                        return;
                    o(e)
                }
            }
            ,
            S._mergeServerState = function(e) {
                if (e)
                    try {
                        if (e = function(e) {
                            return q.isObject(e) ? e : JSON.parse(e)
                        }(e),
                            e[S.marketingCloudOrgID]) {
                            var t = e[S.marketingCloudOrgID];
                            !function(e) {
                                q.isObject(e) && S.setCustomerIDs(e)
                            }(t.customerIDs),
                                s(t.sdid)
                        }
                    } catch (e) {
                        throw new Error("`serverState` has an invalid format.")
                    }
            }
            ,
            S._timeout = null,
            S._loadData = function(e, t, n, i) {
                t = S._addQuerystringParam(t, "d_fieldgroup", e, 1),
                    i.url = S._addQuerystringParam(i.url, "d_fieldgroup", e, 1),
                    i.corsUrl = S._addQuerystringParam(i.corsUrl, "d_fieldgroup", e, 1),
                    W.fieldGroupObj[e] = !0,
                i === Object(i) && i.corsUrl && "XMLHttpRequest" === V.corsMetadata.corsType && V.fireCORS(i, n, e)
            }
            ,
            S._clearTimeout = function(e) {
                null != S._timeout && S._timeout[e] && (clearTimeout(S._timeout[e]),
                    S._timeout[e] = 0)
            }
            ,
            S._settingsDigest = 0,
            S._getSettingsDigest = function() {
                if (!S._settingsDigest) {
                    var e = S.version;
                    S.audienceManagerServer && (e += "|" + S.audienceManagerServer),
                    S.audienceManagerServerSecure && (e += "|" + S.audienceManagerServerSecure),
                        S._settingsDigest = S._hash(e)
                }
                return S._settingsDigest
            }
            ,
            S._readVisitorDone = !1,
            S._readVisitor = function() {
                if (!S._readVisitorDone) {
                    S._readVisitorDone = !0;
                    var e, t, n, i, r, a, o = S._getSettingsDigest(), s = !1, c = S.cookieRead(S.cookieName), u = new Date;
                    if (c || b || S.discardTrackingServerECID || (c = S.cookieRead(oe.FIRST_PARTY_SERVER_COOKIE)),
                    null == S._fields && (S._fields = {}),
                    c && "T" !== c)
                        for (c = c.split("|"),
                             c[0].match(/^[\-0-9]+$/) && (parseInt(c[0], 10) !== o && (s = !0),
                                 c.shift()),
                             c.length % 2 == 1 && c.pop(),
                                 e = 0; e < c.length; e += 2)
                            t = c[e].split("-"),
                                n = t[0],
                                i = c[e + 1],
                                t.length > 1 ? (r = parseInt(t[1], 10),
                                    a = t[1].indexOf("s") > 0) : (r = 0,
                                    a = !1),
                            s && ("MCCIDH" === n && (i = ""),
                            r > 0 && (r = u.getTime() / 1e3 - 60)),
                            n && i && (S._setField(n, i, 1),
                            r > 0 && (S._fields["expire" + n] = r + (a ? "s" : ""),
                            (u.getTime() >= 1e3 * r || a && !S.cookieRead(S.sessionCookieName)) && (S._fieldsExpired || (S._fieldsExpired = {}),
                                S._fieldsExpired[n] = !0)));
                    !S._getField(w) && q.isTrackingServerPopulated() && (c = S.cookieRead("s_vi")) && (c = c.split("|"),
                    c.length > 1 && c[0].indexOf("v1") >= 0 && (i = c[1],
                        e = i.indexOf("["),
                    e >= 0 && (i = i.substring(0, e)),
                    i && i.match(oe.VALID_VISITOR_ID_REGEX) && S._setField(w, i)))
                }
            }
            ,
            S._appendVersionTo = function(e) {
                var t = "vVersion|" + S.version
                    , n = e ? S._getCookieVersion(e) : null;
                return n ? te.areVersionsDifferent(n, S.version) && (e = e.replace(oe.VERSION_REGEX, t)) : e += (e ? "|" : "") + t,
                    e
            }
            ,
            S._writeVisitor = function() {
                var e, t, n = S._getSettingsDigest();
                for (e in S._fields)
                    j(e) && S._fields[e] && "expire" !== e.substring(0, 6) && (t = S._fields[e],
                        n += (n ? "|" : "") + e + (S._fields["expire" + e] ? "-" + S._fields["expire" + e] : "") + "|" + t);
                n = S._appendVersionTo(n),
                    S.cookieWrite(S.cookieName, n, 1)
            }
            ,
            S._getField = function(e, t) {
                return null == S._fields || !t && S._fieldsExpired && S._fieldsExpired[e] ? null : S._fields[e]
            }
            ,
            S._setField = function(e, t, n) {
                null == S._fields && (S._fields = {}),
                    S._fields[e] = t,
                n || S._writeVisitor()
            }
            ,
            S._getFieldList = function(e, t) {
                var n = S._getField(e, t);
                return n ? n.split("*") : null
            }
            ,
            S._setFieldList = function(e, t, n) {
                S._setField(e, t ? t.join("*") : "", n)
            }
            ,
            S._getFieldMap = function(e, t) {
                var n = S._getFieldList(e, t);
                if (n) {
                    var i, r = {};
                    for (i = 0; i < n.length; i += 2)
                        r[n[i]] = n[i + 1];
                    return r
                }
                return null
            }
            ,
            S._setFieldMap = function(e, t, n) {
                var i, r = null;
                if (t) {
                    r = [];
                    for (i in t)
                        j(i) && (r.push(i),
                            r.push(t[i]))
                }
                S._setFieldList(e, r, n)
            }
            ,
            S._setFieldExpire = function(e, t, n) {
                var i = new Date;
                i.setTime(i.getTime() + 1e3 * t),
                null == S._fields && (S._fields = {}),
                    S._fields["expire" + e] = Math.floor(i.getTime() / 1e3) + (n ? "s" : ""),
                    t < 0 ? (S._fieldsExpired || (S._fieldsExpired = {}),
                        S._fieldsExpired[e] = !0) : S._fieldsExpired && (S._fieldsExpired[e] = !1),
                n && (S.cookieRead(S.sessionCookieName) || S.cookieWrite(S.sessionCookieName, "1"))
            }
            ,
            S._findVisitorID = function(t) {
                return t && ("object" === e(t) && (t = t.d_mid ? t.d_mid : t.visitorID ? t.visitorID : t.id ? t.id : t.uuid ? t.uuid : "" + t),
                t && "NOTARGET" === (t = t.toUpperCase()) && (t = F),
                t && (t === F || t.match(oe.VALID_VISITOR_ID_REGEX)) || (t = "")),
                    t
            }
            ,
            S._setFields = function(t, n) {
                if (S._clearTimeout(t),
                null != S._loading && (S._loading[t] = !1),
                W.fieldGroupObj[t] && W.setState(t, !1),
                t === E) {
                    !0 !== W.isClientSideMarketingCloudVisitorID && (W.isClientSideMarketingCloudVisitorID = !1);
                    var i = S._getField(T);
                    if (!i || S.overwriteCrossDomainMCIDAndAID) {
                        if (!(i = "object" === e(n) && n.mid ? n.mid : S._findVisitorID(n))) {
                            if (S._use1stPartyMarketingCloudServer && !S.tried1stPartyMarketingCloudServer)
                                return S.tried1stPartyMarketingCloudServer = !0,
                                    void S.getAnalyticsVisitorID(null, !1, !0);
                            i = S._generateLocalMID()
                        }
                        S._setField(T, i)
                    }
                    i && i !== F || (i = ""),
                    "object" === e(n) && ((n.d_region || n.dcs_region || n.d_blob || n.blob) && S._setFields(N, n),
                    S._use1stPartyMarketingCloudServer && n.mid && S._setFields(R, {
                        id: n.id
                    })),
                        S._callAllCallbacks(T, [i])
                }
                if (t === N && "object" === e(n)) {
                    var r = 604800;
                    void 0 != n.id_sync_ttl && n.id_sync_ttl && (r = parseInt(n.id_sync_ttl, 10));
                    var a = X.getRegionAndCheckIfChanged(n, r);
                    S._callAllCallbacks("MCAAMLH", [a]);
                    var o = S._getField(x);
                    (n.d_blob || n.blob) && (o = n.d_blob,
                    o || (o = n.blob),
                        S._setFieldExpire(x, r),
                        S._setField(x, o)),
                    o || (o = ""),
                        S._callAllCallbacks(x, [o]),
                    !n.error_msg && S._newCustomerIDsHash && S._setField("MCCIDH", S._newCustomerIDsHash)
                }
                if (t === R) {
                    var s = S._getField(w);
                    s && !S.overwriteCrossDomainMCIDAndAID || (s = S._findVisitorID(n),
                        s ? s !== F && S._setFieldExpire(x, -1) : s = F,
                        S._setField(w, s)),
                    s && s !== F || (s = ""),
                        S._callAllCallbacks(w, [s])
                }
                if (S.idSyncDisableSyncs || S.disableIdSyncs)
                    X.idCallNotProcesssed = !0;
                else {
                    X.idCallNotProcesssed = !1;
                    var c = {};
                    c.ibs = n.ibs,
                        c.subdomain = n.subdomain,
                        X.processIDCallData(c)
                }
                if (n === Object(n)) {
                    var u, l;
                    d() && S.isAllowed() && (u = S._getField("MCOPTOUT"));
                    var f = U.parseOptOut(n, u, F);
                    u = f.optOut,
                        l = f.d_ottl,
                        S._setFieldExpire("MCOPTOUT", l, !0),
                        S._setField("MCOPTOUT", u),
                        S._callAllCallbacks("MCOPTOUT", [u])
                }
            }
            ,
            S._loading = null,
            S._getRemoteField = function(e, t, n, i, r) {
                var a, o = "", s = q.isFirstPartyAnalyticsVisitorIDCall(e), c = {
                    MCAAMLH: !0,
                    MCAAMB: !0
                };
                if (d() && S.isAllowed()) {
                    S._readVisitor(),
                        o = S._getField(e, !0 === c[e]);
                    if (function() {
                        return (!o || S._fieldsExpired && S._fieldsExpired[e]) && (!S.disableThirdPartyCalls || s)
                    }()) {
                        if (e === T || "MCOPTOUT" === e ? a = E : "MCAAMLH" === e || e === x ? a = N : e === w && (a = R),
                            a)
                            return !t || null != S._loading && S._loading[a] || (null == S._loading && (S._loading = {}),
                                S._loading[a] = !0,
                            a === N && (D = 0),
                                S._loadData(a, t, function(t) {
                                    if (!S._getField(e)) {
                                        t && W.setState(a, !0);
                                        var n = "";
                                        e === T ? n = S._generateLocalMID() : a === N && (n = {
                                            error_msg: "timeout"
                                        }),
                                            S._setFields(a, n)
                                    }
                                }, r)),
                                S._registerCallback(e, n),
                            o || (t || S._setFields(a, {
                                id: F
                            }),
                                "")
                    } else
                        o || (e === T ? (S._registerCallback(e, n),
                            o = S._generateLocalMID(),
                            S.setMarketingCloudVisitorID(o)) : e === w ? (S._registerCallback(e, n),
                            o = "",
                            S.setAnalyticsVisitorID(o)) : (o = "",
                            i = !0))
                }
                return e !== T && e !== w || o !== F || (o = "",
                    i = !0),
                n && i && S._callCallback(n, [o]),
                e === T && G.subscribed && (G.callbacks && G.callbacks.length && G.callbacks.forEach(function(e) {
                    S._callCallback(e, [o])
                }),
                    G.subscribed = !1,
                    G.callbacks.length = 0),
                    o
            }
            ,
            S._setMarketingCloudFields = function(e) {
                S._readVisitor(),
                    S._setFields(E, e)
            }
            ,
            S._mapCustomerIDs = function(e) {
                S.getAudienceManagerBlob(e, !0)
            }
            ,
            S._setAnalyticsFields = function(e) {
                S._readVisitor(),
                    S._setFields(R, e)
            }
            ,
            S._setAudienceManagerFields = function(e) {
                S._readVisitor(),
                    S._setFields(N, e)
            }
            ,
            S._getAudienceManagerURLData = function(e) {
                var t = S.audienceManagerServer
                    , n = ""
                    , i = S._getField(T)
                    , r = S._getField(x, !0)
                    , a = S._getField(w)
                    , o = a && a !== F ? "&d_cid_ic=AVID%01" + encodeURIComponent(a) : "";
                if (S.loadSSL && S.audienceManagerServerSecure && (t = S.audienceManagerServerSecure),
                    t) {
                    var s, c, u, l = S.getCustomerIDs(!0);
                    if (l)
                        for (c in l) {
                            var d = l[c];
                            if (!U.isObjectEmpty(d)) {
                                var f = "nameSpaces" === c ? "&d_cid_ns=" : "&d_cid_ic=";
                                for (s in d)
                                    j(s) && (u = d[s],
                                        o += f + encodeURIComponent(s) + "%01" + encodeURIComponent(u.id ? u.id : "") + (u.authState ? "%01" + u.authState : ""))
                            }
                        }
                    e || (e = "_setAudienceManagerFields");
                    var p = "http" + (S.loadSSL ? "s" : "") + "://" + t + "/id"
                        , g = "d_visid_ver=" + S.version + (v && -1 !== p.indexOf("demdex.net") ? "&gdpr=1&gdpr_consent=" + v : "") + (D && -1 !== p.indexOf("demdex.net") ? "&d_cf=" + D : "") + "&d_rtbd=json&d_ver=2" + (!i && S._use1stPartyMarketingCloudServer ? "&d_verify=1" : "") + "&d_orgid=" + encodeURIComponent(S.marketingCloudOrgID) + "&d_nsid=" + (S.idSyncContainerID || 0) + (i ? "&d_mid=" + encodeURIComponent(i) : "") + (S.idSyncDisable3rdPartySyncing || S.disableThirdPartyCookies ? "&d_coppa=true" : "") + (!0 === k ? "&d_coop_safe=1" : !1 === k ? "&d_coop_unsafe=1" : "") + (r ? "&d_blob=" + encodeURIComponent(r) : "") + o
                        , m = ["s_c_il", S._in, e];
                    return n = p + "?" + g + "&d_cb=s_c_il%5B" + S._in + "%5D." + e,
                        {
                            url: n,
                            corsUrl: p + "?" + g,
                            callback: m
                        }
                }
                return {
                    url: n
                }
            }
            ,
            S.appendVisitorIDsTo = function(e) {
                try {
                    var t = [[T, S._getField(T)], [w, S._getField(w)], ["MCORGID", S.marketingCloudOrgID]];
                    return S._addQuerystringParam(e, oe.ADOBE_MC, c(t))
                } catch (t) {
                    return e
                }
            }
            ,
            S.appendSupplementalDataIDTo = function(e, t) {
                if (!(t = t || S.getSupplementalDataID(q.generateRandomString(), !0)))
                    return e;
                try {
                    var n = c([["SDID", t], ["MCORGID", S.marketingCloudOrgID]]);
                    return S._addQuerystringParam(e, oe.ADOBE_MC_SDID, n)
                } catch (t) {
                    return e
                }
            }
        ;
        var q = {
            parseHash: function(e) {
                var t = e.indexOf("#");
                return t > 0 ? e.substr(t) : ""
            },
            hashlessUrl: function(e) {
                var t = e.indexOf("#");
                return t > 0 ? e.substr(0, t) : e
            },
            addQueryParamAtLocation: function(e, t, n) {
                var i = e.split("&");
                return n = null != n ? n : i.length,
                    i.splice(n, 0, t),
                    i.join("&")
            },
            isFirstPartyAnalyticsVisitorIDCall: function(e, t, n) {
                if (e !== w)
                    return !1;
                var i;
                return t || (t = S.trackingServer),
                n || (n = S.trackingServerSecure),
                !("string" != typeof (i = S.loadSSL ? n : t) || !i.length) && (i.indexOf("2o7.net") < 0 && i.indexOf("omtrdc.net") < 0)
            },
            isObject: function(e) {
                return Boolean(e && e === Object(e))
            },
            removeCookie: function(e) {
                Z.remove(e, {
                    domain: S.cookieDomain
                })
            },
            isTrackingServerPopulated: function() {
                return !!S.trackingServer || !!S.trackingServerSecure
            },
            getTimestampInSeconds: function() {
                return Math.round((new Date).getTime() / 1e3)
            },
            parsePipeDelimetedKeyValues: function(e) {
                return e.split("|").reduce(function(e, t) {
                    var n = t.split("=");
                    return e[n[0]] = decodeURIComponent(n[1]),
                        e
                }, {})
            },
            generateRandomString: function(e) {
                e = e || 5;
                for (var t = "", n = "abcdefghijklmnopqrstuvwxyz0123456789"; e--; )
                    t += n[Math.floor(Math.random() * n.length)];
                return t
            },
            normalizeBoolean: function(e) {
                return "true" === e || "false" !== e && e
            },
            parseBoolean: function(e) {
                return "true" === e || "false" !== e && null
            },
            replaceMethodsWithFunction: function(e, t) {
                for (var n in e)
                    e.hasOwnProperty(n) && "function" == typeof e[n] && (e[n] = t);
                return e
            }
        };
        S._helpers = q;
        var X = se(S, O);
        S._destinationPublishing = X,
            S.timeoutMetricsLog = [];
        var W = {
            isClientSideMarketingCloudVisitorID: null,
            MCIDCallTimedOut: null,
            AnalyticsIDCallTimedOut: null,
            AAMIDCallTimedOut: null,
            fieldGroupObj: {},
            setState: function(e, t) {
                switch (e) {
                    case E:
                        !1 === t ? !0 !== this.MCIDCallTimedOut && (this.MCIDCallTimedOut = !1) : this.MCIDCallTimedOut = t;
                        break;
                    case R:
                        !1 === t ? !0 !== this.AnalyticsIDCallTimedOut && (this.AnalyticsIDCallTimedOut = !1) : this.AnalyticsIDCallTimedOut = t;
                        break;
                    case N:
                        !1 === t ? !0 !== this.AAMIDCallTimedOut && (this.AAMIDCallTimedOut = !1) : this.AAMIDCallTimedOut = t
                }
            }
        };
        S.isClientSideMarketingCloudVisitorID = function() {
            return W.isClientSideMarketingCloudVisitorID
        }
            ,
            S.MCIDCallTimedOut = function() {
                return W.MCIDCallTimedOut
            }
            ,
            S.AnalyticsIDCallTimedOut = function() {
                return W.AnalyticsIDCallTimedOut
            }
            ,
            S.AAMIDCallTimedOut = function() {
                return W.AAMIDCallTimedOut
            }
            ,
            S.idSyncGetOnPageSyncInfo = function() {
                return S._readVisitor(),
                    S._getField("MCSYNCSOP")
            }
            ,
            S.idSyncByURL = function(e) {
                if (!S.isOptedOut()) {
                    var t = u(e || {});
                    if (t.error)
                        return t.error;
                    var n, i, r = e.url, a = encodeURIComponent, o = X;
                    return r = r.replace(/^https:/, "").replace(/^http:/, ""),
                        n = U.encodeAndBuildRequest(["", e.dpid, e.dpuuid || ""], ","),
                        i = ["ibs", a(e.dpid), "img", a(r), t.ttl, "", n],
                        o.addMessage(i.join("|")),
                        o.requestToProcess(),
                        "Successfully queued"
                }
            }
            ,
            S.idSyncByDataSource = function(e) {
                if (!S.isOptedOut())
                    return e === Object(e) && "string" == typeof e.dpuuid && e.dpuuid.length ? (e.url = "//dpm.demdex.net/ibs:dpid=" + e.dpid + "&dpuuid=" + e.dpuuid,
                        S.idSyncByURL(e)) : "Error: config or config.dpuuid is empty"
            }
            ,
            Ye(S, X),
            S._getCookieVersion = function(e) {
                e = e || S.cookieRead(S.cookieName);
                var t = oe.VERSION_REGEX.exec(e);
                return t && t.length > 1 ? t[1] : null
            }
            ,
            S._resetAmcvCookie = function(e) {
                var t = S._getCookieVersion();
                t && !te.isLessThan(t, e) || S.removeCookie(S.cookieName)
            }
            ,
            S.setAsCoopSafe = function() {
                k = !0
            }
            ,
            S.setAsCoopUnsafe = function() {
                k = !1
            }
            ,
            function() {
                if (S.configs = Object.create(null),
                    q.isObject(n))
                    for (var e in n)
                        j(e) && (S[e] = n[e],
                            S.configs[e] = n[e])
            }(),
            f();
        var K;
        S.init = function() {
            l() && (I.optIn.fetchPermissions(h, !0),
                !I.optIn.isApproved(I.optIn.Categories.ECID)) || K || (K = !0,
                function() {
                    if (q.isObject(n)) {
                        S.idSyncContainerID = S.idSyncContainerID || 0,
                            k = "boolean" == typeof S.isCoopSafe ? S.isCoopSafe : q.parseBoolean(S.isCoopSafe),
                        S.resetBeforeVersion && S._resetAmcvCookie(S.resetBeforeVersion),
                            S._attemptToPopulateIdsFromUrl(),
                            S._attemptToPopulateSdidFromUrl(),
                            S._readVisitor();
                        var e = S._getField(P)
                            , t = Math.ceil((new Date).getTime() / oe.MILLIS_PER_DAY);
                        S.idSyncDisableSyncs || S.disableIdSyncs || !X.canMakeSyncIDCall(e, t) || (S._setFieldExpire(x, -1),
                            S._setField(P, t)),
                            S.getMarketingCloudVisitorID(),
                            S.getAudienceManagerLocationHint(),
                            S.getAudienceManagerBlob(),
                            S._mergeServerState(S.serverState)
                    } else
                        S._attemptToPopulateIdsFromUrl(),
                            S._attemptToPopulateSdidFromUrl()
                }(),
                function() {
                    if (!S.idSyncDisableSyncs && !S.disableIdSyncs) {
                        X.checkDPIframeSrc();
                        var e = function() {
                            var e = X;
                            e.readyToAttachIframe() && e.attachIframe()
                        };
                        A.addEventListener("load", function() {
                            O.windowLoaded = !0,
                                e()
                        });
                        try {
                            ie.receiveMessage(function(e) {
                                X.receiveMessage(e.data)
                            }, X.iframeHost)
                        } catch (e) {}
                    }
                }(),
                function() {
                    S.whitelistIframeDomains && oe.POST_MESSAGE_ENABLED && (S.whitelistIframeDomains = S.whitelistIframeDomains instanceof Array ? S.whitelistIframeDomains : [S.whitelistIframeDomains],
                        S.whitelistIframeDomains.forEach(function(e) {
                            var n = new Y(t,e)
                                , i = Q(S, n);
                            ie.receiveMessage(i, e)
                        }))
                }())
        }
    };
    Je.config = ue,
        C.Visitor = Je;
    var ze = Je
        , Qe = function(e) {
        if (U.isObject(e))
            return Object.keys(e).filter(function(t) {
                return "" !== e[t] && ue.getConfigs()[t]
            }).reduce(function(t, n) {
                var i = ue.normalizeConfig(n, e[n])
                    , r = U.normalizeBoolean(i);
                return t[n] = r,
                    t
            }, Object.create(null))
    }
        , $e = Ge.OptIn
        , Ze = Ge.IabPlugin;
    return ze.getInstance = function(e, t) {
        if (!e)
            throw new Error("Visitor requires Adobe Marketing Cloud Org ID.");
        e.indexOf("@") < 0 && (e += "@AdobeOrg");
        var n = function() {
            var t = C.s_c_il;
            if (t)
                for (var n = 0; n < t.length; n++) {
                    var i = t[n];
                    if (i && "Visitor" === i._c && i.marketingCloudOrgID === e)
                        return i
                }
        }();
        if (n)
            return n;
        var i = Qe(t) || {};
        !function(e) {
            C.adobe.optIn = C.adobe.optIn || function() {
                var t = U.pluck(e, ["doesOptInApply", "previousPermissions", "preOptInApprovals", "isOptInStorageEnabled", "optInStorageExpiry", "isIabContext"])
                    , n = e.optInCookieDomain || e.cookieDomain;
                n = n || ee(),
                    n = n === window.location.hostname ? "" : n,
                    t.optInCookieDomain = n;
                var i = new $e(t,{
                    cookies: Z
                });
                if (t.isIabContext && t.doesOptInApply) {
                    var r = new Ze;
                    i.registerPlugin(r)
                }
                return i
            }()
        }(i || {});
        var r = e
            , a = r.split("").reverse().join("")
            , o = new ze(e,null,a);
        i.cookieDomain && (o.cookieDomain = i.cookieDomain),
        i.sameSiteCookie && i.secureCookie && (o.configs = {
            sameSiteCookie: i.sameSiteCookie,
            secureCookie: i.secureCookie
        }),
            function() {
                C.s_c_il.splice(--C.s_c_in, 1)
            }();
        var s = U.getIeVersion();
        if ("number" == typeof s && s < 10)
            return o._helpers.replaceMethodsWithFunction(o, function() {});
        var c = function() {
            try {
                return C.self !== C.parent
            } catch (e) {
                return !0
            }
        }() && !function(e) {
            return e.cookieWrite("TEST_AMCV_COOKIE", "T", 1),
            "T" === e.cookieRead("TEST_AMCV_COOKIE") && (e.removeCookie("TEST_AMCV_COOKIE"),
                !0)
        }(o) && C.parent ? new X(e,i,o,C.parent) : new ze(e,i,a);
        return o = null,
            c.init(),
            c
    }
        ,
        function() {
            function e() {
                ze.windowLoaded = !0
            }
            C.addEventListener ? C.addEventListener("load", e) : C.attachEvent && C.attachEvent("onload", e),
                ze.codeLoadEnd = (new Date).getTime()
        }(),
        ze
}();
try {
    (function(id, loader) {
        window.utag.tagsettings = window.utag.tagsettings || {};
        window.utag.tagsettings.adobe = window.utag.tagsettings.adobe || {};
        var vAPI = window.utag.tagsettings.adobe.visitorAPI = window.utag.tagsettings.adobe.visitorAPI || (function() {
            function logger(msg) {
                utag.DB("[" + id + "] : " + msg);
            }
            function Observer(orgId, config) {
                var observers = []
                    , visitor = {}
                    , demdex = null
                    , instance = null
                    , regex = new RegExp("AMCV_" + window.encodeURIComponent(orgId) + "=(.*?)(;|$)")
                    , active = false
                    , util = {
                    "hasOwn": function(o, a) {
                        return o !== null && Object.prototype.hasOwnProperty.call(o, a);
                    }
                }
                    , mTags = (function() {
                    var tags = [], tag, cfg = utag.loader.cfg, loadcond = {
                        1: 1,
                        4: 1
                    };
                    for (tag in cfg) {
                        if (!util.hasOwn(cfg, tag)) {
                            continue;
                        }
                        if (cfg[tag].tid === 1191 && loadcond[cfg[tag].load]) {
                            tags.push(tag);
                        }
                    }
                    return tags;
                }());
                function mTagsLoaded() {
                    var loaded = true, id;
                    for (var i = 0, len = mTags.length; i < len; i++) {
                        id = mTags[i];
                        if (!utag.loader.f[id]) {
                            loaded = false;
                            break;
                        }
                    }
                    return loaded;
                }
                function notify(result) {
                    instance = result;
                    if (instance && instance.setCustomerIDs) {
                        var aliases, alias;
                        for (aliases in visitor) {
                            if (util.hasOwn(visitor, aliases)) {
                                alias = visitor[aliases];
                                if (alias.authState && typeof Visitor.AuthState != "undefined" && typeof Visitor.AuthState[alias.authState] != "undefined") {
                                    alias.authState = Visitor.AuthState[alias.authState];
                                }
                            }
                        }
                        instance.setCustomerIDs(visitor);
                    }
                    while (observers.length !== 0) {
                        var nextCallback = observers.shift();
                        nextCallback(instance);
                    }
                    return true;
                }
                this.sync = function(ids) {
                    var alias;
                    for (alias in ids) {
                        if (util.hasOwn(ids, alias)) {
                            if (!visitor[alias]) {
                                visitor[alias] = ids[alias];
                            }
                        }
                    }
                    return true;
                }
                ;
                this.subscribe = function(callback) {
                    var self = this;
                    if (instance !== null) {
                        return callback(instance);
                    } else {
                        observers.push(callback);
                        if (!active) {
                            logger("demdex org id [" + orgId + "] sync requested");
                            (function retry(retries) {
                                if (retries === 0) {
                                    logger("demdex org id [" + orgId + "] sync timed out!");
                                    active = false;
                                    return notify(undefined);
                                } else {
                                    active = true;
                                    if (regex.test(document.cookie) && /\|mcmid\|/i.test(window.decodeURIComponent(RegExp.$1)) && mTagsLoaded()) {
                                        logger('demdex org id [' + orgId + '] sync completed');
                                        return config ? notify(window.Visitor.getInstance(orgId, config)) : notify(window.Visitor.getInstance(orgId));
                                    } else {
                                        if (window.Visitor && window.Visitor.getInstance) {
                                            if (config && !demdex) {
                                                demdex = window.Visitor.getInstance(orgId, config);
                                            }
                                        }
                                        window.setTimeout(function() {
                                            logger("demdex org id [" + orgId + "] sync, waiting...");
                                            retry(--retries);
                                        }, 25);
                                    }
                                }
                            }(80));
                        }
                    }
                    return true;
                }
                ;
            }
            function VisitorAPIWrapper() {
                var observers = {};
                this._version = "1.0";
                this.getInstance = function(orgId, callback, config, customerIds) {
                    if (!orgId) {
                        return callback(undefined);
                    }
                    orgId = !/@AdobeOrg$/.test(orgId) ? orgId + "@AdobeOrg" : orgId;
                    if (!observers[orgId]) {
                        if (!config) {
                            logger("demdex org id [" + orgId + "] sync error. marketing cloud tag missing demdex config");
                            return callback(undefined);
                        }
                        observers[orgId] = new Observer(orgId,config);
                    }
                    if (customerIds) {
                        observers[orgId].sync(customerIds);
                    }
                    observers[orgId].subscribe(callback);
                    return true;
                }
                ;
            }
            return new VisitorAPIWrapper();
        }());
        var u = {
            "id": id
        };
        utag.o[loader].sender[id] = u;
        if (utag.ut === undefined) {
            utag.ut = {};
        }
        var match = /ut\d\.(\d*)\..*/.exec(utag.cfg.v);
        if (utag.ut.loader === undefined || !match || parseInt(match[1]) < 41) {
            u.loader = function(o, a, b, c, l, m) {
                utag.DB(o);
                a = document;
                if (o.type == "iframe") {
                    m = a.getElementById(o.id);
                    if (m && m.tagName == "IFRAME") {
                        b = m;
                    } else {
                        b = a.createElement("iframe");
                    }
                    o.attrs = o.attrs || {};
                    utag.ut.merge(o.attrs, {
                        "height": "1",
                        "width": "1",
                        "style": "display:none"
                    }, 0);
                } else if (o.type == "img") {
                    utag.DB("Attach img: " + o.src);
                    b = new Image();
                } else {
                    b = a.createElement("script");
                    b.language = "javascript";
                    b.type = "text/javascript";
                    b.async = 1;
                    b.charset = "utf-8";
                }
                if (o.id) {
                    b.id = o.id;
                }
                for (l in utag.loader.GV(o.attrs)) {
                    b.setAttribute(l, o.attrs[l]);
                }
                b.setAttribute("src", o.src);
                if (typeof o.cb == "function") {
                    if (b.addEventListener) {
                        b.addEventListener("load", function() {
                            o.cb();
                        }, false);
                    } else {
                        b.onreadystatechange = function() {
                            if (this.readyState == "complete" || this.readyState == "loaded") {
                                this.onreadystatechange = null;
                                o.cb();
                            }
                        }
                        ;
                    }
                }
                if (o.type != "img" && !m) {
                    l = o.loc || "head";
                    c = a.getElementsByTagName(l)[0];
                    if (c) {
                        utag.DB("Attach to " + l + ": " + o.src);
                        if (l == "script") {
                            c.parentNode.insertBefore(b, c);
                        } else {
                            c.appendChild(b);
                        }
                    }
                }
            }
            ;
        } else {
            u.loader = utag.ut.loader;
        }
        if (utag.ut.typeOf === undefined) {
            u.typeOf = function(e) {
                return ({}).toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase();
            }
            ;
        } else {
            u.typeOf = utag.ut.typeOf;
        }
        u.hasOwn = function(o, a) {
            return o != null && Object.prototype.hasOwnProperty.call(o, a);
        }
        ;
        u.isEmptyObject = function(o, a) {
            for (a in o) {
                if (u.hasOwn(o, a))
                    return false;
            }
            return true;
        }
        ;
        u.ev = {
            "view": 1
        };
        u.initialized = false;
        u.map_func = function(arr, obj, item) {
            var i = arr.shift();
            obj[i] = obj[i] || {};
            if (arr.length > 0) {
                u.map_func(arr, obj[i], item);
            } else {
                obj[i] = item;
            }
        }
        ;
        u.clearEmptyKeys = function(object) {
            for (var key in object) {
                if (object[key] === "" || object[key] === undefined) {
                    delete object[key];
                }
            }
            return object;
        }
        ;
        u.map = {
            "adobe_wfgcdds_id": "customer_ids.wfgcdds.id,customer_ids.sidca.id",
            "adobe_wfgcdds_authState": "customer_ids.wfgcdds.authState,customer_ids.sidca.authState",
            "adobe_hashcrnxd_id": "customer_ids.hashcrnxd.id,customer_ids.wxidca.id",
            "adobe_hashcrnxd_authState": "customer_ids.hashcrnxd.authState,customer_ids.wxidca.authState"
        };
        u.extend = [function(a, b) {
            try {
                if (b['js_page.location.hostname'].toString().toLowerCase() == 'www.woolworths.com.au'.toLowerCase() || b['js_page.location.hostname'].toString().toLowerCase() == 'admin.woolworths.com.au'.toLowerCase()) {
                    var authState = !window.wowBootstrap.ShopperRequest.IsGuest ? 1 : 0
                    var ShopperID = b["user.ProfileID"] || b["qp.sid"] || "";
                    var HashedCRN = b["user.ProfileCRNHash"] || b["qp.crn"] || "";
                    if (ShopperID && ShopperID != "0") {
                        b["adobe_wfgcdds_id"] = ShopperID;
                        b["adobe_wfgcdds_authState"] = authState;
                    }
                    if (HashedCRN && HashedCRN != "0") {
                        b["adobe_hashcrnxd_id"] = HashedCRN;
                        b["adobe_hashcrnxd_authState"] = authState;
                    }
                }
            } catch (e) {
                utag.DB(e)
            }
        }
        ];
        u.send = function(a, b) {
            if (u.ev[a] || u.ev.all !== undefined) {
                utag.DB("send:3");
                utag.DB(b);
                var c, d, e, f;
                u.data = {
                    "adobe_org_id": "4353388057AC8D357F000101",
                    "config": {
                        "trackingServer": "woolworthsfoodgroup.sc.omtrdc.net",
                        "trackingServerSecure": "woolworthsfoodgroup.sc.omtrdc.net",
                        "marketingCloudServer": "",
                        "marketingCloudServerSecure": "",
                        "cookieDomain": (function() {
                            return utag.loader.RC('utag_main').vapi_domain || (function() {
                                var i = 0
                                    , d = document.domain
                                    , p = d.split(".")
                                    , s = "_vapi" + new Date().getTime();
                                while (i < (p.length - 1) && document.cookie.indexOf(s + "=" + s) === -1) {
                                    d = p.slice(-1 - (++i)).join(".");
                                    document.cookie = s + "=" + s + ";domain=" + d + ";";
                                }
                                document.cookie = s + "=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain=" + d + ";";
                                utag.loader.SC("utag_main", {
                                    "vapi_domain": d
                                });
                                return d;
                            }());
                        }())
                    },
                    "customer_ids": {}
                };
                for (c = 0; c < u.extend.length; c++) {
                    try {
                        d = u.extend[c](a, b);
                        if (d == false)
                            return
                    } catch (e) {
                        if (typeof utag_err != 'undefined') {
                            utag_err.push({
                                e: 'extension error:' + e,
                                s: utag.cfg.path + 'utag.' + id + '.js',
                                l: c,
                                t: 'ex'
                            })
                        }
                    }
                }
                ;utag.DB("send:3:EXTENSIONS");
                utag.DB(b);
                c = [];
                for (d in utag.loader.GV(u.map)) {
                    if (b[d] !== undefined && b[d] !== "") {
                        e = u.map[d].split(",");
                        for (f = 0; f < e.length; f++) {
                            u.map_func(e[f].split("."), u.data, b[d]);
                        }
                    }
                }
                utag.DB("send:3:MAPPINGS");
                utag.DB(u.data);
                if (!u.data.adobe_org_id) {
                    utag.DB(u.id + ": Tag not fired: Required attribute not populated [adobe_org_id]");
                    return;
                }
                if (!u.initialized) {
                    u.initialized = !0;
                    vAPI.getInstance(u.data.adobe_org_id, function(instance) {}, u.clearEmptyKeys(u.data.config), u.data.customer_ids);
                }
                utag.DB("send:3:COMPLETE");
            }
        }
        ;
        utag.o[loader].loader.LOAD(id);
    }("3", "woolworths.supermarkets"));
} catch (error) {
    utag.DB(error);
}

//tealium universal tag - utag.93 ut4.0.202302140104, Copyright 2023 Tealium.com Inc. All Rights Reserved.
try {
    (function(id, loader) {
            function at(config) {
                window.adobe = window.adobe || {},
                    window.adobe.target = function() {
                        "use strict";
                        var t = window
                            , e = document
                            , n = !e.documentMode || e.documentMode >= 11;
                        var r, o, i, c = e.compatMode && "CSS1Compat" === e.compatMode && n && (r = window.navigator.userAgent,
                            o = r.indexOf("MSIE ") > 0,
                            i = r.indexOf("Trident/") > 0,
                            !(o || i)), s = t.targetGlobalSettings;
                        if (!c || s && !1 === s.enabled)
                            return t.adobe = t.adobe || {},
                                t.adobe.target = {
                                    VERSION: "",
                                    event: {},
                                    getOffer: Ke,
                                    getOffers: yt,
                                    applyOffer: Ke,
                                    applyOffers: yt,
                                    sendNotifications: yt,
                                    trackEvent: Ke,
                                    triggerView: Ke,
                                    registerExtension: Ke,
                                    init: Ke
                                },
                                t.mboxCreate = Ke,
                                t.mboxDefine = Ke,
                                t.mboxUpdate = Ke,
                            "console"in t && "warn"in t.console && (c || t.console.warn("AT: Adobe Target content delivery is disabled. Update your DOCTYPE to support Standards mode."),
                                t.console.warn("AT: Adobe Target content delivery is disabled in targetGlobalSettings.")),
                                t.adobe.target;
                        var u = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {};
                        function a(t) {
                            if (t.__esModule)
                                return t;
                            var e = Object.defineProperty({}, "__esModule", {
                                value: !0
                            });
                            return Object.keys(t).forEach((function(n) {
                                    var r = Object.getOwnPropertyDescriptor(t, n);
                                    Object.defineProperty(e, n, r.get ? r : {
                                        enumerable: !0,
                                        get: function() {
                                            return t[n]
                                        }
                                    })
                                }
                            )),
                                e
                        }
                        var f = Object.getOwnPropertySymbols
                            , l = Object.prototype.hasOwnProperty
                            , d = Object.prototype.propertyIsEnumerable;
                        function p(t) {
                            if (null == t)
                                throw new TypeError("Object.assign cannot be called with null or undefined");
                            return Object(t)
                        }
                        var h = function() {
                                try {
                                    if (!Object.assign)
                                        return !1;
                                    var t = new String("abc");
                                    if (t[5] = "de",
                                    "5" === Object.getOwnPropertyNames(t)[0])
                                        return !1;
                                    for (var e = {}, n = 0; n < 10; n++)
                                        e["_" + String.fromCharCode(n)] = n;
                                    if ("0123456789" !== Object.getOwnPropertyNames(e).map((function(t) {
                                            return e[t]
                                        }
                                    )).join(""))
                                        return !1;
                                    var r = {};
                                    return "abcdefghijklmnopqrst".split("").forEach((function(t) {
                                            r[t] = t
                                        }
                                    )),
                                    "abcdefghijklmnopqrst" === Object.keys(Object.assign({}, r)).join("")
                                } catch (t) {
                                    return !1
                                }
                            }() ? Object.assign : function(t, e) {
                                for (var n, r, o = p(t), i = 1; i < arguments.length; i++) {
                                    for (var c in n = Object(arguments[i]))
                                        l.call(n, c) && (o[c] = n[c]);
                                    if (f) {
                                        r = f(n);
                                        for (var s = 0; s < r.length; s++)
                                            d.call(n, r[s]) && (o[r[s]] = n[r[s]])
                                    }
                                }
                                return o
                            }
                        ;
                        function m(t) {
                            return null == t
                        }
                        const {isArray: g} = Array
                            , {prototype: v} = Object
                            , {toString: y} = v;
                        function b(t) {
                            return function(t) {
                                return y.call(t)
                            }(t)
                        }
                        function x(t) {
                            const e = typeof t;
                            return null != t && ("object" === e || "function" === e)
                        }
                        function w(t) {
                            return !!x(t) && "[object Function]" === b(t)
                        }
                        function S(t) {
                            return t
                        }
                        function E(t) {
                            return w(t) ? t : S
                        }
                        function T(t) {
                            return m(t) ? [] : Object.keys(t)
                        }
                        const C = (t,e)=>e.forEach(t)
                            , k = (t,e)=>{
                                C(n=>t(e[n], n), T(e))
                            }
                            , I = (t,e)=>e.filter(t)
                            , N = (t,e)=>{
                                const n = {};
                                return k((e,r)=>{
                                        t(e, r) && (n[r] = e)
                                    }
                                    , e),
                                    n
                            }
                        ;
                        function O(t, e) {
                            if (m(e))
                                return [];
                            return (g(e) ? I : N)(E(t), e)
                        }
                        function _(t) {
                            return m(t) ? [] : [].concat.apply([], t)
                        }
                        function A(t) {
                            var e = this;
                            const n = t ? t.length : 0;
                            let r = n;
                            for (; r -= 1; )
                                if (!w(t[r]))
                                    throw new TypeError("Expected a function");
                            return function() {
                                let r = 0;
                                for (var o = arguments.length, i = new Array(o), c = 0; c < o; c++)
                                    i[c] = arguments[c];
                                let s = n ? t[r].apply(e, i) : i[0];
                                for (; (r += 1) < n; )
                                    s = t[r].call(e, s);
                                return s
                            }
                        }
                        function q(t, e) {
                            if (m(e))
                                return;
                            (g(e) ? C : k)(E(t), e)
                        }
                        function M(t) {
                            return null != t && "object" == typeof t
                        }
                        function P(t) {
                            return "string" == typeof t || !g(t) && M(t) && "[object String]" === b(t)
                        }
                        function D(t) {
                            if (!P(t))
                                return -1;
                            let e = 0;
                            const {length: n} = t;
                            for (let r = 0; r < n; r += 1)
                                e = (e << 5) - e + t.charCodeAt(r) & 4294967295;
                            return e
                        }
                        function R(t) {
                            return null != t && function(t) {
                                return "number" == typeof t && t > -1 && t % 1 == 0 && t <= 9007199254740991
                            }(t.length) && !w(t)
                        }
                        const L = (t,e)=>e.map(t);
                        function j(t) {
                            return m(t) ? [] : R(t) ? P(t) ? t.split("") : function(t) {
                                let e = 0;
                                const {length: n} = t
                                    , r = Array(n);
                                for (; e < n; )
                                    r[e] = t[e],
                                        e += 1;
                                return r
                            }(t) : (e = T(t),
                                n = t,
                                L(t=>n[t], e));
                            var e, n
                        }
                        const {prototype: V} = Object
                            , {hasOwnProperty: H} = V;
                        function U(t) {
                            if (null == t)
                                return !0;
                            if (R(t) && (g(t) || P(t) || w(t.splice)))
                                return !t.length;
                            for (const e in t)
                                if (H.call(t, e))
                                    return !1;
                            return !0
                        }
                        const {prototype: B} = String
                            , {trim: F} = B;
                        function z(t) {
                            return m(t) ? "" : F.call(t)
                        }
                        function $(t) {
                            return P(t) ? !z(t) : U(t)
                        }
                        const J = t=>!$(t);
                        function Z(t) {
                            return "number" == typeof t || M(t) && "[object Number]" === b(t)
                        }
                        const {prototype: G} = Function
                            , {prototype: K} = Object
                            , {toString: W} = G
                            , {hasOwnProperty: X} = K
                            , Y = W.call(Object);
                        function Q(t) {
                            if (!M(t) || "[object Object]" !== b(t))
                                return !1;
                            const e = function(t) {
                                return Object.getPrototypeOf(Object(t))
                            }(t);
                            if (null === e)
                                return !0;
                            const n = X.call(e, "constructor") && e.constructor;
                            return "function" == typeof n && n instanceof n && W.call(n) === Y
                        }
                        function tt(t, e) {
                            return g(e) ? e.join(t || "") : ""
                        }
                        const et = (t,e)=>{
                                const n = {};
                                return k((e,r)=>{
                                        n[r] = t(e, r)
                                    }
                                    , e),
                                    n
                            }
                        ;
                        function nt(t, e) {
                            if (m(e))
                                return [];
                            return (g(e) ? L : et)(E(t), e)
                        }
                        function rt() {
                            return (new Date).getTime()
                        }
                        const ot = (t,e,n)=>n.reduce(t, e)
                            , it = (t,e,n)=>{
                                let r = e;
                                return k((e,n)=>{
                                        r = t(r, e, n)
                                    }
                                    , n),
                                    r
                            }
                        ;
                        function ct(t, e, n) {
                            if (m(n))
                                return e;
                            return (g(n) ? ot : it)(E(t), e, n)
                        }
                        const {prototype: st} = Array
                            , {reverse: ut} = st;
                        function at(t, e) {
                            return $(e) ? [] : e.split(t || "")
                        }
                        function ft(t) {
                            let e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
                            return setTimeout(t, Number(e) || 0)
                        }
                        function lt(t) {
                            clearTimeout(t)
                        }
                        const dt = "server-side"
                            , pt = "edge"
                            , ht = "local";
                        function mt(t) {
                            return void 0 === t
                        }
                        function gt(t) {
                            return !mt(t)
                        }
                        const vt = ()=>{}
                            , yt = t=>Promise.resolve(t);
                        function bt(t) {
                            return !!t.execute && !!t.execute.pageLoad
                        }
                        function xt(t) {
                            return !!t.execute && !!t.execute.mboxes && t.execute.mboxes.length || 0
                        }
                        function wt(t) {
                            return !!t.prefetch && !!t.prefetch.pageLoad
                        }
                        function St(t) {
                            return !!t.prefetch && !!t.prefetch.mboxes && t.prefetch.mboxes.length || 0
                        }
                        function Et(t) {
                            return !!t.prefetch && !!t.prefetch.views && t.prefetch.views.length || 0
                        }
                        function Tt(t) {
                            let e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 2;
                            if (t && Z(t))
                                return +t.toFixed(e)
                        }
                        function Ct() {
                            let t = [];
                            return {
                                addEntry: function(e) {
                                    t.push(e)
                                },
                                getAndClearEntries: function() {
                                    const e = t;
                                    return t = [],
                                        e
                                },
                                hasEntries: function() {
                                    return t.length > 0
                                }
                            }
                        }
                        var kt = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {};
                        var It = function(t, e) {
                            return t(e = {
                                exports: {}
                            }, e.exports),
                                e.exports
                        }((function(t) {
                                (function() {
                                        var e, n, r, o, i, c;
                                        "undefined" != typeof performance && null !== performance && performance.now ? t.exports = function() {
                                                return performance.now()
                                            }
                                            : "undefined" != typeof process && null !== process && process.hrtime ? (t.exports = function() {
                                                return (e() - i) / 1e6
                                            }
                                                ,
                                                n = process.hrtime,
                                                o = (e = function() {
                                                        var t;
                                                        return 1e9 * (t = n())[0] + t[1]
                                                    }
                                                )(),
                                                c = 1e9 * process.uptime(),
                                                i = o - c) : Date.now ? (t.exports = function() {
                                                return Date.now() - r
                                            }
                                                ,
                                                r = Date.now()) : (t.exports = function() {
                                                return (new Date).getTime() - r
                                            }
                                                ,
                                                r = (new Date).getTime())
                                    }
                                ).call(kt)
                            }
                        ));
                        const Nt = function() {
                            let t = {}
                                , e = {}
                                , n = {};
                            function r(e) {
                                const n = (gt(t[e]) ? t[e] : 0) + 1;
                                return t[e] = n,
                                "" + e + n
                            }
                            return {
                                timeStart: function(t) {
                                    let n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                                    const o = n ? r(t) : t;
                                    return mt(e[o]) && (e[o] = It()),
                                        o
                                },
                                timeEnd: function(t) {
                                    let r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
                                    if (mt(e[t]))
                                        return -1;
                                    const o = It() - e[t] - r;
                                    return n[t] = o,
                                        o
                                },
                                getTimings: ()=>n,
                                getTiming: t=>n[t],
                                clearTiming: function(r) {
                                    delete t[r],
                                        delete e[r],
                                        delete n[r]
                                },
                                reset: function() {
                                    t = {},
                                        e = {},
                                        n = {}
                                }
                            }
                        }();
                        var Ot = function(t, e) {
                            if (t) {
                                e = e || {};
                                for (var n = {
                                    key: ["source", "protocol", "authority", "userInfo", "user", "password", "host", "port", "relative", "path", "directory", "file", "query", "anchor"],
                                    q: {
                                        name: "queryKey",
                                        parser: /(?:^|&)([^&=]*)=?([^&]*)/g
                                    },
                                    parser: {
                                        strict: /^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,
                                        loose: /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/
                                    }
                                }, r = n.parser[e.strictMode ? "strict" : "loose"].exec(t), o = {}, i = 14; i--; )
                                    o[n.key[i]] = r[i] || "";
                                return o[n.q.name] = {},
                                    o[n.key[12]].replace(n.q.parser, (function(t, e, r) {
                                            e && (o[n.q.name][e] = r)
                                        }
                                    )),
                                    o
                            }
                        };
                        const _t = new Uint8Array(256)
                            , At = function() {
                            const t = window.crypto || window.msCrypto;
                            return !m(t) && t.getRandomValues && w(t.getRandomValues) && t.getRandomValues.bind(t)
                        }();
                        function qt() {
                            return At(_t)
                        }
                        const Mt = function() {
                            const t = [];
                            for (let e = 0; e < 256; e += 1)
                                t.push((e + 256).toString(16).substr(1));
                            return t
                        }();
                        function Pt(t) {
                            const e = t();
                            return e[6] = 15 & e[6] | 64,
                                e[8] = 63 & e[8] | 128,
                                function(t) {
                                    const e = [];
                                    for (let n = 0; n < 16; n += 1)
                                        e.push(Mt[t[n]]);
                                    return tt("", e).toLowerCase()
                                }(e)
                        }
                        function Dt() {
                            return Pt(qt)
                        }
                        const Rt = "type"
                            , Lt = "content"
                            , jt = "selector"
                            , Vt = "src"
                            , Ht = 'Adobe Target content delivery is disabled. Ensure that you can save cookies to your current domain, there is no "mboxDisable" cookie and there is no "mboxDisable" parameter in query string.'
                            , Ut = "options argument is required"
                            , Bt = "Action has no content"
                            , Ft = "No actions to be rendered"
                            , zt = "error"
                            , $t = "valid"
                            , Jt = "success"
                            , Zt = "___target_traces"
                            , Gt = "display";
                        var Kt = document
                            , Wt = window;
                        const Xt = /^(?!0)(?!.*\.$)((1?\d?\d|25[0-5]|2[0-4]\d)(\.|$)){4}$/
                            , Yt = /^(com|edu|gov|net|mil|org|nom|co|name|info|biz)$/i;
                        let Qt = {};
                        const te = ["enabled", "clientCode", "imsOrgId", "serverDomain", "cookieDomain", "timeout", "mboxParams", "globalMboxParams", "defaultContentHiddenStyle", "defaultContentVisibleStyle", "deviceIdLifetime", "bodyHiddenStyle", "bodyHidingEnabled", "selectorsPollingTimeout", "visitorApiTimeout", "overrideMboxEdgeServer", "overrideMboxEdgeServerTimeout", "optoutEnabled", "optinEnabled", "secureOnly", "supplementalDataIdParamTimeout", "authoringScriptUrl", "urlSizeLimit", "endpoint", "pageLoadEnabled", "viewsEnabled", "analyticsLogging", "serverState", "decisioningMethod", "pollingInterval", "artifactLocation", "artifactFormat", "artifactPayload", "environment", "cdnEnvironment", "telemetryEnabled", "cdnBasePath", "cspScriptNonce", "cspStyleNonce", "globalMboxName", "allowHighEntropyClientHints"];
                        function ee(t) {
                            if (function(t) {
                                return Xt.test(t)
                            }(t))
                                return t;
                            const e = null == (n = at(".", t)) ? n : ut.call(n);
                            var n;
                            const r = e.length;
                            return r >= 3 && Yt.test(e[1]) ? e[2] + "." + e[1] + "." + e[0] : 1 === r ? e[0] : e[1] + "." + e[0]
                        }
                        function ne(t, e, n) {
                            let r = "";
                            "file:" === t.location.protocol || (r = ee(t.location.hostname)),
                                n.cookieDomain = r,
                                n.enabled = function(t) {
                                    const {compatMode: e} = t;
                                    return e && "CSS1Compat" === e
                                }(e) && function(t) {
                                    const {documentMode: e} = t;
                                    return !e || e >= 10
                                }(e),
                                function(t, e) {
                                    t.enabled && (m(e.globalMboxAutoCreate) || (t.pageLoadEnabled = e.globalMboxAutoCreate),
                                        q(n=>{
                                                m(e[n]) || (t[n] = e[n])
                                            }
                                            , te))
                                }(n, t.targetGlobalSettings || {})
                        }
                        function re(t) {
                            ne(Wt, Kt, t);
                            const e = "file:" === Wt.location.protocol;
                            Qt = h({}, t),
                                Qt.deviceIdLifetime = t.deviceIdLifetime / 1e3,
                                Qt.sessionIdLifetime = t.sessionIdLifetime / 1e3,
                                Qt.scheme = Qt.secureOnly || e ? "https:" : ""
                        }
                        function oe() {
                            return Qt
                        }
                        var ie = {
                            exports: {}
                        };
                        ie.exports = function() {
                            function t() {
                                for (var t = 0, e = {}; t < arguments.length; t++) {
                                    var n = arguments[t];
                                    for (var r in n)
                                        e[r] = n[r]
                                }
                                return e
                            }
                            function e(t) {
                                return t.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent)
                            }
                            return function n(r) {
                                function o() {}
                                function i(e, n, i) {
                                    if ("undefined" != typeof document) {
                                        "number" == typeof (i = t({
                                            path: "/"
                                        }, o.defaults, i)).expires && (i.expires = new Date(1 * new Date + 864e5 * i.expires)),
                                            i.expires = i.expires ? i.expires.toUTCString() : "";
                                        try {
                                            var c = JSON.stringify(n);
                                            /^[\{\[]/.test(c) && (n = c)
                                        } catch (t) {}
                                        n = r.write ? r.write(n, e) : encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent),
                                            e = encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent).replace(/[\(\)]/g, escape);
                                        var s = "";
                                        for (var u in i)
                                            i[u] && (s += "; " + u,
                                            !0 !== i[u] && (s += "=" + i[u].split(";")[0]));
                                        return document.cookie = e + "=" + n + s
                                    }
                                }
                                function c(t, n) {
                                    if ("undefined" != typeof document) {
                                        for (var o = {}, i = document.cookie ? document.cookie.split("; ") : [], c = 0; c < i.length; c++) {
                                            var s = i[c].split("=")
                                                , u = s.slice(1).join("=");
                                            n || '"' !== u.charAt(0) || (u = u.slice(1, -1));
                                            try {
                                                var a = e(s[0]);
                                                if (u = (r.read || r)(u, a) || e(u),
                                                    n)
                                                    try {
                                                        u = JSON.parse(u)
                                                    } catch (t) {}
                                                if (o[a] = u,
                                                t === a)
                                                    break
                                            } catch (t) {}
                                        }
                                        return t ? o[t] : o
                                    }
                                }
                                return o.set = i,
                                    o.get = function(t) {
                                        return c(t, !1)
                                    }
                                    ,
                                    o.getJSON = function(t) {
                                        return c(t, !0)
                                    }
                                    ,
                                    o.remove = function(e, n) {
                                        i(e, "", t(n, {
                                            expires: -1
                                        }))
                                    }
                                    ,
                                    o.defaults = {},
                                    o.withConverter = n,
                                    o
                            }((function() {}
                            ))
                        }();
                        var ce = ie.exports
                            , se = {
                            get: ce.get,
                            set: ce.set,
                            remove: ce.remove
                        }
                            , ue = {};
                        function ae(t, e) {
                            return Object.prototype.hasOwnProperty.call(t, e)
                        }
                        var fe = function(t) {
                            switch (typeof t) {
                                case "string":
                                    return t;
                                case "boolean":
                                    return t ? "true" : "false";
                                case "number":
                                    return isFinite(t) ? t : "";
                                default:
                                    return ""
                            }
                        };
                        ue.decode = ue.parse = function(t, e, n, r) {
                            e = e || "&",
                                n = n || "=";
                            var o = {};
                            if ("string" != typeof t || 0 === t.length)
                                return o;
                            var i = /\+/g;
                            t = t.split(e);
                            var c = 1e3;
                            r && "number" == typeof r.maxKeys && (c = r.maxKeys);
                            var s = t.length;
                            c > 0 && s > c && (s = c);
                            for (var u = 0; u < s; ++u) {
                                var a, f, l, d, p = t[u].replace(i, "%20"), h = p.indexOf(n);
                                h >= 0 ? (a = p.substr(0, h),
                                    f = p.substr(h + 1)) : (a = p,
                                    f = ""),
                                    l = decodeURIComponent(a),
                                    d = decodeURIComponent(f),
                                    ae(o, l) ? Array.isArray(o[l]) ? o[l].push(d) : o[l] = [o[l], d] : o[l] = d
                            }
                            return o
                        }
                            ,
                            ue.encode = ue.stringify = function(t, e, n, r) {
                                return e = e || "&",
                                    n = n || "=",
                                null === t && (t = void 0),
                                    "object" == typeof t ? Object.keys(t).map((function(r) {
                                            var o = encodeURIComponent(fe(r)) + n;
                                            return Array.isArray(t[r]) ? t[r].map((function(t) {
                                                    return o + encodeURIComponent(fe(t))
                                                }
                                            )).join(e) : o + encodeURIComponent(fe(t[r]))
                                        }
                                    )).join(e) : r ? encodeURIComponent(fe(r)) + n + encodeURIComponent(fe(t)) : ""
                            }
                        ;
                        var le = ue
                            , de = {
                            parse: function(t) {
                                return "string" == typeof t && (t = t.trim().replace(/^[?#&]/, "")),
                                    le.parse(t)
                            },
                            stringify: function(t) {
                                return le.stringify(t)
                            }
                        };
                        const {parse: pe, stringify: he} = de
                            , me = Kt.createElement("a")
                            , ge = {};
                        function ve(t) {
                            try {
                                return pe(t)
                            } catch (t) {
                                return {}
                            }
                        }
                        function ye(t) {
                            try {
                                return he(t)
                            } catch (t) {
                                return ""
                            }
                        }
                        function be(t) {
                            try {
                                return decodeURIComponent(t)
                            } catch (e) {
                                return t
                            }
                        }
                        function xe(t) {
                            try {
                                return encodeURIComponent(t)
                            } catch (e) {
                                return t
                            }
                        }
                        function we(t) {
                            if (ge[t])
                                return ge[t];
                            me.href = t;
                            const e = Ot(me.href);
                            return e.queryKey = ve(e.query),
                                ge[t] = e,
                                ge[t]
                        }
                        const {get: Se, set: Ee, remove: Te} = se;
                        function Ce(t, e, n) {
                            return {
                                name: t,
                                value: e,
                                expires: n
                            }
                        }
                        function ke(t) {
                            const e = at("#", t);
                            return U(e) || e.length < 3 || isNaN(parseInt(e[2], 10)) ? null : Ce(be(e[0]), be(e[1]), Number(e[2]))
                        }
                        function Ie() {
                            const t = nt(ke, $(e = Se("mbox")) ? [] : at("|", e));
                            var e;
                            const n = Math.ceil(rt() / 1e3);
                            return ct((t,e)=>(t[e.name] = e,
                                t), {}, O(t=>x(t) && n <= t.expires, t))
                        }
                        function Ne(t) {
                            const e = Ie()[t];
                            return x(e) ? e.value : ""
                        }
                        function Oe(t) {
                            return tt("#", [xe(t.name), xe(t.value), t.expires])
                        }
                        function _e(t) {
                            return t.expires
                        }
                        function Ae(t, e, n) {
                            const r = j(t)
                                , o = Math.abs(1e3 * function(t) {
                                const e = nt(_e, t);
                                return Math.max.apply(null, e)
                            }(r) - rt())
                                , i = tt("|", nt(Oe, r))
                                , c = new Date(rt() + o)
                                , s = h({
                                domain: e,
                                expires: c,
                                secure: n
                            }, n ? {
                                sameSite: "None"
                            } : {});
                            Ee("mbox", i, s)
                        }
                        function qe(t) {
                            const {name: e, value: n, expires: r, domain: o, secure: i} = t
                                , c = Ie();
                            c[e] = Ce(e, n, Math.ceil(r + rt() / 1e3)),
                                Ae(c, o, i)
                        }
                        function Me(t, e, n) {
                            return function(t) {
                                return J(Se(t))
                            }(n) || function(t, e) {
                                const {location: n} = t
                                    , {search: r} = n
                                    , o = ve(r);
                                return J(o[e])
                            }(t, n) || function(t, e) {
                                const {referrer: n} = t
                                    , r = we(n).queryKey;
                                return !m(r) && J(r[e])
                            }(e, n)
                        }
                        function Pe() {
                            return oe().enabled && function() {
                                const t = oe()
                                    , e = t.cookieDomain
                                    , n = t.secureOnly
                                    , r = h({
                                    domain: e,
                                    secure: n
                                }, n ? {
                                    sameSite: "None"
                                } : {});
                                Ee("at_check", "true", r);
                                const o = "true" === Se("at_check");
                                return Te("at_check"),
                                    o
                            }() && !Me(Wt, Kt, "mboxDisable")
                        }
                        function De() {
                            return Me(Wt, Kt, "mboxDebug")
                        }
                        function Re() {
                            return Me(Wt, Kt, "mboxEdit")
                        }
                        const Le = "AT:";
                        function je(t, e) {
                            const {console: n} = t;
                            return !m(n) && w(n[e])
                        }
                        function Ve(t, e) {
                            const {console: n} = t;
                            je(t, "warn") && n.warn.apply(n, [Le].concat(e))
                        }
                        function He(t, e) {
                            const {console: n} = t;
                            je(t, "debug") && De() && n.debug.apply(n, [Le].concat(e))
                        }
                        function Ue() {
                            for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++)
                                e[n] = arguments[n];
                            Ve(Wt, e)
                        }
                        function Be() {
                            for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++)
                                e[n] = arguments[n];
                            He(Wt, e)
                        }
                        function Fe(t, e, n) {
                            const r = t[Zt] || [];
                            if (t[Zt] = r,
                                !n)
                                return;
                            const o = r.push;
                            r.version = "1",
                                r.settings = function(t) {
                                    return ct((e,n)=>(e[n] = t[n],
                                        e), {}, te)
                                }(e),
                                r.clientTraces = [],
                                r.serverTraces = [],
                                r.push = function(t) {
                                    r.serverTraces.push(h({
                                        timestamp: rt()
                                    }, t)),
                                        o.call(this, t)
                                }
                        }
                        function ze(t, e, n, r) {
                            "serverTraces" === e && t[Zt].push(n),
                            r && "serverTraces" !== e && t[Zt][e].push(h({
                                timestamp: rt()
                            }, n))
                        }
                        function $e(t) {
                            ze(Wt, "serverTraces", t, De())
                        }
                        function Je(t) {
                            ze(Wt, "clientTraces", t, De())
                        }
                        var Ze = setTimeout;
                        function Ge(t) {
                            return Boolean(t && void 0 !== t.length)
                        }
                        function Ke() {}
                        function We(t) {
                            if (!(this instanceof We))
                                throw new TypeError("Promises must be constructed via new");
                            if ("function" != typeof t)
                                throw new TypeError("not a function");
                            this._state = 0,
                                this._handled = !1,
                                this._value = void 0,
                                this._deferreds = [],
                                nn(t, this)
                        }
                        function Xe(t, e) {
                            for (; 3 === t._state; )
                                t = t._value;
                            0 !== t._state ? (t._handled = !0,
                                We._immediateFn((function() {
                                        var n = 1 === t._state ? e.onFulfilled : e.onRejected;
                                        if (null !== n) {
                                            var r;
                                            try {
                                                r = n(t._value)
                                            } catch (t) {
                                                return void Qe(e.promise, t)
                                            }
                                            Ye(e.promise, r)
                                        } else
                                            (1 === t._state ? Ye : Qe)(e.promise, t._value)
                                    }
                                ))) : t._deferreds.push(e)
                        }
                        function Ye(t, e) {
                            try {
                                if (e === t)
                                    throw new TypeError("A promise cannot be resolved with itself.");
                                if (e && ("object" == typeof e || "function" == typeof e)) {
                                    var n = e.then;
                                    if (e instanceof We)
                                        return t._state = 3,
                                            t._value = e,
                                            void tn(t);
                                    if ("function" == typeof n)
                                        return void nn((r = n,
                                                o = e,
                                                function() {
                                                    r.apply(o, arguments)
                                                }
                                        ), t)
                                }
                                t._state = 1,
                                    t._value = e,
                                    tn(t)
                            } catch (e) {
                                Qe(t, e)
                            }
                            var r, o
                        }
                        function Qe(t, e) {
                            t._state = 2,
                                t._value = e,
                                tn(t)
                        }
                        function tn(t) {
                            2 === t._state && 0 === t._deferreds.length && We._immediateFn((function() {
                                    t._handled || We._unhandledRejectionFn(t._value)
                                }
                            ));
                            for (var e = 0, n = t._deferreds.length; e < n; e++)
                                Xe(t, t._deferreds[e]);
                            t._deferreds = null
                        }
                        function en(t, e, n) {
                            this.onFulfilled = "function" == typeof t ? t : null,
                                this.onRejected = "function" == typeof e ? e : null,
                                this.promise = n
                        }
                        function nn(t, e) {
                            var n = !1;
                            try {
                                t((function(t) {
                                        n || (n = !0,
                                            Ye(e, t))
                                    }
                                ), (function(t) {
                                        n || (n = !0,
                                            Qe(e, t))
                                    }
                                ))
                            } catch (t) {
                                if (n)
                                    return;
                                n = !0,
                                    Qe(e, t)
                            }
                        }
                        We.prototype['catch'] = function(t) {
                            return this.then(null, t)
                        }
                            ,
                            We.prototype.then = function(t, e) {
                                var n = new this.constructor(Ke);
                                return Xe(this, new en(t,e,n)),
                                    n
                            }
                            ,
                            We.prototype.finally = function(t) {
                                var e = this.constructor;
                                return this.then((function(n) {
                                        return e.resolve(t()).then((function() {
                                                return n
                                            }
                                        ))
                                    }
                                ), (function(n) {
                                        return e.resolve(t()).then((function() {
                                                return e.reject(n)
                                            }
                                        ))
                                    }
                                ))
                            }
                            ,
                            We.all = function(t) {
                                return new We((function(e, n) {
                                        if (!Ge(t))
                                            return n(new TypeError("Promise.all accepts an array"));
                                        var r = Array.prototype.slice.call(t);
                                        if (0 === r.length)
                                            return e([]);
                                        var o = r.length;
                                        function i(t, c) {
                                            try {
                                                if (c && ("object" == typeof c || "function" == typeof c)) {
                                                    var s = c.then;
                                                    if ("function" == typeof s)
                                                        return void s.call(c, (function(e) {
                                                                i(t, e)
                                                            }
                                                        ), n)
                                                }
                                                r[t] = c,
                                                0 == --o && e(r)
                                            } catch (t) {
                                                n(t)
                                            }
                                        }
                                        for (var c = 0; c < r.length; c++)
                                            i(c, r[c])
                                    }
                                ))
                            }
                            ,
                            We.resolve = function(t) {
                                return t && "object" == typeof t && t.constructor === We ? t : new We((function(e) {
                                        e(t)
                                    }
                                ))
                            }
                            ,
                            We.reject = function(t) {
                                return new We((function(e, n) {
                                        n(t)
                                    }
                                ))
                            }
                            ,
                            We.race = function(t) {
                                return new We((function(e, n) {
                                        if (!Ge(t))
                                            return n(new TypeError("Promise.race accepts an array"));
                                        for (var r = 0, o = t.length; r < o; r++)
                                            We.resolve(t[r]).then(e, n)
                                    }
                                ))
                            }
                            ,
                            We._immediateFn = "function" == typeof setImmediate && function(t) {
                                    setImmediate(t)
                                }
                                || function(t) {
                                    Ze(t, 0)
                                }
                            ,
                            We._unhandledRejectionFn = function(t) {
                                "undefined" != typeof console && console && console.warn("Possible Unhandled Promise Rejection:", t)
                            }
                        ;
                        var rn = a(Object.freeze({
                            __proto__: null,
                            default: We
                        }))
                            , on = "undefined" != typeof window && window.Promise || void 0 !== u && u.Promise || rn.default || rn
                            , cn = function(t) {
                            var e = function() {
                                var e, n, r, o, i, c = [], s = c.concat, u = c.filter, a = c.slice, f = t.document, l = {}, d = {}, p = {
                                        "column-count": 1,
                                        columns: 1,
                                        "font-weight": 1,
                                        "line-height": 1,
                                        opacity: 1,
                                        "z-index": 1,
                                        zoom: 1
                                    }, h = /^\s*<(\w+|!)[^>]*>/, m = /^<(\w+)\s*\/?>(?:<\/\1>|)$/, g = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi, v = /^(?:body|html)$/i, y = /([A-Z])/g, b = ["val", "css", "html", "text", "data", "width", "height", "offset"], x = f.createElement("table"), w = f.createElement("tr"), S = {
                                        tr: f.createElement("tbody"),
                                        tbody: x,
                                        thead: x,
                                        tfoot: x,
                                        td: w,
                                        th: w,
                                        "*": f.createElement("div")
                                    }, E = /complete|loaded|interactive/, T = /^[\w-]*$/, C = {}, k = C.toString, I = {}, N = f.createElement("div"), O = {
                                        tabindex: "tabIndex",
                                        readonly: "readOnly",
                                        'for': "htmlFor",
                                        'class': "className",
                                        maxlength: "maxLength",
                                        cellspacing: "cellSpacing",
                                        cellpadding: "cellPadding",
                                        rowspan: "rowSpan",
                                        colspan: "colSpan",
                                        usemap: "useMap",
                                        frameborder: "frameBorder",
                                        contenteditable: "contentEditable"
                                    }, _ = Array.isArray || function(t) {
                                        return t instanceof Array
                                    }
                                ;
                                function A(t) {
                                    return null == t ? String(t) : C[k.call(t)] || "object"
                                }
                                function q(t) {
                                    return "function" == A(t)
                                }
                                function M(t) {
                                    return null != t && t == t.window
                                }
                                function P(t) {
                                    return null != t && t.nodeType == t.DOCUMENT_NODE
                                }
                                function D(t) {
                                    return "object" == A(t)
                                }
                                function R(t) {
                                    return D(t) && !M(t) && Object.getPrototypeOf(t) == Object.prototype
                                }
                                function L(t) {
                                    var e = !!t && "length"in t && t.length
                                        , r = n.type(t);
                                    return "function" != r && !M(t) && ("array" == r || 0 === e || "number" == typeof e && e > 0 && e - 1 in t)
                                }
                                function j(t) {
                                    return t.replace(/::/g, "/").replace(/([A-Z]+)([A-Z][a-z])/g, "$1_$2").replace(/([a-z\d])([A-Z])/g, "$1_$2").replace(/_/g, "-").toLowerCase()
                                }
                                function V(t) {
                                    return t in d ? d[t] : d[t] = new RegExp("(^|\\s)" + t + "(\\s|$)")
                                }
                                function H(t, e) {
                                    return "number" != typeof e || p[j(t)] ? e : e + "px"
                                }
                                function U(t) {
                                    return "children"in t ? a.call(t.children) : n.map(t.childNodes, (function(t) {
                                            if (1 == t.nodeType)
                                                return t
                                        }
                                    ))
                                }
                                function B(t, e) {
                                    var n, r = t ? t.length : 0;
                                    for (n = 0; n < r; n++)
                                        this[n] = t[n];
                                    this.length = r,
                                        this.selector = e || ""
                                }
                                function F(t, n, r) {
                                    for (e in n)
                                        r && (R(n[e]) || _(n[e])) ? (R(n[e]) && !R(t[e]) && (t[e] = {}),
                                        _(n[e]) && !_(t[e]) && (t[e] = []),
                                            F(t[e], n[e], r)) : void 0 !== n[e] && (t[e] = n[e])
                                }
                                function z(t, e) {
                                    return null == e ? n(t) : n(t).filter(e)
                                }
                                function $(t, e, n, r) {
                                    return q(e) ? e.call(t, n, r) : e
                                }
                                function Z(t, e, n) {
                                    null == n ? t.removeAttribute(e) : t.setAttribute(e, n)
                                }
                                function G(t, e) {
                                    var n = t.className || ""
                                        , r = n && void 0 !== n.baseVal;
                                    if (void 0 === e)
                                        return r ? n.baseVal : n;
                                    r ? n.baseVal = e : t.className = e
                                }
                                function K(t) {
                                    try {
                                        return t ? "true" == t || "false" != t && ("null" == t ? null : +t + "" == t ? +t : /^[\[\{]/.test(t) ? n.parseJSON(t) : t) : t
                                    } catch (e) {
                                        return t
                                    }
                                }
                                function W(t, e) {
                                    e(t);
                                    for (var n = 0, r = t.childNodes.length; n < r; n++)
                                        W(t.childNodes[n], e)
                                }
                                function X(t, e, n) {
                                    const r = t.getElementsByTagName("script")[0];
                                    if (!r)
                                        return;
                                    const o = r.parentNode;
                                    if (!o)
                                        return;
                                    const i = t.createElement("script");
                                    i.innerHTML = e,
                                    J(n) && i.setAttribute("nonce", n),
                                        o.appendChild(i),
                                        o.removeChild(i)
                                }
                                return I.matches = function(t, e) {
                                    if (!e || !t || 1 !== t.nodeType)
                                        return !1;
                                    var n = t.matches || t.webkitMatchesSelector || t.mozMatchesSelector || t.oMatchesSelector || t.matchesSelector;
                                    if (n)
                                        return n.call(t, e);
                                    var r, o = t.parentNode, i = !o;
                                    return i && (o = N).appendChild(t),
                                        r = ~I.qsa(o, e).indexOf(t),
                                    i && N.removeChild(t),
                                        r
                                }
                                    ,
                                    o = function(t) {
                                        return t.replace(/-+(.)?/g, (function(t, e) {
                                                return e ? e.toUpperCase() : ""
                                            }
                                        ))
                                    }
                                    ,
                                    i = function(t) {
                                        return u.call(t, (function(e, n) {
                                                return t.indexOf(e) == n
                                            }
                                        ))
                                    }
                                    ,
                                    I.fragment = function(t, e, r) {
                                        var o, i, c;
                                        return m.test(t) && (o = n(f.createElement(RegExp.$1))),
                                        o || (t.replace && (t = t.replace(g, "<$1></$2>")),
                                        void 0 === e && (e = h.test(t) && RegExp.$1),
                                        e in S || (e = "*"),
                                            (c = S[e]).innerHTML = "" + t,
                                            o = n.each(a.call(c.childNodes), (function() {
                                                    c.removeChild(this)
                                                }
                                            ))),
                                        R(r) && (i = n(o),
                                            n.each(r, (function(t, e) {
                                                    b.indexOf(t) > -1 ? i[t](e) : i.attr(t, e)
                                                }
                                            ))),
                                            o
                                    }
                                    ,
                                    I.Z = function(t, e) {
                                        return new B(t,e)
                                    }
                                    ,
                                    I.isZ = function(t) {
                                        return t instanceof I.Z
                                    }
                                    ,
                                    I.init = function(t, e) {
                                        var r, o;
                                        if (!t)
                                            return I.Z();
                                        if ("string" == typeof t)
                                            if ("<" == (t = t.trim())[0] && h.test(t))
                                                r = I.fragment(t, RegExp.$1, e),
                                                    t = null;
                                            else {
                                                if (void 0 !== e)
                                                    return n(e).find(t);
                                                r = I.qsa(f, t)
                                            }
                                        else {
                                            if (q(t))
                                                return n(f).ready(t);
                                            if (I.isZ(t))
                                                return t;
                                            if (_(t))
                                                o = t,
                                                    r = u.call(o, (function(t) {
                                                            return null != t
                                                        }
                                                    ));
                                            else if (D(t))
                                                r = [t],
                                                    t = null;
                                            else if (h.test(t))
                                                r = I.fragment(t.trim(), RegExp.$1, e),
                                                    t = null;
                                            else {
                                                if (void 0 !== e)
                                                    return n(e).find(t);
                                                r = I.qsa(f, t)
                                            }
                                        }
                                        return I.Z(r, t)
                                    }
                                    ,
                                    (n = function(t, e) {
                                            return I.init(t, e)
                                        }
                                    ).extend = function(t) {
                                        var e, n = a.call(arguments, 1);
                                        return "boolean" == typeof t && (e = t,
                                            t = n.shift()),
                                            n.forEach((function(n) {
                                                    F(t, n, e)
                                                }
                                            )),
                                            t
                                    }
                                    ,
                                    I.qsa = function(t, e) {
                                        var n, r = "#" == e[0], o = !r && "." == e[0], i = r || o ? e.slice(1) : e, c = T.test(i);
                                        return t.getElementById && c && r ? (n = t.getElementById(i)) ? [n] : [] : 1 !== t.nodeType && 9 !== t.nodeType && 11 !== t.nodeType ? [] : a.call(c && !r && t.getElementsByClassName ? o ? t.getElementsByClassName(i) : t.getElementsByTagName(e) : t.querySelectorAll(e))
                                    }
                                    ,
                                    n.contains = f.documentElement.contains ? function(t, e) {
                                            return t !== e && t.contains(e)
                                        }
                                        : function(t, e) {
                                            for (; e && (e = e.parentNode); )
                                                if (e === t)
                                                    return !0;
                                            return !1
                                        }
                                    ,
                                    n.type = A,
                                    n.isFunction = q,
                                    n.isWindow = M,
                                    n.isArray = _,
                                    n.isPlainObject = R,
                                    n.isEmptyObject = function(t) {
                                        var e;
                                        for (e in t)
                                            return !1;
                                        return !0
                                    }
                                    ,
                                    n.isNumeric = function(t) {
                                        var e = Number(t)
                                            , n = typeof t;
                                        return null != t && "boolean" != n && ("string" != n || t.length) && !isNaN(e) && isFinite(e) || !1
                                    }
                                    ,
                                    n.inArray = function(t, e, n) {
                                        return c.indexOf.call(e, t, n)
                                    }
                                    ,
                                    n.camelCase = o,
                                    n.trim = function(t) {
                                        return null == t ? "" : String.prototype.trim.call(t)
                                    }
                                    ,
                                    n.uuid = 0,
                                    n.support = {},
                                    n.expr = {},
                                    n.noop = function() {}
                                    ,
                                    n.map = function(t, e) {
                                        var r, o, i, c, s = [];
                                        if (L(t))
                                            for (o = 0; o < t.length; o++)
                                                null != (r = e(t[o], o)) && s.push(r);
                                        else
                                            for (i in t)
                                                null != (r = e(t[i], i)) && s.push(r);
                                        return (c = s).length > 0 ? n.fn.concat.apply([], c) : c
                                    }
                                    ,
                                    n.each = function(t, e) {
                                        var n, r;
                                        if (L(t)) {
                                            for (n = 0; n < t.length; n++)
                                                if (!1 === e.call(t[n], n, t[n]))
                                                    return t
                                        } else
                                            for (r in t)
                                                if (!1 === e.call(t[r], r, t[r]))
                                                    return t;
                                        return t
                                    }
                                    ,
                                    n.grep = function(t, e) {
                                        return u.call(t, e)
                                    }
                                    ,
                                t.JSON && (n.parseJSON = JSON.parse),
                                    n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), (function(t, e) {
                                            C["[object " + e + "]"] = e.toLowerCase()
                                        }
                                    )),
                                    n.fn = {
                                        constructor: I.Z,
                                        length: 0,
                                        forEach: c.forEach,
                                        reduce: c.reduce,
                                        push: c.push,
                                        sort: c.sort,
                                        splice: c.splice,
                                        indexOf: c.indexOf,
                                        concat: function() {
                                            var t, e, n = [];
                                            for (t = 0; t < arguments.length; t++)
                                                e = arguments[t],
                                                    n[t] = I.isZ(e) ? e.toArray() : e;
                                            return s.apply(I.isZ(this) ? this.toArray() : this, n)
                                        },
                                        map: function(t) {
                                            return n(n.map(this, (function(e, n) {
                                                    return t.call(e, n, e)
                                                }
                                            )))
                                        },
                                        slice: function() {
                                            return n(a.apply(this, arguments))
                                        },
                                        ready: function(t) {
                                            return E.test(f.readyState) && f.body ? t(n) : f.addEventListener("DOMContentLoaded", (function() {
                                                    t(n)
                                                }
                                            ), !1),
                                                this
                                        },
                                        get: function(t) {
                                            return void 0 === t ? a.call(this) : this[t >= 0 ? t : t + this.length]
                                        },
                                        toArray: function() {
                                            return this.get()
                                        },
                                        size: function() {
                                            return this.length
                                        },
                                        remove: function() {
                                            return this.each((function() {
                                                    null != this.parentNode && this.parentNode.removeChild(this)
                                                }
                                            ))
                                        },
                                        each: function(t) {
                                            for (var e, n = this.length, r = 0; r < n && (e = this[r],
                                            !1 !== t.call(e, r, e)); )
                                                r++;
                                            return this
                                        },
                                        filter: function(t) {
                                            return q(t) ? this.not(this.not(t)) : n(u.call(this, (function(e) {
                                                    return I.matches(e, t)
                                                }
                                            )))
                                        },
                                        add: function(t, e) {
                                            return n(i(this.concat(n(t, e))))
                                        },
                                        is: function(t) {
                                            return this.length > 0 && I.matches(this[0], t)
                                        },
                                        not: function(t) {
                                            var e = [];
                                            if (q(t) && void 0 !== t.call)
                                                this.each((function(n) {
                                                        t.call(this, n) || e.push(this)
                                                    }
                                                ));
                                            else {
                                                var r = "string" == typeof t ? this.filter(t) : L(t) && q(t.item) ? a.call(t) : n(t);
                                                this.forEach((function(t) {
                                                        r.indexOf(t) < 0 && e.push(t)
                                                    }
                                                ))
                                            }
                                            return n(e)
                                        },
                                        has: function(t) {
                                            return this.filter((function() {
                                                    return D(t) ? n.contains(this, t) : n(this).find(t).size()
                                                }
                                            ))
                                        },
                                        eq: function(t) {
                                            return -1 === t ? this.slice(t) : this.slice(t, +t + 1)
                                        },
                                        first: function() {
                                            var t = this[0];
                                            return t && !D(t) ? t : n(t)
                                        },
                                        last: function() {
                                            var t = this[this.length - 1];
                                            return t && !D(t) ? t : n(t)
                                        },
                                        find: function(t) {
                                            var e = this;
                                            return t ? "object" == typeof t ? n(t).filter((function() {
                                                    var t = this;
                                                    return c.some.call(e, (function(e) {
                                                            return n.contains(e, t)
                                                        }
                                                    ))
                                                }
                                            )) : 1 == this.length ? n(I.qsa(this[0], t)) : this.map((function() {
                                                    return I.qsa(this, t)
                                                }
                                            )) : n()
                                        },
                                        closest: function(t, e) {
                                            var r = []
                                                , o = "object" == typeof t && n(t);
                                            return this.each((function(n, i) {
                                                    for (; i && !(o ? o.indexOf(i) >= 0 : I.matches(i, t)); )
                                                        i = i !== e && !P(i) && i.parentNode;
                                                    i && r.indexOf(i) < 0 && r.push(i)
                                                }
                                            )),
                                                n(r)
                                        },
                                        parents: function(t) {
                                            for (var e = [], r = this; r.length > 0; )
                                                r = n.map(r, (function(t) {
                                                        if ((t = t.parentNode) && !P(t) && e.indexOf(t) < 0)
                                                            return e.push(t),
                                                                t
                                                    }
                                                ));
                                            return z(e, t)
                                        },
                                        parent: function(t) {
                                            return z(i(this.pluck("parentNode")), t)
                                        },
                                        children: function(t) {
                                            return z(this.map((function() {
                                                    return U(this)
                                                }
                                            )), t)
                                        },
                                        contents: function() {
                                            return this.map((function() {
                                                    return this.contentDocument || a.call(this.childNodes)
                                                }
                                            ))
                                        },
                                        siblings: function(t) {
                                            return z(this.map((function(t, e) {
                                                    return u.call(U(e.parentNode), (function(t) {
                                                            return t !== e
                                                        }
                                                    ))
                                                }
                                            )), t)
                                        },
                                        empty: function() {
                                            return this.each((function() {
                                                    this.innerHTML = ""
                                                }
                                            ))
                                        },
                                        pluck: function(t) {
                                            return n.map(this, (function(e) {
                                                    return e[t]
                                                }
                                            ))
                                        },
                                        show: function() {
                                            return this.each((function() {
                                                    var t, e, n;
                                                    "none" == this.style.display && (this.style.display = ""),
                                                    "none" == getComputedStyle(this, "").getPropertyValue("display") && (this.style.display = (t = this.nodeName,
                                                    l[t] || (e = f.createElement(t),
                                                        f.body.appendChild(e),
                                                        n = getComputedStyle(e, "").getPropertyValue("display"),
                                                        e.parentNode.removeChild(e),
                                                    "none" == n && (n = "block"),
                                                        l[t] = n),
                                                        l[t]))
                                                }
                                            ))
                                        },
                                        replaceWith: function(t) {
                                            return this.before(t).remove()
                                        },
                                        wrap: function(t) {
                                            var e = q(t);
                                            if (this[0] && !e)
                                                var r = n(t).get(0)
                                                    , o = r.parentNode || this.length > 1;
                                            return this.each((function(i) {
                                                    n(this).wrapAll(e ? t.call(this, i) : o ? r.cloneNode(!0) : r)
                                                }
                                            ))
                                        },
                                        wrapAll: function(t) {
                                            if (this[0]) {
                                                var e;
                                                for (n(this[0]).before(t = n(t)); (e = t.children()).length; )
                                                    t = e.first();
                                                n(t).append(this)
                                            }
                                            return this
                                        },
                                        wrapInner: function(t) {
                                            var e = q(t);
                                            return this.each((function(r) {
                                                    var o = n(this)
                                                        , i = o.contents()
                                                        , c = e ? t.call(this, r) : t;
                                                    i.length ? i.wrapAll(c) : o.append(c)
                                                }
                                            ))
                                        },
                                        unwrap: function() {
                                            return this.parent().each((function() {
                                                    n(this).replaceWith(n(this).children())
                                                }
                                            )),
                                                this
                                        },
                                        clone: function() {
                                            return this.map((function() {
                                                    return this.cloneNode(!0)
                                                }
                                            ))
                                        },
                                        hide: function() {
                                            return this.css("display", "none")
                                        },
                                        toggle: function(t) {
                                            return this.each((function() {
                                                    var e = n(this);
                                                    (void 0 === t ? "none" == e.css("display") : t) ? e.show() : e.hide()
                                                }
                                            ))
                                        },
                                        prev: function(t) {
                                            return n(this.pluck("previousElementSibling")).filter(t || "*")
                                        },
                                        next: function(t) {
                                            return n(this.pluck("nextElementSibling")).filter(t || "*")
                                        },
                                        html: function(t) {
                                            return 0 in arguments ? this.each((function(e) {
                                                    var r = this.innerHTML;
                                                    n(this).empty().append($(this, t, e, r))
                                                }
                                            )) : 0 in this ? this[0].innerHTML : null
                                        },
                                        text: function(t) {
                                            return 0 in arguments ? this.each((function(e) {
                                                    var n = $(this, t, e, this.textContent);
                                                    this.textContent = null == n ? "" : "" + n
                                                }
                                            )) : 0 in this ? this.pluck("textContent").join("") : null
                                        },
                                        attr: function(t, n) {
                                            var r;
                                            return "string" != typeof t || 1 in arguments ? this.each((function(r) {
                                                    if (1 === this.nodeType)
                                                        if (D(t))
                                                            for (e in t)
                                                                Z(this, e, t[e]);
                                                        else
                                                            Z(this, t, $(this, n, r, this.getAttribute(t)))
                                                }
                                            )) : 0 in this && 1 == this[0].nodeType && null != (r = this[0].getAttribute(t)) ? r : void 0
                                        },
                                        removeAttr: function(t) {
                                            return this.each((function() {
                                                    1 === this.nodeType && t.split(" ").forEach((function(t) {
                                                            Z(this, t)
                                                        }
                                                    ), this)
                                                }
                                            ))
                                        },
                                        prop: function(t, e) {
                                            return t = O[t] || t,
                                                1 in arguments ? this.each((function(n) {
                                                        this[t] = $(this, e, n, this[t])
                                                    }
                                                )) : this[0] && this[0][t]
                                        },
                                        removeProp: function(t) {
                                            return t = O[t] || t,
                                                this.each((function() {
                                                        delete this[t]
                                                    }
                                                ))
                                        },
                                        data: function(t, e) {
                                            var n = "data-" + t.replace(y, "-$1").toLowerCase()
                                                , r = 1 in arguments ? this.attr(n, e) : this.attr(n);
                                            return null !== r ? K(r) : void 0
                                        },
                                        val: function(t) {
                                            return 0 in arguments ? (null == t && (t = ""),
                                                this.each((function(e) {
                                                        this.value = $(this, t, e, this.value)
                                                    }
                                                ))) : this[0] && (this[0].multiple ? n(this[0]).find("option").filter((function() {
                                                    return this.selected
                                                }
                                            )).pluck("value") : this[0].value)
                                        },
                                        offset: function(e) {
                                            if (e)
                                                return this.each((function(t) {
                                                        var r = n(this)
                                                            , o = $(this, e, t, r.offset())
                                                            , i = r.offsetParent().offset()
                                                            , c = {
                                                            top: o.top - i.top,
                                                            left: o.left - i.left
                                                        };
                                                        "static" == r.css("position") && (c.position = "relative"),
                                                            r.css(c)
                                                    }
                                                ));
                                            if (!this.length)
                                                return null;
                                            if (f.documentElement !== this[0] && !n.contains(f.documentElement, this[0]))
                                                return {
                                                    top: 0,
                                                    left: 0
                                                };
                                            var r = this[0].getBoundingClientRect();
                                            return {
                                                left: r.left + t.pageXOffset,
                                                top: r.top + t.pageYOffset,
                                                width: Math.round(r.width),
                                                height: Math.round(r.height)
                                            }
                                        },
                                        css: function(t, r) {
                                            if (arguments.length < 2) {
                                                var i = this[0];
                                                if ("string" == typeof t) {
                                                    if (!i)
                                                        return;
                                                    return i.style[o(t)] || getComputedStyle(i, "").getPropertyValue(t)
                                                }
                                                if (_(t)) {
                                                    if (!i)
                                                        return;
                                                    var c = {}
                                                        , s = getComputedStyle(i, "");
                                                    return n.each(t, (function(t, e) {
                                                            c[e] = i.style[o(e)] || s.getPropertyValue(e)
                                                        }
                                                    )),
                                                        c
                                                }
                                            }
                                            var u = "";
                                            if ("string" == A(t))
                                                r || 0 === r ? u = j(t) + ":" + H(t, r) : this.each((function() {
                                                        this.style.removeProperty(j(t))
                                                    }
                                                ));
                                            else
                                                for (e in t)
                                                    t[e] || 0 === t[e] ? u += j(e) + ":" + H(e, t[e]) + ";" : this.each((function() {
                                                            this.style.removeProperty(j(e))
                                                        }
                                                    ));
                                            return this.each((function() {
                                                    this.style.cssText += ";" + u
                                                }
                                            ))
                                        },
                                        index: function(t) {
                                            return t ? this.indexOf(n(t)[0]) : this.parent().children().indexOf(this[0])
                                        },
                                        hasClass: function(t) {
                                            return !!t && c.some.call(this, (function(t) {
                                                    return this.test(G(t))
                                                }
                                            ), V(t))
                                        },
                                        addClass: function(t) {
                                            return t ? this.each((function(e) {
                                                    if ("className"in this) {
                                                        r = [];
                                                        var o = G(this);
                                                        $(this, t, e, o).split(/\s+/g).forEach((function(t) {
                                                                n(this).hasClass(t) || r.push(t)
                                                            }
                                                        ), this),
                                                        r.length && G(this, o + (o ? " " : "") + r.join(" "))
                                                    }
                                                }
                                            )) : this
                                        },
                                        removeClass: function(t) {
                                            return this.each((function(e) {
                                                    if ("className"in this) {
                                                        if (void 0 === t)
                                                            return G(this, "");
                                                        r = G(this),
                                                            $(this, t, e, r).split(/\s+/g).forEach((function(t) {
                                                                    r = r.replace(V(t), " ")
                                                                }
                                                            )),
                                                            G(this, r.trim())
                                                    }
                                                }
                                            ))
                                        },
                                        toggleClass: function(t, e) {
                                            return t ? this.each((function(r) {
                                                    var o = n(this);
                                                    $(this, t, r, G(this)).split(/\s+/g).forEach((function(t) {
                                                            (void 0 === e ? !o.hasClass(t) : e) ? o.addClass(t) : o.removeClass(t)
                                                        }
                                                    ))
                                                }
                                            )) : this
                                        },
                                        scrollTop: function(t) {
                                            if (this.length) {
                                                var e = "scrollTop"in this[0];
                                                return void 0 === t ? e ? this[0].scrollTop : this[0].pageYOffset : this.each(e ? function() {
                                                            this.scrollTop = t
                                                        }
                                                        : function() {
                                                            this.scrollTo(this.scrollX, t)
                                                        }
                                                )
                                            }
                                        },
                                        scrollLeft: function(t) {
                                            if (this.length) {
                                                var e = "scrollLeft"in this[0];
                                                return void 0 === t ? e ? this[0].scrollLeft : this[0].pageXOffset : this.each(e ? function() {
                                                            this.scrollLeft = t
                                                        }
                                                        : function() {
                                                            this.scrollTo(t, this.scrollY)
                                                        }
                                                )
                                            }
                                        },
                                        position: function() {
                                            if (this.length) {
                                                var t = this[0]
                                                    , e = this.offsetParent()
                                                    , r = this.offset()
                                                    , o = v.test(e[0].nodeName) ? {
                                                    top: 0,
                                                    left: 0
                                                } : e.offset();
                                                return r.top -= parseFloat(n(t).css("margin-top")) || 0,
                                                    r.left -= parseFloat(n(t).css("margin-left")) || 0,
                                                    o.top += parseFloat(n(e[0]).css("border-top-width")) || 0,
                                                    o.left += parseFloat(n(e[0]).css("border-left-width")) || 0,
                                                    {
                                                        top: r.top - o.top,
                                                        left: r.left - o.left
                                                    }
                                            }
                                        },
                                        offsetParent: function() {
                                            return this.map((function() {
                                                    for (var t = this.offsetParent || f.body; t && !v.test(t.nodeName) && "static" == n(t).css("position"); )
                                                        t = t.offsetParent;
                                                    return t
                                                }
                                            ))
                                        }
                                    },
                                    n.fn.detach = n.fn.remove,
                                    ["width", "height"].forEach((function(t) {
                                            var e = t.replace(/./, (function(t) {
                                                    return t[0].toUpperCase()
                                                }
                                            ));
                                            n.fn[t] = function(r) {
                                                var o, i = this[0];
                                                return void 0 === r ? M(i) ? i["inner" + e] : P(i) ? i.documentElement["scroll" + e] : (o = this.offset()) && o[t] : this.each((function(e) {
                                                        (i = n(this)).css(t, $(this, r, e, i[t]()))
                                                    }
                                                ))
                                            }
                                        }
                                    )),
                                    ["after", "prepend", "before", "append"].forEach((function(t, e) {
                                            var r = e % 2;
                                            n.fn[t] = function() {
                                                var t, o, i = n.map(arguments, (function(e) {
                                                        var r = [];
                                                        return "array" == (t = A(e)) ? (e.forEach((function(t) {
                                                                return void 0 !== t.nodeType ? r.push(t) : n.zepto.isZ(t) ? r = r.concat(t.get()) : void (r = r.concat(I.fragment(t)))
                                                            }
                                                        )),
                                                            r) : "object" == t || null == e ? e : I.fragment(e)
                                                    }
                                                )), c = this.length > 1;
                                                return i.length < 1 ? this : this.each((function(t, s) {
                                                        o = r ? s : s.parentNode,
                                                            s = 0 == e ? s.nextSibling : 1 == e ? s.firstChild : 2 == e ? s : null;
                                                        const u = n.contains(f.documentElement, o)
                                                            , a = /^(text|application)\/(javascript|ecmascript)$/
                                                            , l = oe()
                                                            , d = l.cspScriptNonce
                                                            , p = l.cspStyleNonce;
                                                        i.forEach((function(t) {
                                                                if (c)
                                                                    t = t.cloneNode(!0);
                                                                else if (!o)
                                                                    return n(t).remove();
                                                                J(d) && "SCRIPT" === t.tagName && t.setAttribute("nonce", d),
                                                                J(p) && "STYLE" === t.tagName && t.setAttribute("nonce", p),
                                                                    o.insertBefore(t, s),
                                                                u && W(t, (function(t) {
                                                                        null == t.nodeName || "SCRIPT" !== t.nodeName.toUpperCase() || t.type && !a.test(t.type.toLowerCase()) || t.src || X(f, t.innerHTML, t.nonce)
                                                                    }
                                                                ))
                                                            }
                                                        ))
                                                    }
                                                ))
                                            }
                                                ,
                                                n.fn[r ? t + "To" : "insert" + (e ? "Before" : "After")] = function(e) {
                                                    return n(e)[t](this),
                                                        this
                                                }
                                        }
                                    )),
                                    I.Z.prototype = B.prototype = n.fn,
                                    I.uniq = i,
                                    I.deserializeValue = K,
                                    n.zepto = I,
                                    n
                            }();
                            return function(e) {
                                var n = 1
                                    , r = Array.prototype.slice
                                    , o = e.isFunction
                                    , i = function(t) {
                                    return "string" == typeof t
                                }
                                    , c = {}
                                    , s = {}
                                    , u = "onfocusin"in t
                                    , a = {
                                    focus: "focusin",
                                    blur: "focusout"
                                }
                                    , f = {
                                    mouseenter: "mouseover",
                                    mouseleave: "mouseout"
                                };
                                function l(t) {
                                    return t._zid || (t._zid = n++)
                                }
                                function d(t, e, n, r) {
                                    if ((e = p(e)).ns)
                                        var o = (i = e.ns,
                                            new RegExp("(?:^| )" + i.replace(" ", " .* ?") + "(?: |$)"));
                                    var i;
                                    return (c[l(t)] || []).filter((function(t) {
                                            return t && (!e.e || t.e == e.e) && (!e.ns || o.test(t.ns)) && (!n || l(t.fn) === l(n)) && (!r || t.sel == r)
                                        }
                                    ))
                                }
                                function p(t) {
                                    var e = ("" + t).split(".");
                                    return {
                                        e: e[0],
                                        ns: e.slice(1).sort().join(" ")
                                    }
                                }
                                function h(t, e) {
                                    return t.del && !u && t.e in a || !!e
                                }
                                function m(t) {
                                    return f[t] || u && a[t] || t
                                }
                                function g(t, n, r, o, i, s, u) {
                                    var a = l(t)
                                        , d = c[a] || (c[a] = []);
                                    n.split(/\s/).forEach((function(n) {
                                            if ("ready" == n)
                                                return e(document).ready(r);
                                            var c = p(n);
                                            c.fn = r,
                                                c.sel = i,
                                            c.e in f && (r = function(t) {
                                                    var n = t.relatedTarget;
                                                    if (!n || n !== this && !e.contains(this, n))
                                                        return c.fn.apply(this, arguments)
                                                }
                                            ),
                                                c.del = s;
                                            var a = s || r;
                                            c.proxy = function(e) {
                                                if (!(e = S(e)).isImmediatePropagationStopped()) {
                                                    e.data = o;
                                                    var n = a.apply(t, null == e._args ? [e] : [e].concat(e._args));
                                                    return !1 === n && (e.preventDefault(),
                                                        e.stopPropagation()),
                                                        n
                                                }
                                            }
                                                ,
                                                c.i = d.length,
                                                d.push(c),
                                            "addEventListener"in t && t.addEventListener(m(c.e), c.proxy, h(c, u))
                                        }
                                    ))
                                }
                                function v(t, e, n, r, o) {
                                    var i = l(t);
                                    (e || "").split(/\s/).forEach((function(e) {
                                            d(t, e, n, r).forEach((function(e) {
                                                    delete c[i][e.i],
                                                    "removeEventListener"in t && t.removeEventListener(m(e.e), e.proxy, h(e, o))
                                                }
                                            ))
                                        }
                                    ))
                                }
                                s.click = s.mousedown = s.mouseup = s.mousemove = "MouseEvents",
                                    e.event = {
                                        add: g,
                                        remove: v
                                    },
                                    e.proxy = function(t, n) {
                                        var c = 2 in arguments && r.call(arguments, 2);
                                        if (o(t)) {
                                            var s = function() {
                                                return t.apply(n, c ? c.concat(r.call(arguments)) : arguments)
                                            };
                                            return s._zid = l(t),
                                                s
                                        }
                                        if (i(n))
                                            return c ? (c.unshift(t[n], t),
                                                e.proxy.apply(null, c)) : e.proxy(t[n], t);
                                        throw new TypeError("expected function")
                                    }
                                    ,
                                    e.fn.bind = function(t, e, n) {
                                        return this.on(t, e, n)
                                    }
                                    ,
                                    e.fn.unbind = function(t, e) {
                                        return this.off(t, e)
                                    }
                                    ,
                                    e.fn.one = function(t, e, n, r) {
                                        return this.on(t, e, n, r, 1)
                                    }
                                ;
                                var y = function() {
                                    return !0
                                }
                                    , b = function() {
                                    return !1
                                }
                                    , x = /^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/
                                    , w = {
                                    preventDefault: "isDefaultPrevented",
                                    stopImmediatePropagation: "isImmediatePropagationStopped",
                                    stopPropagation: "isPropagationStopped"
                                };
                                function S(t, n) {
                                    if (n || !t.isDefaultPrevented) {
                                        n || (n = t),
                                            e.each(w, (function(e, r) {
                                                    var o = n[e];
                                                    t[e] = function() {
                                                        return this[r] = y,
                                                        o && o.apply(n, arguments)
                                                    }
                                                        ,
                                                        t[r] = b
                                                }
                                            ));
                                        try {
                                            t.timeStamp || (t.timeStamp = (new Date).getTime())
                                        } catch (t) {}
                                        (void 0 !== n.defaultPrevented ? n.defaultPrevented : "returnValue"in n ? !1 === n.returnValue : n.getPreventDefault && n.getPreventDefault()) && (t.isDefaultPrevented = y)
                                    }
                                    return t
                                }
                                function E(t) {
                                    var e, n = {
                                        originalEvent: t
                                    };
                                    for (e in t)
                                        x.test(e) || void 0 === t[e] || (n[e] = t[e]);
                                    return S(n, t)
                                }
                                e.fn.delegate = function(t, e, n) {
                                    return this.on(e, t, n)
                                }
                                    ,
                                    e.fn.undelegate = function(t, e, n) {
                                        return this.off(e, t, n)
                                    }
                                    ,
                                    e.fn.live = function(t, n) {
                                        return e(document.body).delegate(this.selector, t, n),
                                            this
                                    }
                                    ,
                                    e.fn.die = function(t, n) {
                                        return e(document.body).undelegate(this.selector, t, n),
                                            this
                                    }
                                    ,
                                    e.fn.on = function(t, n, c, s, u) {
                                        var a, f, l = this;
                                        return t && !i(t) ? (e.each(t, (function(t, e) {
                                                l.on(t, n, c, e, u)
                                            }
                                        )),
                                            l) : (i(n) || o(s) || !1 === s || (s = c,
                                            c = n,
                                            n = void 0),
                                        void 0 !== s && !1 !== c || (s = c,
                                            c = void 0),
                                        !1 === s && (s = b),
                                            l.each((function(o, i) {
                                                    u && (a = function(t) {
                                                            return v(i, t.type, s),
                                                                s.apply(this, arguments)
                                                        }
                                                    ),
                                                    n && (f = function(t) {
                                                            var o, c = e(t.target).closest(n, i).get(0);
                                                            if (c && c !== i)
                                                                return o = e.extend(E(t), {
                                                                    currentTarget: c,
                                                                    liveFired: i
                                                                }),
                                                                    (a || s).apply(c, [o].concat(r.call(arguments, 1)))
                                                        }
                                                    ),
                                                        g(i, t, s, c, n, f || a)
                                                }
                                            )))
                                    }
                                    ,
                                    e.fn.off = function(t, n, r) {
                                        var c = this;
                                        return t && !i(t) ? (e.each(t, (function(t, e) {
                                                c.off(t, n, e)
                                            }
                                        )),
                                            c) : (i(n) || o(r) || !1 === r || (r = n,
                                            n = void 0),
                                        !1 === r && (r = b),
                                            c.each((function() {
                                                    v(this, t, r, n)
                                                }
                                            )))
                                    }
                                    ,
                                    e.fn.trigger = function(t, n) {
                                        return (t = i(t) || e.isPlainObject(t) ? e.Event(t) : S(t))._args = n,
                                            this.each((function() {
                                                    t.type in a && "function" == typeof this[t.type] ? this[t.type]() : "dispatchEvent"in this ? this.dispatchEvent(t) : e(this).triggerHandler(t, n)
                                                }
                                            ))
                                    }
                                    ,
                                    e.fn.triggerHandler = function(t, n) {
                                        var r, o;
                                        return this.each((function(c, s) {
                                                (r = E(i(t) ? e.Event(t) : t))._args = n,
                                                    r.target = s,
                                                    e.each(d(s, t.type || t), (function(t, e) {
                                                            if (o = e.proxy(r),
                                                                r.isImmediatePropagationStopped())
                                                                return !1
                                                        }
                                                    ))
                                            }
                                        )),
                                            o
                                    }
                                    ,
                                    "focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach((function(t) {
                                            e.fn[t] = function(e) {
                                                return 0 in arguments ? this.bind(t, e) : this.trigger(t)
                                            }
                                        }
                                    )),
                                    e.Event = function(t, e) {
                                        i(t) || (t = (e = t).type);
                                        var n = document.createEvent(s[t] || "Events")
                                            , r = !0;
                                        if (e)
                                            for (var o in e)
                                                "bubbles" == o ? r = !!e[o] : n[o] = e[o];
                                        return n.initEvent(t, r, !0),
                                            S(n)
                                    }
                            }(e),
                                function() {
                                    try {
                                        getComputedStyle(void 0)
                                    } catch (n) {
                                        var e = getComputedStyle;
                                        t.getComputedStyle = function(t, n) {
                                            try {
                                                return e(t, n)
                                            } catch (t) {
                                                return null
                                            }
                                        }
                                    }
                                }(),
                                function(t) {
                                    var e = t.zepto
                                        , n = e.qsa
                                        , r = /^\s*>/
                                        , o = "Zepto" + +new Date
                                        , i = function(e, i) {
                                        var c, s, u = i;
                                        try {
                                            u ? r.test(u) && (s = t(e).addClass(o),
                                                u = "." + o + " " + u) : u = "*",
                                                c = n(e, u)
                                        } catch (t) {
                                            throw t
                                        } finally {
                                            s && s.removeClass(o)
                                        }
                                        return c
                                    };
                                    e.qsa = function(t, e) {
                                        var n = e.split(":shadow");
                                        if (n.length < 2)
                                            return i(t, e);
                                        for (var r = t, o = 0; o < n.length; o++) {
                                            var c = n[o].trim();
                                            if (0 === c.indexOf(">")) {
                                                var s = ":host ";
                                                (r instanceof Element || r instanceof HTMLDocument) && (s = ":scope "),
                                                    c = s + c
                                            }
                                            var u = i(r, c);
                                            if (0 === u.length || !u[0] || !u[0].shadowRoot)
                                                return u;
                                            r = u[0].shadowRoot
                                        }
                                    }
                                }(e),
                                e
                        }(window);
                        const sn = Wt.MutationObserver || Wt.WebkitMutationObserver;
                        function un() {
                            return w(sn)
                        }
                        function an(t) {
                            return new sn(t)
                        }
                        function fn() {
                            const t = Kt.createTextNode("")
                                , e = [];
                            return an(()=>{
                                    const t = e.length;
                                    for (let n = 0; n < t; n += 1)
                                        e[n]();
                                    e.splice(0, t)
                                }
                            ).observe(t, {
                                characterData: !0
                            }),
                                n=>{
                                    e.push(n),
                                        t.textContent = t.textContent.length > 0 ? "" : "a"
                                }
                        }
                        function ln(t) {
                            return new on(t)
                        }
                        function dn(t) {
                            return on.resolve(t)
                        }
                        function pn(t) {
                            return on.reject(t)
                        }
                        function hn(t) {
                            return g(t) ? on.all(t) : pn(new TypeError("Expected an array of promises"))
                        }
                        function mn(t, e, n) {
                            let r = -1;
                            const o = ln((t,o)=>{
                                    r = ft(()=>o(new Error(n)), e)
                                }
                            );
                            return (i = [t, o],
                                g(i) ? on.race(i) : pn(new TypeError("Expected an array of promises"))).then(t=>(lt(r),
                                    t), t=>{
                                    throw lt(r),
                                        t
                                }
                            );
                            var i
                        }
                        function gn(t) {
                            if (m(t.adobe))
                                return !1;
                            const e = t.adobe;
                            if (m(e.optIn))
                                return !1;
                            const n = e.optIn;
                            return w(n.fetchPermissions) && w(n.isApproved)
                        }
                        function vn(t, e) {
                            if (!gn(t))
                                return !0;
                            const n = t.adobe.optIn
                                , r = (t.adobe.optIn.Categories || {})[e];
                            return n.isApproved(r)
                        }
                        function yn() {
                            const t = oe().optinEnabled;
                            return function(t, e) {
                                return !!e && gn(t)
                            }(Wt, t)
                        }
                        function bn() {
                            return vn(Wt, "TARGET")
                        }
                        function xn() {
                            return function(t, e) {
                                if (!gn(t))
                                    return dn(!0);
                                const n = t.adobe.optIn
                                    , r = (t.adobe.optIn.Categories || {})[e];
                                return ln((t,e)=>{
                                        n.fetchPermissions(()=>{
                                                n.isApproved(r) ? t(!0) : e("Adobe Target is not opted in")
                                            }
                                            , !0)
                                    }
                                )
                            }(Wt, "TARGET")
                        }
                        on._setImmediateFn && (un() ? on._setImmediateFn(fn()) : -1 !== Wt.navigator.userAgent.indexOf("MSIE 10") && on._setImmediateFn(t=>{
                                let e = cn("<script>");
                                e.on("readystatechange", ()=>{
                                        e.on("readystatechange", null),
                                            e.remove(),
                                            e = null,
                                            t()
                                    }
                                ),
                                    cn(Kt.documentElement).append(e)
                            }
                        ));
                        const wn = Dt();
                        function Sn(t) {
                            !function(t, e) {
                                qe({
                                    name: "session",
                                    value: t,
                                    expires: e.sessionIdLifetime,
                                    domain: e.cookieDomain,
                                    secure: e.secureOnly
                                })
                            }(t, oe())
                        }
                        function En() {
                            if (yn() && !bn())
                                return wn;
                            const t = function() {
                                const {location: t} = Wt
                                    , {search: e} = t;
                                return ve(e).mboxSession
                            }();
                            if (J(t))
                                return Sn(t),
                                    Ne("session");
                            const e = Ne("session");
                            return $(e) ? Sn(wn) : Sn(e),
                                Ne("session")
                        }
                        function Tn() {
                            return Ne("PC")
                        }
                        const Cn = /.*\.(\d+)_\d+/;
                        function kn(t) {
                            const e = oe();
                            if (!e.overrideMboxEdgeServer)
                                return;
                            const n = e.cookieDomain
                                , r = new Date(rt() + e.overrideMboxEdgeServerTimeout)
                                , o = e.secureOnly
                                , i = Se("mboxEdgeCluster")
                                , c = h({
                                domain: n,
                                expires: r,
                                secure: o
                            }, o ? {
                                sameSite: "None"
                            } : {});
                            if (J(i))
                                return void Ee("mboxEdgeCluster", i, c);
                            const s = function(t) {
                                if ($(t))
                                    return "";
                                const e = Cn.exec(t);
                                return U(e) || 2 !== e.length ? "" : e[1]
                            }(t);
                            $(s) || Ee("mboxEdgeCluster", s, c)
                        }
                        function In(t, e, n, r) {
                            const o = new t.CustomEvent(n,{
                                detail: r
                            });
                            e.dispatchEvent(o)
                        }
                        !function(t, e) {
                            function n(t, n) {
                                const r = e.createEvent("CustomEvent");
                                return n = n || {
                                    bubbles: !1,
                                    cancelable: !1,
                                    detail: void 0
                                },
                                    r.initCustomEvent(t, n.bubbles, n.cancelable, n.detail),
                                    r
                            }
                            w(t.CustomEvent) || (n.prototype = t.Event.prototype,
                                t.CustomEvent = n)
                        }(Wt, Kt);
                        function Nn(t, e) {
                            const {mbox: n, error: r, url: o, analyticsDetails: i, responseTokens: c, execution: s} = e
                                , u = {
                                type: t,
                                tracking: function(t, e) {
                                    const n = t()
                                        , r = e()
                                        , o = {};
                                    return o.sessionId = n,
                                        J(r) ? (o.deviceId = r,
                                            o) : o
                                }(En, Tn)
                            };
                            return m(n) || (u.mbox = n),
                            m(r) || (u.error = r),
                            m(o) || (u.url = o),
                            U(i) || (u.analyticsDetails = i),
                            U(c) || (u.responseTokens = c),
                            U(s) || (u.execution = s),
                                u
                        }
                        function On(t) {
                            const e = Nn("at-request-start", t);
                            In(Wt, Kt, "at-request-start", e)
                        }
                        function _n(t, e) {
                            const n = Nn("at-request-succeeded", t);
                            n.redirect = e,
                                In(Wt, Kt, "at-request-succeeded", n)
                        }
                        function An(t) {
                            const e = Nn("at-request-failed", t);
                            In(Wt, Kt, "at-request-failed", e)
                        }
                        function qn(t) {
                            const e = Nn("at-content-rendering-start", t);
                            In(Wt, Kt, "at-content-rendering-start", e)
                        }
                        function Mn(t) {
                            const e = Nn("at-content-rendering-succeeded", t);
                            In(Wt, Kt, "at-content-rendering-succeeded", e)
                        }
                        function Pn(t) {
                            const e = Nn("at-content-rendering-failed", t);
                            In(Wt, Kt, "at-content-rendering-failed", e)
                        }
                        function Dn(t) {
                            const e = Nn("at-content-rendering-no-offers", t);
                            In(Wt, Kt, "at-content-rendering-no-offers", e)
                        }
                        function Rn(t) {
                            const e = Nn("at-content-rendering-redirect", t);
                            In(Wt, Kt, "at-content-rendering-redirect", e)
                        }
                        var Ln = on
                            , jn = function(t) {
                            var e = document.createElement("script");
                            e.src = t,
                                e.async = !0;
                            var n = function(t, e) {
                                return new Ln((function(n, r) {
                                        e.onload = function() {
                                            n(e)
                                        }
                                            ,
                                            e.onerror = function() {
                                                r(new Error("Failed to load script " + t))
                                            }
                                    }
                                ))
                            }(t, e);
                            return document.getElementsByTagName("head")[0].appendChild(e),
                                n
                        };
                        function Vn(t) {
                            return M(t) && 1 === t.nodeType && !Q(t)
                        }
                        const Hn = ":eq(".length
                            , Un = /((\.|#)(-)?\d{1})/g;
                        function Bn(t) {
                            const e = t.charAt(0)
                                , n = t.charAt(1)
                                , r = t.charAt(2)
                                , o = {
                                key: t
                            };
                            return o.val = "-" === n ? "" + e + n + "\\3" + r + " " : e + "\\3" + n + " ",
                                o
                        }
                        function Fn(t) {
                            if (Vn(t))
                                return cn(t);
                            if (!P(t))
                                return cn(t);
                            const e = function(t) {
                                const e = t.match(Un);
                                return U(e) ? t : ct((t,e)=>t.replace(e.key, e.val), t, nt(Bn, e))
                            }(t);
                            if (-1 === e.indexOf(":eq("))
                                return cn(e);
                            const n = function(t) {
                                const e = [];
                                let n, r, o, i, c = z(t), s = c.indexOf(":eq(");
                                for (; -1 !== s; )
                                    n = z(c.substring(0, s)),
                                        r = z(c.substring(s)),
                                        i = r.indexOf(")"),
                                        o = z(r.substring(Hn, i)),
                                        c = z(r.substring(i + 1)),
                                        s = c.indexOf(":eq("),
                                    n && o && e.push({
                                        sel: n,
                                        eq: Number(o)
                                    });
                                return c && e.push({
                                    sel: c
                                }),
                                    e
                            }(e);
                            return ct((t,e)=>{
                                    const {sel: n, eq: r} = e;
                                    return t = t.find(n),
                                    Z(r) && (t = t.eq(r)),
                                        t
                                }
                                , cn(Kt), n)
                        }
                        function zn(t) {
                            return Fn(t).length > 0
                        }
                        function $n(t) {
                            return cn("<div/>").append(t)
                        }
                        function Jn(t) {
                            return Fn(t).parent()
                        }
                        function Zn(t, e) {
                            return Fn(e).find(t)
                        }
                        const Gn = "clickHandlerForExperienceEditor";
                        function Kn() {
                            if (!Re())
                                return;
                            Wt._AT = Wt._AT || {},
                                Wt._AT.querySelectorAll = Fn;
                            const t = oe().authoringScriptUrl;
                            Be("Loading target-vec.js"),
                                jn(t).then(()=>{
                                        Kt.addEventListener("click", t=>{
                                                w(Wt._AT[Gn]) && Wt._AT[Gn](t)
                                            }
                                            , !0)
                                    }
                                )['catch'](()=>Ue("Unable to load target-vec.js"))
                        }
                        const Wn = t=>!m(t);
                        function Xn(t) {
                            const e = function(t) {
                                return parseInt(t, 10)
                            }(t);
                            return isNaN(e) ? null : e
                        }
                        function Yn(t) {
                            return at("_", t)
                        }
                        function Qn(t) {
                            const e = at("_", t)
                                , n = Xn(e[0]);
                            if (m(n))
                                return null;
                            const r = {};
                            r.activityIndex = n;
                            const o = Xn(e[1]);
                            return m(o) || (r.experienceIndex = o),
                                r
                        }
                        function tr(t) {
                            return O(Wn, nt(Qn, t))
                        }
                        function er(t) {
                            const e = ve(t)
                                , n = e.at_preview_token;
                            if ($(n))
                                return null;
                            const r = {};
                            r.token = n;
                            const o = e.at_preview_listed_activities_only;
                            J(o) && "true" === o && (r.listedActivitiesOnly = !0);
                            const i = e.at_preview_evaluate_as_true_audience_ids;
                            J(i) && (r.evaluateAsTrueAudienceIds = Yn(i));
                            const c = e.at_preview_evaluate_as_false_audience_ids;
                            J(c) && (r.evaluateAsFalseAudienceIds = Yn(c));
                            const s = e.at_preview_index;
                            return U(s) || (r.previewIndexes = g(u = s) ? tr(u) : tr([u])),
                                r;
                            var u
                        }
                        function nr(t) {
                            const e = function(t) {
                                const e = ve(t).at_preview;
                                return $(e) ? null : {
                                    token: e
                                }
                            }(t.location.search);
                            if (m(e))
                                return;
                            const n = new Date(rt() + 186e4)
                                , r = oe().secureOnly
                                , o = h({
                                expires: n,
                                secure: r
                            }, r ? {
                                sameSite: "None"
                            } : {});
                            Ee("at_preview_mode", JSON.stringify(e), o)
                        }
                        function rr(t) {
                            return Fn(t).empty().remove()
                        }
                        function or(t, e) {
                            return Fn(e).after(t)
                        }
                        function ir(t, e) {
                            return Fn(e).before(t)
                        }
                        function cr(t, e) {
                            return Fn(e).append(t)
                        }
                        function sr(t) {
                            return Fn(t).html()
                        }
                        function ur(t, e) {
                            return '<style id="' + t + '" class="at-flicker-control">' + e + "</style>"
                        }
                        function ar(t, e) {
                            if (U(e))
                                return;
                            const n = O(t=>!zn("#at-" + D(t)), e);
                            if (U(n))
                                return;
                            const r = t.defaultContentHiddenStyle;
                            cr(tt("\n", nt(t=>function(t, e) {
                                return ur("at-" + D(e), e + " {" + t + "}")
                            }(r, t), n)), "head")
                        }
                        function fr(t, e) {
                            if (U(e) || zn("#at-views"))
                                return;
                            cr(function(t, e) {
                                return ur("at-views", e + " {" + t + "}")
                            }(t.defaultContentHiddenStyle, tt(", ", e)), "head")
                        }
                        function lr() {
                            !function(t) {
                                if (!0 !== t.bodyHidingEnabled)
                                    return;
                                if (zn("#at-body-style"))
                                    return;
                                cr(ur("at-body-style", t.bodyHiddenStyle), "head")
                            }(oe())
                        }
                        function dr() {
                            !function(t) {
                                !0 === t.bodyHidingEnabled && zn("#at-body-style") && rr("#at-body-style")
                            }(oe())
                        }
                        function pr(t) {
                            return !m(t.id)
                        }
                        function hr(t) {
                            return !m(t.authState)
                        }
                        function mr(t) {
                            return pr(t) || hr(t)
                        }
                        function gr(t, e) {
                            return ct((t,n,r)=>{
                                    const o = {};
                                    return o.integrationCode = r,
                                    pr(n) && (o.id = n.id),
                                    hr(n) && (o.authenticatedState = function(t) {
                                        switch (t) {
                                            case 0:
                                                return "unknown";
                                            case 1:
                                                return "authenticated";
                                            case 2:
                                                return "logged_out";
                                            default:
                                                return "unknown"
                                        }
                                    }(n.authState)),
                                        o[Rt] = e,
                                    function(t) {
                                        return t.primary
                                    }(n) && (o.primary = !0),
                                        t.push(o),
                                        t
                                }
                                , [], O(mr, t))
                        }
                        function vr(t) {
                            if (m(t))
                                return [];
                            if (!w(t.getCustomerIDs))
                                return [];
                            const e = t.getCustomerIDs(!0);
                            return x(e) ? function(t) {
                                if (!t.nameSpaces && !t.dataSources)
                                    return gr(t, "DS");
                                const e = [];
                                return t.nameSpaces && e.push.apply(e, gr(t.nameSpaces, "NS")),
                                t.dataSources && e.push.apply(e, gr(t.dataSources, "DS")),
                                    e
                            }(e) : []
                        }
                        function yr(t) {
                            return Be("Visitor API requests error", t),
                                {}
                        }
                        function br(t, e, n) {
                            if (m(t))
                                return dn({});
                            return mn(function(t, e) {
                                if (!w(t.getVisitorValues))
                                    return dn({});
                                const n = ["MCMID", "MCAAMB", "MCAAMLH"];
                                return e && n.push("MCOPTOUT"),
                                    ln(e=>{
                                            t.getVisitorValues(t=>e(t), n)
                                        }
                                    )
                            }(t, n), e, "Visitor API requests timed out")['catch'](yr)
                        }
                        function xr(t, e) {
                            return m(t) ? {} : function(t, e) {
                                if (!w(t.getVisitorValues))
                                    return {};
                                const n = ["MCMID", "MCAAMB", "MCAAMLH"];
                                e && n.push("MCOPTOUT");
                                const r = {};
                                return t.getVisitorValues(t=>h(r, t), n),
                                    r
                            }(t, e)
                        }
                        function wr() {
                            const t = oe()
                                , e = t.imsOrgId
                                , n = t.supplementalDataIdParamTimeout;
                            return function(t, e, n) {
                                if ($(e))
                                    return null;
                                if (m(t.Visitor))
                                    return null;
                                if (!w(t.Visitor.getInstance))
                                    return null;
                                const r = t.Visitor.getInstance(e, {
                                    sdidParamExpiry: n
                                });
                                return x(r) && w(r.isAllowed) && r.isAllowed() ? r : null
                            }(Wt, e, n)
                        }
                        function Sr(t) {
                            return function(t, e) {
                                return m(t) ? null : w(t.getSupplementalDataID) ? t.getSupplementalDataID(e) : null
                            }(wr(), t)
                        }
                        function Er(t) {
                            return function(t, e) {
                                if (m(t))
                                    return null;
                                const n = t[e];
                                return m(n) ? null : n
                            }(wr(), t)
                        }
                        const Tr = {};
                        function Cr(t, e) {
                            Tr[t] = e
                        }
                        function kr(t) {
                            return Tr[t]
                        }
                        function Ir(t) {
                            const e = t.name;
                            if (!P(e) || U(e))
                                return !1;
                            const n = t.version;
                            if (!P(n) || U(n))
                                return !1;
                            const r = t.timeout;
                            if (!m(r) && !Z(r))
                                return !1;
                            return !!w(t.provider)
                        }
                        function Nr(t, e, n, r, o, i) {
                            const c = {};
                            c[t] = e,
                                c[n] = r,
                                c[o] = i;
                            const s = {};
                            return s.dataProvider = c,
                                s
                        }
                        function Or(t) {
                            const e = t.name
                                , n = t.version
                                , r = t.timeout || 2e3;
                            return mn(function(t) {
                                return ln((e,n)=>{
                                        t((t,r)=>{
                                                m(t) ? e(r) : n(t)
                                            }
                                        )
                                    }
                                )
                            }(t.provider), r, "timed out").then(t=>{
                                    const r = Nr("name", e, "version", n, "params", t);
                                    return Be("Data provider", Jt, r),
                                        Je(r),
                                        t
                                }
                            )['catch'](t=>{
                                    const r = Nr("name", e, "version", n, zt, t);
                                    return Be("Data provider", zt, r),
                                        Je(r),
                                        {}
                                }
                            )
                        }
                        function _r(t) {
                            const e = ct((t,e)=>h(t, e), {}, t);
                            return Cr("dataProviders", e),
                                e
                        }
                        function Ar(t) {
                            if (!function(t) {
                                const e = t.targetGlobalSettings;
                                if (m(e))
                                    return !1;
                                const n = e.dataProviders;
                                return !(!g(n) || U(n))
                            }(t))
                                return dn({});
                            return hn(nt(Or, O(Ir, t.targetGlobalSettings.dataProviders))).then(_r)
                        }
                        function qr() {
                            return function() {
                                const t = kr("dataProviders");
                                return m(t) ? {} : t
                            }()
                        }
                        function Mr() {
                            const t = function(t) {
                                const {location: e} = t
                                    , {search: n} = e
                                    , r = ve(n).authorization;
                                return $(r) ? null : r
                            }(Wt)
                                , e = function() {
                                const t = Se("mboxDebugTools");
                                return $(t) ? null : t
                            }();
                            return t || e
                        }
                        function Pr(t) {
                            return !U(t) && 2 === t.length && J(t[0])
                        }
                        function Dr(t, e, n, r) {
                            q((t,o)=>{
                                    x(t) ? (e.push(o),
                                        Dr(t, e, n, r),
                                        e.pop()) : U(e) ? n[r(o)] = t : n[r(tt(".", e.concat(o)))] = t
                                }
                                , t)
                        }
                        function Rr(t) {
                            if (!w(t))
                                return {};
                            let e = null;
                            try {
                                e = t()
                            } catch (t) {
                                return {}
                            }
                            return m(e) ? {} : g(e) ? function(t) {
                                const e = ct((t,e)=>(t.push(function(t) {
                                    const e = t.indexOf("=");
                                    return -1 === e ? [] : [t.substr(0, e), t.substr(e + 1)]
                                }(e)),
                                    t), [], O(J, t));
                                return ct((t,e)=>(t[be(z(e[0]))] = be(z(e[1])),
                                    t), {}, O(Pr, e))
                            }(e) : P(e) && J(e) ? O((t,e)=>J(e), ve(e)) : x(e) ? function(t, e) {
                                const n = {};
                                return m(e) ? Dr(t, [], n, S) : Dr(t, [], n, e),
                                    n
                            }(e) : {}
                        }
                        function Lr() {
                            const {userAgentData: t} = window.navigator;
                            return t
                        }
                        function jr(t) {
                            return h({}, t, Rr(Wt.targetPageParamsAll))
                        }
                        function Vr(t) {
                            const e = oe()
                                , n = e.globalMboxName
                                , r = e.mboxParams
                                , o = e.globalMboxParams;
                            return n !== t ? jr(r || {}) : h(jr(r || {}), function(t) {
                                return h({}, t, Rr(Wt.targetPageParams))
                            }(o || {}))
                        }
                        const Hr = ["architecture", "bitness", "model", "platformVersion", "fullVersionList"];
                        const Ur = function() {
                            const t = Kt.createElement("canvas")
                                , e = t.getContext("webgl") || t.getContext("experimental-webgl");
                            if (m(e))
                                return null;
                            const n = e.getExtension("WEBGL_debug_renderer_info");
                            if (m(n))
                                return null;
                            const r = e.getParameter(n.UNMASKED_RENDERER_WEBGL);
                            return m(r) ? null : r
                        }();
                        function Br() {
                            let {devicePixelRatio: t} = Wt;
                            if (!m(t))
                                return t;
                            t = 1;
                            const {screen: e} = Wt
                                , {systemXDPI: n, logicalXDPI: r} = e;
                            return !m(n) && !m(r) && n > r && (t = n / r),
                                t
                        }
                        function Fr(t) {
                            if (!g(t) || 0 === t.length)
                                return "";
                            let e = "";
                            return t.forEach((n,r)=>{
                                    const {brand: o, version: i} = n
                                        , c = r < t.length - 1 ? ", " : "";
                                    e += '"' + o + '";v="' + i + '"' + c
                                }
                            ),
                                e
                        }
                        function zr(t) {
                            const {mobile: e, platform: n, brands: r} = t;
                            return {
                                mobile: e,
                                platform: n,
                                browserUAWithMajorVersion: Fr(r)
                            }
                        }
                        function $r(t) {
                            let e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                            try {
                                return t.getHighEntropyValues(Hr).then(t=>{
                                        const {platformVersion: n, architecture: r, bitness: o, model: i, fullVersionList: c} = t;
                                        return h({}, e, {
                                            model: i,
                                            platformVersion: n,
                                            browserUAWithFullVersion: Fr(c),
                                            architecture: r,
                                            bitness: o
                                        })
                                    }
                                )
                            } catch (t) {
                                return dn(e)
                            }
                        }
                        function Jr(t) {
                            return Cr("clientHints", t),
                                t
                        }
                        function Zr(t) {
                            return dn(t).then(Jr)
                        }
                        function Gr(t) {
                            let e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                            const n = kr("clientHints");
                            if (gt(n))
                                return Zr(n);
                            if (mt(t))
                                return Zr({});
                            const r = zr(t);
                            return Zr(e ? $r(t, r) : r)
                        }
                        function Kr() {
                            const {screen: t} = Wt
                                , {orientation: e, width: n, height: r} = t;
                            if (m(e))
                                return n > r ? "landscape" : "portrait";
                            if (m(e.type))
                                return null;
                            const o = at("-", e.type);
                            if (U(o))
                                return null;
                            const i = o[0];
                            return m(i) ? null : i
                        }
                        function Wr(t) {
                            return -1 !== t.indexOf("profile.")
                        }
                        function Xr(t) {
                            return Wr(t) || function(t) {
                                return "mbox3rdPartyId" === t
                            }(t) || function(t) {
                                return "at_property" === t
                            }(t) || function(t) {
                                return "orderId" === t
                            }(t) || function(t) {
                                return "orderTotal" === t
                            }(t) || function(t) {
                                return "productPurchasedId" === t
                            }(t) || function(t) {
                                return "productId" === t
                            }(t) || function(t) {
                                return "categoryId" === t
                            }(t)
                        }
                        function Yr(t) {
                            return t.substring("profile.".length)
                        }
                        function Qr() {
                            let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                            return ct((t,e,n)=>(Xr(n) || (t[n] = m(e) ? "" : e),
                                t), {}, t)
                        }
                        function to() {
                            let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
                                , e = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
                            return ct((t,n,r)=>{
                                    const o = e ? Yr(r) : r;
                                    return e && !Wr(r) || $(o) || (t[o] = m(n) ? "" : n),
                                        t
                                }
                                , {}, t)
                        }
                        function eo(t) {
                            let {url: e, headers: n, body: r, timeout: o, async: i} = t;
                            return ln((t,c)=>{
                                    let s = new window.XMLHttpRequest;
                                    s = function(t, e, n) {
                                        return t.onload = ()=>{
                                            const r = 1223 === t.status ? 204 : t.status;
                                            if (r < 100 || r > 599)
                                                return void n(new Error("Network request failed"));
                                            let o;
                                            try {
                                                const e = It();
                                                o = JSON.parse(t.responseText),
                                                    o.parsingTime = It() - e,
                                                    o.responseSize = new Blob([t.responseText]).size
                                            } catch (t) {
                                                return void n(new Error("Malformed response JSON"))
                                            }
                                            const i = t.getAllResponseHeaders();
                                            e({
                                                status: r,
                                                headers: i,
                                                response: o
                                            })
                                        }
                                            ,
                                            t
                                    }(s, t, c),
                                        s = function(t, e) {
                                            return t.onerror = ()=>{
                                                e(new Error("Network request failed"))
                                            }
                                                ,
                                                t
                                        }(s, c),
                                        s.open("POST", e, i),
                                        s.withCredentials = !0,
                                        s = function(t) {
                                            let e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                                            return q((e,n)=>{
                                                    g(e) && q(e=>{
                                                            t.setRequestHeader(n, e)
                                                        }
                                                        , e)
                                                }
                                                , e),
                                                t
                                        }(s, n),
                                    i && (s = function(t, e, n) {
                                        return t.timeout = e,
                                            t.ontimeout = ()=>{
                                                n(new Error("Request timed out"))
                                            }
                                            ,
                                            t
                                    }(s, o, c)),
                                        s.send(JSON.stringify(r))
                                }
                            ).then(t=>{
                                    const {response: e} = t
                                        , {status: n, message: r} = e;
                                    if (!m(n) && !m(r))
                                        throw new Error(r);
                                    return e
                                }
                            )
                        }
                        function no(t, e) {
                            return Z(e) ? e < 0 ? t.timeout : e : t.timeout
                        }
                        function ro(t) {
                            const e = t.serverDomain;
                            if (!t.overrideMboxEdgeServer)
                                return e;
                            const n = function() {
                                if (!oe().overrideMboxEdgeServer)
                                    return "";
                                const t = Se("mboxEdgeCluster");
                                return $(t) ? "" : t
                            }();
                            return $(n) ? e : "mboxedge" + n + ".tt.omtrdc.net"
                        }
                        function oo(t) {
                            return t.scheme + "//" + ro(t) + t.endpoint + "?" + ye({
                                client: t.clientCode,
                                sessionId: En(),
                                version: t.version
                            })
                        }
                        function io(t, e, n) {
                            const r = oe()
                                , o = oo(r)
                                , i = {
                                "Content-Type": ["text/plain"]
                            }
                                , c = no(r, e)
                                , s = {
                                url: o,
                                headers: i,
                                body: t,
                                timeout: c,
                                async: !0
                            };
                            return Nt.timeStart(t.requestId),
                                eo(s).then(e=>{
                                        const r = {
                                            execution: Nt.timeEnd(t.requestId),
                                            parsing: e.parsingTime
                                        };
                                        delete e.parsingTime;
                                        const i = function(t, e) {
                                            if (!performance)
                                                return null;
                                            const n = performance.getEntriesByType("resource").find(e=>e.name.endsWith(t));
                                            if (!n)
                                                return null;
                                            const r = {};
                                            return n.domainLookupEnd && n.domainLookupStart && (r.dns = n.domainLookupEnd - n.domainLookupStart),
                                            n.secureConnectionStart && n.connectEnd && (r.tls = n.connectEnd - n.secureConnectionStart),
                                            n.responseStart && (r.timeToFirstByte = n.responseStart - n.requestStart),
                                            n.responseEnd && n.responseStart && (r.download = n.responseEnd - n.responseStart),
                                                n.encodedBodySize ? r.responseSize = n.encodedBodySize : e.responseSize && (r.responseSize = e.responseSize,
                                                    delete e.responseSize),
                                                r
                                        }(o, e);
                                        return i && (r.request = i),
                                        e.telemetryServerToken && (r.telemetryServerToken = e.telemetryServerToken),
                                            window.__target_telemetry.addDeliveryRequestEntry(t, r, e.status, n),
                                            h(e, {
                                                decisioningMethod: dt
                                            })
                                    }
                                )
                        }
                        const co = t=>!U(t);
                        let so;
                        function uo(t) {
                            if (t.MCOPTOUT)
                                throw new Error("Disabled due to optout");
                            return t
                        }
                        function ao() {
                            const t = function() {
                                const t = wr()
                                    , e = oe();
                                return br(t, e.visitorApiTimeout, e.optoutEnabled)
                            }()
                                , e = Ar(Wt);
                            return hn([t.then(uo), e])
                        }
                        function fo() {
                            return [xr(wr(), oe().optoutEnabled), qr()]
                        }
                        function lo() {
                            const {screen: t} = Wt;
                            return {
                                width: t.width,
                                height: t.height,
                                orientation: Kr(),
                                colorDepth: t.colorDepth,
                                pixelRatio: Br()
                            }
                        }
                        function po() {
                            const {documentElement: t} = Kt;
                            return {
                                width: t.clientWidth,
                                height: t.clientHeight
                            }
                        }
                        function ho() {
                            const {location: t} = Wt;
                            return {
                                host: t.hostname,
                                webGLRenderer: Ur
                            }
                        }
                        function mo() {
                            const {location: t} = Wt;
                            return {
                                url: t.href,
                                referringUrl: Kt.referrer
                            }
                        }
                        function go(t) {
                            const {id: e, integrationCode: n, authenticatedState: r, type: o, primary: i} = t
                                , c = {};
                            return J(e) && (c.id = e),
                            J(n) && (c.integrationCode = n),
                            J(r) && (c.authenticatedState = r),
                            J(o) && (c.type = o),
                            i && (c.primary = i),
                                c
                        }
                        function vo(t, e, n, r, o) {
                            const i = {};
                            J(e) && (i.tntId = e),
                            J(n) && (i.thirdPartyId = n),
                            J(t.thirdPartyId) && (i.thirdPartyId = t.thirdPartyId);
                            const c = r.MCMID;
                            return J(c) && (i.marketingCloudVisitorId = c),
                            J(t.marketingCloudVisitorId) && (i.marketingCloudVisitorId = t.marketingCloudVisitorId),
                                U(t.customerIds) ? (U(o) || (i.customerIds = function(t) {
                                    return nt(go, t)
                                }(o)),
                                    i) : (i.customerIds = t.customerIds,
                                    i)
                        }
                        function yo(t, e) {
                            const n = {}
                                , r = function(t, e) {
                                if (!m(t))
                                    return t;
                                const n = {};
                                if (U(e))
                                    return n;
                                const r = e.MCAAMLH
                                    , o = parseInt(r, 10);
                                isNaN(o) || (n.locationHint = o);
                                const i = e.MCAAMB;
                                return J(i) && (n.blob = i),
                                    n
                            }(t.audienceManager, e);
                            return U(r) || (n.audienceManager = r),
                            U(t.analytics) || (n.analytics = t.analytics),
                                n
                        }
                        function bo(t) {
                            return m(t) ? function() {
                                const t = Se("at_preview_mode");
                                if ($(t))
                                    return {};
                                try {
                                    return JSON.parse(t)
                                } catch (t) {
                                    return {}
                                }
                            }() : t
                        }
                        function xo(t) {
                            return m(t) ? function() {
                                const t = Se("at_qa_mode");
                                if ($(t))
                                    return {};
                                try {
                                    return JSON.parse(t)
                                } catch (t) {
                                    return {}
                                }
                            }() : t
                        }
                        function wo(t) {
                            const e = {}
                                , n = function(t) {
                                return t.orderId
                            }(t);
                            m(n) || (e.id = n);
                            const r = function(t) {
                                return t.orderTotal
                            }(t)
                                , o = parseFloat(r);
                            isNaN(o) || (e.total = o);
                            const i = function(t) {
                                const e = nt(z, at(",", t.productPurchasedId));
                                return O(J, e)
                            }(t);
                            return U(i) || (e.purchasedProductIds = i),
                                e
                        }
                        function So(t, e) {
                            const n = {}
                                , r = h({}, Qr(e), Qr(t.parameters || {}))
                                , o = h({}, to(e), to(t.profileParameters || {}, !1))
                                , i = h({}, wo(e), t.order || {})
                                , c = h({}, function(t) {
                                const e = {}
                                    , n = function(t) {
                                    return t.productId
                                }(t);
                                m(n) || (e.id = n);
                                const r = function(t) {
                                    return t.categoryId
                                }(t);
                                return m(r) || (e.categoryId = r),
                                    e
                            }(e), t.product || {});
                            return U(r) || (n.parameters = r),
                            U(o) || (n.profileParameters = o),
                            U(i) || (n.order = i),
                            U(c) || (n.product = c),
                                n
                        }
                        function Eo(t, e) {
                            let n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
                            const r = oe()
                                , o = r.globalMboxName
                                , {index: i, name: c, address: s} = t
                                , u = h({}, c === o ? e : n, Vr(c))
                                , a = So(t, u);
                            return m(i) || (a.index = i),
                            J(c) && (a.name = c),
                            U(s) || (a.address = s),
                                a
                        }
                        function To(t, e, n) {
                            const {prefetch: r={}} = t
                                , o = {};
                            if (U(r))
                                return o;
                            const {mboxes: i} = r;
                            m(i) || !g(i) || U(i) || (o.mboxes = nt(t=>Eo(t, e, n), i));
                            const {views: c} = r;
                            return m(c) || !g(c) || U(c) || (o.views = nt(t=>function(t, e) {
                                const {name: n, address: r} = t
                                    , o = So(t, e);
                                return J(n) && (o.name = n),
                                U(r) || (o.address = r),
                                    o
                            }(t, e), c)),
                                o
                        }
                        function Co(t, e) {
                            if (yn() && !vn(Wt, "ANALYTICS"))
                                return null;
                            const n = oe()
                                , r = Sr(t)
                                , o = Er("trackingServer")
                                , i = Er("trackingServerSecure")
                                , {experienceCloud: c={}} = e
                                , {analytics: s={}} = c
                                , {logging: u, supplementalDataId: a, trackingServer: f, trackingServerSecure: l} = s
                                , d = {};
                            return m(u) ? d.logging = n.analyticsLogging : d.logging = u,
                            m(a) || (d.supplementalDataId = a),
                            J(r) && (d.supplementalDataId = r),
                            m(f) || (d.trackingServer = f),
                            J(o) && (d.trackingServer = o),
                            m(l) || (d.trackingServerSecure = l),
                            J(i) && (d.trackingServerSecure = i),
                                U(d) ? null : d
                        }
                        function ko(t, e, n) {
                            const r = function(t) {
                                const e = oe().globalMboxName;
                                return h({}, t, Vr(e))
                            }(n)
                                , o = Tn()
                                , i = r.mbox3rdPartyId;
                            const c = vr(wr())
                                , s = vo(t.id || {}, o, i, e, c)
                                , u = function(t, e) {
                                if (!m(t) && J(t.token))
                                    return t;
                                const n = {}
                                    , r = e.at_property;
                                return J(r) && (n.token = r),
                                    n
                            }(t.property, r)
                                , a = yo(t.experienceCloud || {}, e)
                                , f = function(t) {
                                if (!m(t) && J(t.authorizationToken))
                                    return t;
                                const e = {}
                                    , n = Mr();
                                return J(n) && (e.authorizationToken = n),
                                    e
                            }(t.trace)
                                , l = bo(t.preview)
                                , d = xo(t.qaMode)
                                , p = function(t, e, n) {
                                const {execute: r={}} = t
                                    , o = {};
                                if (U(r))
                                    return o;
                                const {pageLoad: i} = r;
                                m(i) || (o.pageLoad = So(i, e));
                                const {mboxes: c} = r;
                                if (!m(c) && g(c) && !U(c)) {
                                    const t = O(co, nt(t=>Eo(t, e, n), c));
                                    U(t) || (o.mboxes = t)
                                }
                                return o
                            }(t, r, n)
                                , v = To(t, r, n)
                                , {notifications: y} = t;
                            let b = {};
                            return b.requestId = Dt(),
                                b.context = function(t) {
                                    if (!m(t) && "web" === t.channel)
                                        return t;
                                    const e = kr("clientHints") || {}
                                        , n = t || {}
                                        , {beacon: r} = n;
                                    return {
                                        userAgent: Wt.navigator.userAgent,
                                        clientHints: e,
                                        timeOffsetInMinutes: -(new Date).getTimezoneOffset(),
                                        channel: "web",
                                        screen: lo(),
                                        window: po(),
                                        browser: ho(),
                                        address: mo(),
                                        geo: t && t.geo,
                                        beacon: r
                                    }
                                }(t.context),
                            U(s) || (b.id = s),
                            U(u) || (b.property = u),
                            U(f) || (b.trace = f),
                            U(a) || (b.experienceCloud = a),
                            U(l) || (b.preview = l),
                            U(d) || (b.qaMode = d),
                            U(p) || (b.execute = p),
                            U(v) || (b.prefetch = v),
                            U(y) || (b.notifications = y),
                                b = Wt.__target_telemetry.addTelemetryToDeliveryRequest(b),
                                b
                        }
                        function Io(t, e, n) {
                            const r = n[0]
                                , o = n[1];
                            return ko(t, r, h({}, o, e))
                        }
                        function No(t, e) {
                            const n = oe();
                            return hn([ao(), Gr(Lr(), n.allowHighEntropyClientHints)]).then(n=>{
                                    let[r] = n;
                                    return Io(t, e, r)
                                }
                            )
                        }
                        function Oo(t, e) {
                            return Be("request", t),
                                Je({
                                    request: t
                                }),
                                io(t, e, dt).then(e=>(Be("response", e),
                                    Je({
                                        response: e
                                    }),
                                    {
                                        request: t,
                                        response: e
                                    }))
                        }
                        const _o = t=>e=>e[t]
                            , Ao = t=>e=>!t(e)
                            , qo = Ao(m)
                            , Mo = Ao($)
                            , Po = t=>e=>O(t, e)
                            , Do = t=>t.status === zt
                            , Ro = t=>"actions" === t.type
                            , Lo = t=>"redirect" === t.type
                            , jo = Po(qo)
                            , Vo = Po(Mo)
                            , Ho = _o("options")
                            , Uo = _o(Lt)
                            , Bo = _o("eventToken")
                            , Fo = _o("responseTokens")
                            , zo = t=>J(t.name)
                            , $o = t=>x(t) && zo(t)
                            , Jo = t=>x(t) && zo(t) && (t=>!m(t.index))(t)
                            , Zo = t=>x(t) && zo(t)
                            , Go = _o("data")
                            , Ko = A([Go, qo]);
                        function Wo(t, e) {
                            return {
                                status: Jt,
                                type: t,
                                data: e
                            }
                        }
                        function Xo(t, e) {
                            return {
                                status: zt,
                                type: t,
                                data: e
                            }
                        }
                        function Yo(t) {
                            return x(t)
                        }
                        function Qo(t) {
                            return !!Yo(t) && J(t.eventToken)
                        }
                        function ti(t) {
                            return !U(t) && !$(t.type) && J(t.eventToken)
                        }
                        function ei(t) {
                            return !!ti(t) && J(t.selector)
                        }
                        function ni(t) {
                            const {id: e} = t;
                            return x(e) && J(e.tntId)
                        }
                        function ri(t) {
                            const {response: e} = t;
                            return ni(e) && function(t) {
                                const e = oe();
                                qe({
                                    name: "PC",
                                    value: t,
                                    expires: e.deviceIdLifetime,
                                    domain: e.cookieDomain,
                                    secure: e.secureOnly
                                })
                            }(e.id.tntId),
                                t
                        }
                        function oi(t) {
                            const {response: e} = t;
                            if (ni(e)) {
                                const {id: t} = e
                                    , {tntId: n} = t;
                                kn(n)
                            }
                            return kn(null),
                                t
                        }
                        function ii() {
                            let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                            const {trace: e} = t;
                            U(e) || $e(e)
                        }
                        function ci(t) {
                            const {response: e} = t
                                , {execute: n={}, prefetch: r={}, notifications: o={}} = e
                                , {pageLoad: i={}, mboxes: c=[]} = n
                                , {mboxes: s=[], views: u=[]} = r;
                            return ii(i),
                                q(ii, c),
                                q(ii, s),
                                q(ii, u),
                                q(ii, o),
                                t
                        }
                        function si(t) {
                            const e = t.queryKey
                                , n = e.adobe_mc_sdid;
                            if (!P(n))
                                return e;
                            if ($(n))
                                return e;
                            const r = Math.round(rt() / 1e3);
                            return e.adobe_mc_sdid = n.replace(/\|TS=\d+/, "|TS=" + r),
                                e
                        }
                        function ui(t) {
                            return t.queryKey
                        }
                        function ai(t, e, n) {
                            const r = we(t)
                                , {protocol: o} = r
                                , {host: i} = r
                                , {path: c} = r
                                , s = "" === r.port ? "" : ":" + r.port
                                , u = $(r.anchor) ? "" : "#" + r.anchor
                                , a = n(r)
                                , f = ye(h({}, a, e));
                            return o + "://" + i + s + c + ($(f) ? "" : "?" + f) + u
                        }
                        function fi(t, e) {
                            return ai(t, e, si)
                        }
                        function li(t) {
                            const e = t.method || "GET"
                                , n = t.url || function(t) {
                                throw new Error(t)
                            }("URL is required")
                                , r = t.headers || {}
                                , o = t.data || null
                                , i = t.credentials || !1
                                , c = t.timeout || 3e3
                                , s = !!m(t.async) || !0 === t.async
                                , u = {};
                            return u.method = e,
                                u.url = n,
                                u.headers = r,
                                u.data = o,
                                u.credentials = i,
                                u.timeout = c,
                                u.async = s,
                                u
                        }
                        function di(t, e) {
                            const n = li(e)
                                , r = n.method
                                , o = n.url
                                , i = n.headers
                                , c = n.data
                                , s = n.credentials
                                , u = n.timeout
                                , a = n.async;
                            return ln((e,n)=>{
                                    let f = new t.XMLHttpRequest;
                                    f = function(t, e, n) {
                                        return t.onload = ()=>{
                                            const r = 1223 === t.status ? 204 : t.status;
                                            if (r < 100 || r > 599)
                                                return void n(new Error("Network request failed"));
                                            const o = t.responseText
                                                , i = t.getAllResponseHeaders();
                                            e({
                                                status: r,
                                                headers: i,
                                                response: o
                                            })
                                        }
                                            ,
                                            t
                                    }(f, e, n),
                                        f = function(t, e) {
                                            return t.onerror = ()=>{
                                                e(new Error("Network request failed"))
                                            }
                                                ,
                                                t
                                        }(f, n),
                                        f.open(r, o, a),
                                        f = function(t, e) {
                                            return !0 === e && (t.withCredentials = e),
                                                t
                                        }(f, s),
                                        f = function(t, e) {
                                            return q((e,n)=>{
                                                    q(e=>t.setRequestHeader(n, e), e)
                                                }
                                                , e),
                                                t
                                        }(f, i),
                                    a && (f = function(t, e, n) {
                                        return t.timeout = e,
                                            t.ontimeout = ()=>{
                                                n(new Error("Request timed out"))
                                            }
                                            ,
                                            t
                                    }(f, u, n)),
                                        f.send(c)
                                }
                            )
                        }
                        function pi(t) {
                            return di(Wt, t)
                        }
                        function hi(t, e, n) {
                            const r = {
                                method: "GET"
                            };
                            return r.url = function(t, e) {
                                return ai(t, e, ui)
                            }(t, e),
                                r.timeout = n,
                                r
                        }
                        function mi(t) {
                            const {status: e} = t;
                            if (!function(t) {
                                return t >= 200 && t < 300 || 304 === t
                            }(e))
                                return null;
                            const n = t.response;
                            if ($(n))
                                return null;
                            const r = {
                                type: "html"
                            };
                            return r.content = n,
                                r
                        }
                        const gi = /CLKTRK#(\S+)/
                            , vi = /CLKTRK#(\S+)\s/;
                        function yi(t) {
                            const e = t[Lt]
                                , n = function(t) {
                                const e = t[jt];
                                if ($(e))
                                    return "";
                                const n = gi.exec(e);
                                return U(n) || 2 !== n.length ? "" : n[1]
                            }(t);
                            if ($(n) || $(e))
                                return t;
                            const r = t[jt];
                            return t[jt] = r.replace(vi, ""),
                                t[Lt] = function(t, e) {
                                    const n = document.createElement("div");
                                    n.innerHTML = e;
                                    const r = n.firstElementChild;
                                    return m(r) ? e : (r.id = t,
                                        r.outerHTML)
                                }(n, e),
                                t
                        }
                        const bi = t=>!m(t);
                        function xi(t) {
                            const {selector: e} = t;
                            return !m(e)
                        }
                        function wi(t) {
                            const e = t[Rt];
                            if ($(e))
                                return null;
                            switch (e) {
                                case "setHtml":
                                    return function(t) {
                                        if (!xi(t))
                                            return null;
                                        const e = yi(t);
                                        return P(e[Lt]) ? e : (Be(Bt, e),
                                            null)
                                    }(t);
                                case "setText":
                                    return function(t) {
                                        if (!xi(t))
                                            return null;
                                        const e = yi(t);
                                        return P(e[Lt]) ? e : (Be(Bt, e),
                                            null)
                                    }(t);
                                case "appendHtml":
                                    return function(t) {
                                        if (!xi(t))
                                            return null;
                                        const e = yi(t);
                                        return P(e[Lt]) ? e : (Be(Bt, e),
                                            null)
                                    }(t);
                                case "prependHtml":
                                    return function(t) {
                                        if (!xi(t))
                                            return null;
                                        const e = yi(t);
                                        return P(e[Lt]) ? e : (Be(Bt, e),
                                            null)
                                    }(t);
                                case "replaceHtml":
                                    return function(t) {
                                        if (!xi(t))
                                            return null;
                                        const e = yi(t);
                                        return P(e[Lt]) ? e : (Be(Bt, e),
                                            null)
                                    }(t);
                                case "insertBefore":
                                    return function(t) {
                                        if (!xi(t))
                                            return null;
                                        const e = yi(t);
                                        return P(e[Lt]) ? e : (Be(Bt, e),
                                            null)
                                    }(t);
                                case "insertAfter":
                                    return function(t) {
                                        if (!xi(t))
                                            return null;
                                        const e = yi(t);
                                        return P(e[Lt]) ? e : (Be(Bt, e),
                                            null)
                                    }(t);
                                case "customCode":
                                    return function(t) {
                                        return xi(t) ? P(t[Lt]) ? t : (Be(Bt, t),
                                            null) : null
                                    }(t);
                                case "setAttribute":
                                    return function(t) {
                                        return xi(t) ? x(t[Lt]) ? t : (Be("Action has no attributes", t),
                                            null) : null
                                    }(t);
                                case "setImageSource":
                                    return function(t) {
                                        return xi(t) ? P(t[Lt]) ? t : (Be("Action has no image url", t),
                                            null) : null
                                    }(t);
                                case "setStyle":
                                    return function(t) {
                                        return xi(t) ? x(t[Lt]) ? t : (Be("Action has no CSS properties", t),
                                            null) : null
                                    }(t);
                                case "resize":
                                    return function(t) {
                                        return xi(t) ? x(t[Lt]) ? t : (Be("Action has no height or width", t),
                                            null) : null
                                    }(t);
                                case "move":
                                    return function(t) {
                                        return xi(t) ? x(t[Lt]) ? t : (Be("Action has no left, top or position", t),
                                            null) : null
                                    }(t);
                                case "remove":
                                    return function(t) {
                                        return xi(t) ? t : null
                                    }(t);
                                case "rearrange":
                                    return function(t) {
                                        return xi(t) ? x(t[Lt]) ? t : (Be("Action has no from or to", t),
                                            null) : null
                                    }(t);
                                case "redirect":
                                    return function(t) {
                                        const {content: e} = t;
                                        return $(e) ? (Be("Action has no url", t),
                                            null) : (t.content = fi(e, {}),
                                            t)
                                    }(t);
                                default:
                                    return null
                            }
                        }
                        function Si() {
                            let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                            const {options: e} = t;
                            return g(e) ? U(e) ? [] : jo(nt(Fo, e)) : []
                        }
                        function Ei() {
                            let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                            const {execute: e={}} = t
                                , {pageLoad: n={}, mboxes: r=[]} = e
                                , o = Ho(n) || []
                                , i = _(jo(nt(Ho, r)))
                                , c = _([o, i])
                                , s = _(nt(Uo, O(Ro, c)))
                                , u = O(Lo, c)
                                , a = O(Lo, s)
                                , f = u.concat(a)
                                , l = {};
                            if (U(f))
                                return l;
                            const d = f[0]
                                , p = d.content;
                            return $(p) || (l.url = p),
                                l
                        }
                        function Ti() {
                            let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                            const {analytics: e} = t;
                            return U(e) ? [] : [e]
                        }
                        function Ci() {
                            let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                            const {execute: e={}, prefetch: n={}} = t
                                , {pageLoad: r={}, mboxes: o=[]} = e
                                , {mboxes: i=[], views: c=[], metrics: s=[]} = n
                                , u = Ti(r)
                                , a = _(nt(Ti, o))
                                , f = _(nt(Ti, i))
                                , l = _(nt(Ti, c))
                                , d = _(nt(Ti, s));
                            return _([u, a, f, l, d])
                        }
                        function ki(t, e) {
                            t.parameters = e.parameters,
                                t.profileParameters = e.profileParameters,
                                t.order = e.order,
                                t.product = e.product
                        }
                        function Ii(t, e) {
                            const n = e[0]
                                , r = e[1]
                                , o = !U(n)
                                , i = !U(r);
                            return o || i ? (o && (t.options = n),
                            i && (t.metrics = r),
                                t) : t
                        }
                        function Ni(t) {
                            const {type: e} = t;
                            switch (e) {
                                case "redirect":
                                    return dn(function(t) {
                                        const e = t.content;
                                        if ($(e))
                                            return Be("Action has no url", t),
                                                null;
                                        const n = h({}, t);
                                        return n.content = fi(e, {}),
                                            n
                                    }(t));
                                case "dynamic":
                                    return function(t) {
                                        const {content: e} = t;
                                        return pi(hi(e, {}, oe().timeout)).then(mi)['catch'](()=>null)
                                    }(t);
                                case "actions":
                                    return dn(function(t) {
                                        const e = t[Lt];
                                        if (!g(e))
                                            return null;
                                        if (U(e))
                                            return null;
                                        const n = O(bi, nt(wi, e));
                                        if (U(n))
                                            return null;
                                        const r = h({}, t);
                                        return r.content = n,
                                            r
                                    }(t));
                                default:
                                    return dn(t)
                            }
                        }
                        function Oi(t, e) {
                            if (!g(t))
                                return dn([]);
                            if (U(t))
                                return dn([]);
                            const n = O(e, t);
                            if (U(n))
                                return dn([]);
                            return hn(nt(t=>Ni(t), n)).then(jo)
                        }
                        function _i(t, e) {
                            return g(t) ? U(t) ? dn([]) : dn(O(e, t)) : dn([])
                        }
                        function Ai(t) {
                            const {name: e, analytics: n, options: r, metrics: o} = t
                                , i = {
                                name: e,
                                analytics: n
                            };
                            return hn([Oi(r, Yo), _i(o, ti)]).then(t=>Ii(i, t))
                        }
                        function qi(t, e) {
                            const {index: n, name: r, state: o, analytics: i, options: c, metrics: s} = e
                                , u = function(t, e, n) {
                                const {prefetch: r={}} = t
                                    , {mboxes: o=[]} = r;
                                return U(o) ? null : (i = O(t=>function(t, e, n) {
                                    return t.index === e && t.name === n
                                }(t, e, n), o)) && i.length ? i[0] : void 0;
                                var i
                            }(t, n, r)
                                , a = {
                                name: r,
                                state: o,
                                analytics: i
                            };
                            return m(u) || ki(a, u),
                                hn([Oi(c, Qo), _i(s, ti)]).then(t=>Ii(a, t))
                        }
                        function Mi(t, e) {
                            const {name: n, state: r, analytics: o, options: i, metrics: c} = e
                                , s = function(t) {
                                const {prefetch: e={}} = t
                                    , {views: n=[]} = e;
                                return U(n) ? null : n[0]
                            }(t)
                                , u = {
                                name: n.toLowerCase(),
                                state: r,
                                analytics: o
                            };
                            return m(s) || ki(u, s),
                                hn([Oi(i, Qo), _i(c, ei)]).then(t=>Ii(u, t))
                        }
                        function Pi(t) {
                            if (m(t) || $(t.id))
                                return dn(null);
                            const {id: e} = t;
                            return dn({
                                id: e
                            })
                        }
                        function Di(t) {
                            const e = t[0]
                                , n = t[1]
                                , r = t[2]
                                , o = t[3]
                                , i = t[4]
                                , c = t[5]
                                , s = t[6]
                                , u = {}
                                , a = {};
                            x(e) && (a.pageLoad = e),
                            U(n) || (a.mboxes = n);
                            const f = {};
                            return U(r) || (f.mboxes = r),
                            U(o) || (f.views = o),
                            U(i) || (f.metrics = i),
                            U(a) || (u.execute = a),
                            U(f) || (u.prefetch = f),
                            U(c) || (u.meta = c),
                            U(s) || (u.notifications = s),
                                u
                        }
                        function Ri(t) {
                            const e = A([ci, ri, oi])(t)
                                , n = function(t) {
                                const {response: e} = t
                                    , {execute: n} = e;
                                if (!x(n))
                                    return dn(null);
                                const {pageLoad: r} = n;
                                if (!x(r))
                                    return dn(null);
                                const {analytics: o, options: i, metrics: c} = r
                                    , s = {
                                    analytics: o
                                };
                                return hn([Oi(i, Yo), _i(c, ei)]).then(t=>Ii(s, t))
                            }(e)
                                , r = function(t) {
                                const {response: e} = t
                                    , {execute: n} = e;
                                if (!x(n))
                                    return dn([]);
                                const {mboxes: r} = n;
                                return !g(r) || U(r) ? dn([]) : hn(nt(Ai, O($o, r))).then(jo)
                            }(e)
                                , o = function(t) {
                                const {request: e, response: n} = t
                                    , {prefetch: r} = n;
                                if (!x(r))
                                    return dn([]);
                                const {mboxes: o} = r;
                                return !g(o) || U(o) ? dn([]) : hn(nt(t=>qi(e, t), O(Jo, o))).then(jo)
                            }(e)
                                , i = function(t) {
                                const {request: e, response: n} = t
                                    , {prefetch: r} = n;
                                if (!x(r))
                                    return dn([]);
                                const {views: o} = r;
                                return !g(o) || U(o) ? dn([]) : hn(nt(t=>Mi(e, t), O(Zo, o))).then(jo)
                            }(e)
                                , c = function(t) {
                                const {response: e} = t
                                    , {prefetch: n} = e;
                                if (!x(n))
                                    return dn([]);
                                const {metrics: r} = n;
                                return _i(r, ei)
                            }(e)
                                , s = function(t) {
                                const {response: e} = t
                                    , {remoteMboxes: n, remoteViews: r, decisioningMethod: o} = e
                                    , i = {};
                                return x(n) && (i.remoteMboxes = n),
                                x(r) && (i.remoteViews = r),
                                P(o) && (i.decisioningMethod = o),
                                    dn(i)
                            }(e)
                                , u = function(t) {
                                const {response: e} = t
                                    , {notifications: n} = e;
                                return g(n) ? hn(nt(Pi, n)).then(jo) : dn([])
                            }(e);
                            return hn([n, r, o, i, c, s, u]).then(Di)
                        }
                        function Li(t) {
                            return !U(Ei(t))
                        }
                        function ji(t) {
                            const e = function() {
                                let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                                const {execute: e={}, prefetch: n={}} = t
                                    , {pageLoad: r={}, mboxes: o=[]} = e
                                    , {mboxes: i=[], views: c=[]} = n
                                    , s = Si(r)
                                    , u = _(nt(Si, o))
                                    , a = _(nt(Si, i))
                                    , f = _(nt(Si, c));
                                return _([s, u, a, f])
                            }(t)
                                , n = {};
                            return U(e) || (n.responseTokens = e),
                                n
                        }
                        function Vi(t) {
                            const e = oe().globalMboxName
                                , {mbox: n, timeout: r} = t
                                , o = x(t.params) ? t.params : {}
                                , i = {}
                                , c = {};
                            n === e ? c.pageLoad = {} : c.mboxes = [{
                                index: 0,
                                name: n
                            }],
                                i.execute = c;
                            const s = Co(n, i);
                            if (!U(s)) {
                                const t = {};
                                t.analytics = s,
                                    i.experienceCloud = t
                            }
                            return On({
                                mbox: n
                            }),
                                No(i, o).then(t=>Oo(t, r)).then(Ri).then(t=>function(t, e) {
                                    const n = ji(e);
                                    n.mbox = t;
                                    const r = Ci(e);
                                    return U(r) || (n.analyticsDetails = r),
                                        Be("request succeeded", e),
                                        _n(n, Li(e)),
                                        dn(e)
                                }(n, t))['catch'](t=>function(t, e) {
                                    return Ue("request failed", e),
                                        An({
                                            mbox: t,
                                            error: e
                                        }),
                                        pn(e)
                                }(n, t))
                        }
                        function Hi(t) {
                            const e = oe().globalMboxName
                                , {consumerId: n=e, request: r, timeout: o, page: i=!0} = t
                                , c = Co(n, r);
                            if (r.impressionId = r.impressionId || function(t) {
                                return !t && so || (so = Dt()),
                                    so
                            }(i),
                                !U(c)) {
                                const t = r.experienceCloud || {};
                                t.analytics = c,
                                    r.experienceCloud = t
                            }
                            return On({}),
                                No(r, {}).then(t=>Oo(t, o)).then(Ri).then(t=>function(t) {
                                    const e = ji(t)
                                        , n = Ci(t);
                                    return U(n) || (e.analyticsDetails = n),
                                        Be("request succeeded", t),
                                        _n(e, Li(t)),
                                        dn(t)
                                }(t))['catch'](t=>function(t) {
                                    return Ue("request failed", t),
                                        An({
                                            error: t
                                        }),
                                        pn(t)
                                }(t))
                        }
                        function Ui(t, e) {
                            return Fn(e).addClass(t)
                        }
                        function Bi(t, e) {
                            return Fn(e).css(t)
                        }
                        function Fi(t, e) {
                            return Fn(e).attr(t)
                        }
                        function zi(t, e, n) {
                            return Fn(n).attr(t, e)
                        }
                        function $i(t, e) {
                            return Fn(e).removeAttr(t)
                        }
                        function Ji(t, e, n) {
                            const r = Fi(t, n);
                            J(r) && ($i(t, n),
                                zi(e, r, n))
                        }
                        function Zi(t) {
                            return new Error("Could not find: " + t)
                        }
                        function Gi(t, e, n) {
                            return ln((r,o)=>{
                                    const i = an(()=>{
                                            const e = n(t);
                                            U(e) || (i.disconnect(),
                                                r(e))
                                        }
                                    );
                                    ft(()=>{
                                            i.disconnect(),
                                                o(Zi(t))
                                        }
                                        , e),
                                        i.observe(Kt, {
                                            childList: !0,
                                            subtree: !0
                                        })
                                }
                            )
                        }
                        function Ki() {
                            return "visible" === Kt.visibilityState
                        }
                        function Wi(t, e, n) {
                            return ln((r,o)=>{
                                    !function e() {
                                        const o = n(t);
                                        U(o) ? Wt.requestAnimationFrame(e) : r(o)
                                    }(),
                                        ft(()=>{
                                                o(Zi(t))
                                            }
                                            , e)
                                }
                            )
                        }
                        function Xi(t, e, n) {
                            return ln((r,o)=>{
                                    !function e() {
                                        const o = n(t);
                                        U(o) ? ft(e, 100) : r(o)
                                    }(),
                                        ft(()=>{
                                                o(Zi(t))
                                            }
                                            , e)
                                }
                            )
                        }
                        function Yi(t) {
                            let e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : oe().selectorsPollingTimeout
                                , n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : Fn;
                            const r = n(t);
                            return U(r) ? un() ? Gi(t, e, n) : Ki() ? Wi(t, e, n) : Xi(t, e, n) : dn(r)
                        }
                        function Qi(t) {
                            return Fi("data-at-src", t)
                        }
                        function tc(t) {
                            return J(Fi("data-at-src", t))
                        }
                        function ec(t) {
                            return q(t=>Ji(Vt, "data-at-src", t), j(Zn("img", t))),
                                t
                        }
                        function nc(t) {
                            return q(t=>Ji("data-at-src", Vt, t), j(Zn("img", t))),
                                t
                        }
                        function rc(t) {
                            return Be("Loading image", t),
                                Fi(Vt, zi(Vt, t, cn("<img/>")))
                        }
                        function oc(t) {
                            const e = O(tc, j(Zn("img", t)));
                            return U(e) || q(rc, nt(Qi, e)),
                                t
                        }
                        function ic(t) {
                            const e = Fi(Vt, t);
                            return J(e) ? e : null
                        }
                        function cc(t, e) {
                            return Ue("Unexpected error", e),
                                Je({
                                    action: t,
                                    error: e
                                }),
                                t
                        }
                        function sc(t, e) {
                            const n = Fn(e[jt])
                                , r = function(t) {
                                return A([ec, oc, nc])(t)
                            }($n(e[Lt]))
                                , o = function(t) {
                                return O(J, nt(ic, j(Zn("script", t))))
                            }(r);
                            let i;
                            try {
                                i = dn(t(n, r))
                            } catch (t) {
                                return pn(cc(e, t))
                            }
                            return U(o) ? i.then(()=>e)['catch'](t=>cc(e, t)) : i.then(()=>function(t) {
                                return ct((t,e)=>t.then(()=>(Be("Script load", e),
                                    Je({
                                        remoteScript: e
                                    }),
                                    jn(e))), dn(), t)
                            }(o)).then(()=>e)['catch'](t=>cc(e, t))
                        }
                        function uc(t) {
                            const e = h({}, t)
                                , n = e[Lt];
                            if ($(n))
                                return e;
                            const r = Fn(e[jt]);
                            return o = "head",
                                Fn(r).is(o) ? (e[Rt] = "appendHtml",
                                    e[Lt] = function(t) {
                                        return tt("", ct((t,e)=>(t.push(sr($n(e))),
                                            t), [], j(Zn("script,link,style", $n(t)))))
                                    }(n),
                                    e) : e;
                            var o
                        }
                        function ac(t) {
                            return t.indexOf("px") === t.length - 2 ? t : t + "px"
                        }
                        function fc(t, e) {
                            return n = sr(e),
                                Fn(t).html(n);
                            var n
                        }
                        function lc(t) {
                            const e = Fn(t[jt])
                                , n = t[Lt];
                            return Be("Rendering action", t),
                                Je({
                                    action: t
                                }),
                                function(t, e) {
                                    Fn(e).text(t)
                                }(n, e),
                                dn(t)
                        }
                        function dc(t, e) {
                            return cr(sr(e), t)
                        }
                        function pc(t, e) {
                            return n = sr(e),
                                Fn(t).prepend(n);
                            var n
                        }
                        function hc(t, e) {
                            const n = Jn(t);
                            return rr(ir(sr(e), t)),
                                n
                        }
                        function mc(t, e) {
                            return Fn(ir(sr(e), t)).prev()
                        }
                        function gc(t, e) {
                            return Fn(or(sr(e), t)).next()
                        }
                        function vc(t, e) {
                            return Jn(ir(sr(e), t))
                        }
                        function yc(t) {
                            const e = Fn(t[jt])
                                , n = t[Lt]
                                , r = n.priority;
                            return Be("Rendering action", t),
                                Je({
                                    action: t
                                }),
                                $(r) ? Bi(n, e) : function(t, e, n) {
                                    q(t=>{
                                            q((e,r)=>t.style.setProperty(r, e, n), e)
                                        }
                                        , j(t))
                                }(e, n, r),
                                dn(t)
                        }
                        function bc(t) {
                            const e = Fn(t[jt])
                                , n = t[Lt]
                                , r = Number(n.from)
                                , o = Number(n.to);
                            if (isNaN(r) && isNaN(o))
                                return Be('Rearrange has incorrect "from" and "to" indexes', t),
                                    pn(t);
                            const i = j(Fn(e).children());
                            const c = i[r]
                                , s = i[o];
                            return zn(c) && zn(s) ? (Be("Rendering action", t),
                                Je({
                                    action: t
                                }),
                                r < o ? or(c, s) : ir(c, s),
                                dn(t)) : (Be("Rearrange elements are missing", t),
                                pn(t))
                        }
                        function xc(t) {
                            const e = uc(t);
                            switch (e[Rt]) {
                                case "setHtml":
                                    return function(t) {
                                        return Be("Rendering action", t),
                                            sc(fc, t)
                                    }(e);
                                case "setText":
                                    return lc(e);
                                case "appendHtml":
                                    return function(t) {
                                        return Be("Rendering action", t),
                                            sc(dc, t)
                                    }(e);
                                case "prependHtml":
                                    return function(t) {
                                        return Be("Rendering action", t),
                                            sc(pc, t)
                                    }(e);
                                case "replaceHtml":
                                    return function(t) {
                                        return Be("Rendering action", t),
                                            sc(hc, t)
                                    }(e);
                                case "insertBefore":
                                    return function(t) {
                                        return Be("Rendering action", t),
                                            sc(mc, t)
                                    }(e);
                                case "insertAfter":
                                    return function(t) {
                                        return Be("Rendering action", t),
                                            sc(gc, t)
                                    }(e);
                                case "customCode":
                                    return function(t) {
                                        return Be("Rendering action", t),
                                            sc(vc, t)
                                    }(e);
                                case "setAttribute":
                                    return function(t) {
                                        const e = t[Lt]
                                            , n = Fn(t[jt]);
                                        return Be("Rendering action", t),
                                            Je({
                                                action: t
                                            }),
                                            q((t,e)=>zi(e, t, n), e),
                                            dn(t)
                                    }(e);
                                case "setImageSource":
                                    return function(t) {
                                        const e = t[Lt]
                                            , n = Fn(t[jt]);
                                        return Be("Rendering action", t),
                                            Je({
                                                action: t
                                            }),
                                            $i(Vt, n),
                                            zi(Vt, rc(e), n),
                                            dn(t)
                                    }(e);
                                case "setStyle":
                                    return yc(e);
                                case "resize":
                                    return function(t) {
                                        const e = Fn(t[jt])
                                            , n = t[Lt];
                                        return n.width = ac(n.width),
                                            n.height = ac(n.height),
                                            Be("Rendering action", t),
                                            Je({
                                                action: t
                                            }),
                                            Bi(n, e),
                                            dn(t)
                                    }(e);
                                case "move":
                                    return function(t) {
                                        const e = Fn(t[jt])
                                            , n = t[Lt];
                                        return n.left = ac(n.left),
                                            n.top = ac(n.top),
                                            Be("Rendering action", t),
                                            Je({
                                                action: t
                                            }),
                                            Bi(n, e),
                                            dn(t)
                                    }(e);
                                case "remove":
                                    return function(t) {
                                        const e = Fn(t[jt]);
                                        return Be("Rendering action", t),
                                            Je({
                                                action: t
                                            }),
                                            rr(e),
                                            dn(t)
                                    }(e);
                                case "rearrange":
                                    return bc(e);
                                default:
                                    return dn(e)
                            }
                        }
                        function wc(t) {
                            const e = t[jt];
                            return J(e) || Vn(e)
                        }
                        function Sc(t) {
                            const e = t.cssSelector;
                            $(e) || rr("#at-" + D(e))
                        }
                        function Ec(t) {
                            if (!wc(t))
                                return void Sc(t);
                            const e = t[jt];
                            !function(t) {
                                return "trackClick" === t[Rt] || "signalClick" === t[Rt]
                            }(t) ? (Ui("at-element-marker", e),
                                Sc(t)) : Ui("at-element-click-tracking", e)
                        }
                        function Tc(t) {
                            return function(t) {
                                const {key: e} = t;
                                if ($(e))
                                    return !0;
                                if ("customCode" === t[Rt])
                                    return t.page;
                                const n = Fi("at-action-key", t[jt]);
                                return n !== e || n === e && !t.page
                            }(t) ? xc(t).then(()=>(Be("Action rendered successfully", t),
                                Je({
                                    action: t
                                }),
                                function(t) {
                                    const {key: e} = t;
                                    if ($(e))
                                        return;
                                    if (!wc(t))
                                        return;
                                    zi("at-action-key", e, t[jt])
                                }(t),
                                Ec(t),
                                t))['catch'](e=>{
                                    Ue("Unexpected error", e),
                                        Je({
                                            action: t,
                                            error: e
                                        }),
                                        Ec(t);
                                    const n = h({}, t);
                                    return n[zt] = !0,
                                        n
                                }
                            ) : (Ec(t),
                                t)
                        }
                        function Cc(t) {
                            const e = O(t=>!0 === t[zt], t);
                            return U(e) ? dn() : (function(t) {
                                q(Ec, t)
                            }(e),
                                pn(t))
                        }
                        function kc(t) {
                            return function(t) {
                                return Yi(t[jt]).then(()=>t)['catch'](()=>{
                                        const e = h({}, t);
                                        return e[zt] = !0,
                                            e
                                    }
                                )
                            }(t).then(Tc)
                        }
                        function Ic(t, e, n) {
                            return Fn(n).on(t, e)
                        }
                        function Nc(t) {
                            const e = t.name
                                , n = kr("views") || {};
                            n[e] = t,
                                Cr("views", n)
                        }
                        function Oc(t) {
                            let e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                            const {page: n=!0} = e
                                , r = kr("views") || {}
                                , o = r[t];
                            if (m(o))
                                return o;
                            const {impressionId: i} = e;
                            return m(i) ? o : h({
                                page: n,
                                impressionId: i
                            }, o)
                        }
                        function _c(t) {
                            const e = Co(t, {})
                                , n = {
                                context: {
                                    beacon: !0
                                }
                            };
                            if (!U(e)) {
                                const t = {};
                                t.analytics = e,
                                    n.experienceCloud = t
                            }
                            return n
                        }
                        function Ac(t, e, n) {
                            const r = function(t, e) {
                                return Io(t, e, fo())
                            }(_c(t), e);
                            return r.notifications = n,
                                r
                        }
                        function qc(t, e, n) {
                            const r = Dt()
                                , o = rt()
                                , {parameters: i, profileParameters: c, order: s, product: u} = t
                                , a = {
                                id: r,
                                type: e,
                                timestamp: o,
                                parameters: i,
                                profileParameters: c,
                                order: s,
                                product: u
                            };
                            return U(n) || (a.tokens = n),
                                a
                        }
                        function Mc(t) {
                            const e = oo(oe());
                            return function(t, e) {
                                return "navigator"in (n = Wt) && "sendBeacon"in n.navigator ? function(t, e, n) {
                                    return t.navigator.sendBeacon(e, n)
                                }(Wt, t, e) : function(t, e, n) {
                                    const r = {
                                        "Content-Type": ["text/plain"]
                                    }
                                        , o = {
                                        method: "POST"
                                    };
                                    o.url = e,
                                        o.data = n,
                                        o.credentials = !0,
                                        o.async = !1,
                                        o.headers = r;
                                    try {
                                        t(o)
                                    } catch (t) {
                                        return !1
                                    }
                                    return !0
                                }(pi, t, e);
                                var n
                            }(e, JSON.stringify(t)) ? (Be("Beacon data sent", e, t),
                                !0) : (Ue("Beacon data sent failed", e, t),
                                !1)
                        }
                        function Pc(t, e, n) {
                            const r = Vr(oe().globalMboxName)
                                , o = qc(So({}, r), e, [n])
                                , i = Ac(Dt(), r, [o]);
                            Be("Event handler notification", t, o),
                                Je({
                                    source: t,
                                    event: e,
                                    request: i
                                }),
                                Mc(i)
                        }
                        function Dc(t, e, n) {
                            const r = Vr(t)
                                , o = qc(So({}, r), e, [n]);
                            o.mbox = {
                                name: t
                            };
                            const i = Ac(Dt(), r, [o]);
                            Be("Mbox event handler notification", t, o),
                                Je({
                                    mbox: t,
                                    event: e,
                                    request: i
                                }),
                                Mc(i)
                        }
                        function Rc(t) {
                            const e = oe().globalMboxName
                                , n = []
                                , r = Gt;
                            if (q(t=>{
                                    const {mbox: e, data: o} = t;
                                    if (m(o))
                                        return;
                                    const {eventTokens: i=[]} = o;
                                    U(i) || n.push(function(t, e, n) {
                                        const {name: r, state: o} = t
                                            , i = qc(t, e, n);
                                        return i.mbox = {
                                            name: r,
                                            state: o
                                        },
                                            i
                                    }(e, r, i))
                                }
                                , t),
                                U(n))
                                return;
                            const o = Ac(e, {}, n);
                            Be("Mboxes rendered notification", n),
                                Je({
                                    source: "prefetchMboxes",
                                    event: "rendered",
                                    request: o
                                }),
                                Mc(o)
                        }
                        function Lc(t, e, n) {
                            const r = Vr(oe().globalMboxName)
                                , o = qc(So({}, r), e, [n]);
                            o.view = {
                                name: t
                            };
                            const i = Ac(Dt(), r, [o]);
                            Be("View event handler notification", t, o),
                                Je({
                                    view: t,
                                    event: e,
                                    request: i
                                }),
                                Mc(i)
                        }
                        function jc(t) {
                            const {viewName: e, impressionId: n} = t
                                , r = Vr(oe().globalMboxName)
                                , o = qc(So({}, r), Gt, []);
                            o.view = {
                                name: e
                            },
                                Be("View triggered notification", e),
                                function(t, e, n) {
                                    return No(_c(t), e).then(t=>(t.notifications = n,
                                        t))
                                }(e, r, [o]).then(t=>{
                                        t.impressionId = n,
                                            Je({
                                                view: e,
                                                event: "triggered",
                                                request: t
                                            }),
                                            Mc(t)
                                    }
                                )
                        }
                        function Vc(t) {
                            if (m(t))
                                return;
                            const {view: e, data: n={}} = t
                                , {eventTokens: r=[]} = n
                                , {name: o, impressionId: i} = e
                                , c = Oc(o);
                            if (m(c))
                                return;
                            const s = Ac(o, {}, [function(t, e, n) {
                                const {name: r, state: o} = t
                                    , i = qc(t, e, n);
                                return i.view = {
                                    name: r,
                                    state: o
                                },
                                    i
                            }(c, Gt, r)]);
                            s.impressionId = i,
                                Be("View rendered notification", o, r),
                                Je({
                                    view: o,
                                    event: "rendered",
                                    request: s
                                }),
                                Mc(s)
                        }
                        const Hc = {}
                            , Uc = _o("metrics")
                            , Bc = ()=>Wo("metric")
                            , Fc = t=>Xo("metric", t);
                        function zc(t, e, n) {
                            if (!m(Hc[t]))
                                return;
                            const r = T(Hc);
                            U(r) || q(t=>{
                                    q(r=>{
                                            const o = Hc[t][r];
                                            !function(t, e, n) {
                                                Fn(n).off(t, e)
                                            }(e, o, n)
                                        }
                                        , T(Hc[t])),
                                        delete Hc[t]
                                }
                                , r)
                        }
                        function $c(t, e, n, r) {
                            const {type: o, selector: i, eventToken: c} = n
                                , s = D(o + ":" + i + ":" + c)
                                , u = ()=>r(t, o, c);
                            !function(t, e) {
                                "click" === t && Ui("at-element-click-tracking", e)
                            }(o, i),
                                e ? function(t, e) {
                                    return !m(Hc[t]) && !m(Hc[t][e])
                                }(t, s) || (zc(t, o, i),
                                    function(t, e, n) {
                                        Hc[t] = Hc[t] || {},
                                            Hc[t][e] = n
                                    }(t, s, u),
                                    Ic(o, u, i)) : Ic(o, u, i)
                        }
                        function Jc(t, e, n, r) {
                            return function(t) {
                                return Yi(t[jt]).then(()=>{
                                        Je({
                                            metric: t
                                        });
                                        return h({
                                            found: !0
                                        }, t)
                                    }
                                )['catch'](()=>(Ue("metric element not found", t),
                                    Je({
                                        metric: t,
                                        message: "metric element not found"
                                    }),
                                    t))
                            }(n).then(n=>{
                                    n.found && $c(t, e, n, r)
                                }
                            )
                        }
                        function Zc(t, e, n, r) {
                            return hn(nt(n=>Jc(t, e, n, r), n)).then(Bc)['catch'](Fc)
                        }
                        function Gc(t) {
                            const {name: e} = t;
                            return Zc(e, !1, Uc(t), Dc)
                        }
                        function Kc(t) {
                            const {name: e} = t;
                            return Zc(e, !0, Uc(t), Lc)
                        }
                        function Wc(t) {
                            return Zc("pageLoadMetrics", !1, Uc(t), Pc)
                        }
                        function Xc(t) {
                            return Zc("prefetchMetrics", !1, Uc(t), Pc)
                        }
                        const Yc = _o(Lt)
                            , Qc = _o("cssSelector")
                            , ts = t=>Xo("render", t)
                            , es = t=>Ao(Do)(t) && Ko(t);
                        function ns(t) {
                            const e = nt(Qc, t);
                            var n;
                            n = Vo(e),
                                ar(oe(), n)
                        }
                        function rs(t) {
                            const e = nt(Qc, t);
                            var n;
                            n = jo(e),
                                fr(oe(), n)
                        }
                        function os(t) {
                            const e = O(Ro, Ho(t));
                            return _(nt(Yc, e))
                        }
                        function is(t) {
                            return x(t) && "setJson" !== t.type
                        }
                        function cs(t, e, n) {
                            const {eventToken: r, responseTokens: o, content: i} = t;
                            return function(t) {
                                return hn(nt(kc, t)).then(Cc)
                            }(function(t, e, n) {
                                return nt(t=>h({
                                    key: e,
                                    page: n
                                }, t), O(is, t))
                            }(i, e, n)).then(()=>Wo("render", {
                                eventToken: r,
                                responseTokens: o
                            }))['catch'](ts)
                        }
                        function ss(t) {
                            return x(t) && "json" !== t.type
                        }
                        function us(t, e) {
                            return nt(t, O(ss, Ho(e)))
                        }
                        function as(t, e, n) {
                            const r = {
                                status: Jt,
                                [t]: e
                            }
                                , o = nt(Go, O(Do, n))
                                , i = {};
                            return U(o) || (r.status = zt,
                                i.errors = o),
                            U(i) || (r.data = i),
                                r
                        }
                        function fs(t, e, n) {
                            return hn(us(t=>cs(t, !0), t)).then(e).then(e=>(n(t),
                                e))
                        }
                        function ls(t, e, n, r) {
                            const {name: o} = e;
                            return hn(us(t=>cs(t, o, n), e)).then(n=>function(t, e, n) {
                                const r = {
                                    status: Jt,
                                    [t]: e
                                }
                                    , o = nt(Go, O(Do, n))
                                    , i = nt(Go, O(es, n))
                                    , c = jo(nt(Bo, i))
                                    , s = jo(nt(Fo, i))
                                    , u = {};
                                return U(o) || (r.status = zt,
                                    u.errors = o),
                                U(c) || (u.eventTokens = c),
                                U(s) || (u.responseTokens = s),
                                U(u) || (r.data = u),
                                    r
                            }(t, e, n)).then(t=>(r(e),
                                t))
                        }
                        function ds(t) {
                            return fs(t, e=>as("mbox", t, e), Gc)
                        }
                        function ps(t) {
                            return ls("mbox", t, !0, Gc)
                        }
                        function hs(t) {
                            ns(os(t))
                        }
                        function ms(t) {
                            let e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                            if (e)
                                return;
                            const {execute: n={}} = t
                                , {pageLoad: r={}} = n;
                            U(r) || hs(r)
                        }
                        function gs(t) {
                            ns(os(t)),
                            zn("#at-views") && rr("#at-views")
                        }
                        var vs = {
                            exports: {}
                        };
                        function ys() {}
                        ys.prototype = {
                            on: function(t, e, n) {
                                var r = this.e || (this.e = {});
                                return (r[t] || (r[t] = [])).push({
                                    fn: e,
                                    ctx: n
                                }),
                                    this
                            },
                            once: function(t, e, n) {
                                var r = this;
                                function o() {
                                    r.off(t, o),
                                        e.apply(n, arguments)
                                }
                                return o._ = e,
                                    this.on(t, o, n)
                            },
                            emit: function(t) {
                                for (var e = [].slice.call(arguments, 1), n = ((this.e || (this.e = {}))[t] || []).slice(), r = 0, o = n.length; r < o; r++)
                                    n[r].fn.apply(n[r].ctx, e);
                                return this
                            },
                            off: function(t, e) {
                                var n = this.e || (this.e = {})
                                    , r = n[t]
                                    , o = [];
                                if (r && e)
                                    for (var i = 0, c = r.length; i < c; i++)
                                        r[i].fn !== e && r[i].fn._ !== e && o.push(r[i]);
                                return o.length ? n[t] = o : delete n[t],
                                    this
                            }
                        },
                            vs.exports = ys,
                            vs.exports.TinyEmitter = ys;
                        const bs = new (0,
                            vs.exports);
                        function xs(t, e) {
                            !function(t, e, n) {
                                t.emit(e, n)
                            }(bs, t, e)
                        }
                        function ws(t, e) {
                            !function(t, e, n) {
                                t.on(e, n)
                            }(bs, t, e)
                        }
                        function Ss(t) {
                            return {
                                type: "redirect",
                                content: t.url
                            }
                        }
                        function Es(t) {
                            const e = {};
                            if (U(t))
                                return e;
                            const n = []
                                , r = []
                                , o = [];
                            q(t=>{
                                    switch (t.action) {
                                        case "setContent":
                                            J((e = t).selector) && J(e.cssSelector) ? o.push(function(t) {
                                                const e = {
                                                    type: "setHtml"
                                                };
                                                return e.content = t.content,
                                                    e.selector = t.selector,
                                                    e.cssSelector = t.cssSelector,
                                                    e
                                            }(t)) : n.push({
                                                type: "html",
                                                content: t.content
                                            });
                                            break;
                                        case "setJson":
                                            U(t.content) || q(t=>n.push({
                                                type: "json",
                                                content: t
                                            }), t.content);
                                            break;
                                        case "setText":
                                            o.push(function(t) {
                                                const e = {
                                                    type: "setText"
                                                };
                                                return e.content = t.content,
                                                    e.selector = t.selector,
                                                    e.cssSelector = t.cssSelector,
                                                    e
                                            }(t));
                                            break;
                                        case "appendContent":
                                            o.push(function(t) {
                                                const e = {
                                                    type: "appendHtml"
                                                };
                                                return e.content = t.content,
                                                    e.selector = t.selector,
                                                    e.cssSelector = t.cssSelector,
                                                    e
                                            }(t));
                                            break;
                                        case "prependContent":
                                            o.push(function(t) {
                                                const e = {
                                                    type: "prependHtml"
                                                };
                                                return e.content = t.content,
                                                    e.selector = t.selector,
                                                    e.cssSelector = t.cssSelector,
                                                    e
                                            }(t));
                                            break;
                                        case "replaceContent":
                                            o.push(function(t) {
                                                const e = {
                                                    type: "replaceHtml"
                                                };
                                                return e.content = t.content,
                                                    e.selector = t.selector,
                                                    e.cssSelector = t.cssSelector,
                                                    e
                                            }(t));
                                            break;
                                        case "insertBefore":
                                            o.push(function(t) {
                                                const e = {
                                                    type: "insertBefore"
                                                };
                                                return e.content = t.content,
                                                    e.selector = t.selector,
                                                    e.cssSelector = t.cssSelector,
                                                    e
                                            }(t));
                                            break;
                                        case "insertAfter":
                                            o.push(function(t) {
                                                const e = {
                                                    type: "insertAfter"
                                                };
                                                return e.content = t.content,
                                                    e.selector = t.selector,
                                                    e.cssSelector = t.cssSelector,
                                                    e
                                            }(t));
                                            break;
                                        case "customCode":
                                            o.push(function(t) {
                                                const e = {
                                                    type: "customCode"
                                                };
                                                return e.content = t.content,
                                                    e.selector = t.selector,
                                                    e.cssSelector = t.cssSelector,
                                                    e
                                            }(t));
                                            break;
                                        case "setAttribute":
                                            o.push(function(t) {
                                                const e = {};
                                                if (e.selector = t.selector,
                                                    e.cssSelector = t.cssSelector,
                                                t.attribute === Vt)
                                                    return e.type = "setImageSource",
                                                        e.content = t.value,
                                                        e;
                                                e.type = "setAttribute";
                                                const n = {};
                                                return n[t.attribute] = t.value,
                                                    e.content = n,
                                                    e
                                            }(t));
                                            break;
                                        case "setStyle":
                                            o.push(function(t) {
                                                const {style: e={}} = t
                                                    , n = {};
                                                return n.selector = t.selector,
                                                    n.cssSelector = t.cssSelector,
                                                    m(e.left) || m(e.top) ? m(e.width) || m(e.height) ? (n.type = "setStyle",
                                                        n.content = e,
                                                        n) : (n.type = "resize",
                                                        n.content = e,
                                                        n) : (n.type = "move",
                                                        n.content = e,
                                                        n)
                                            }(t));
                                            break;
                                        case "remove":
                                            o.push(function(t) {
                                                const e = {
                                                    type: "remove"
                                                };
                                                return e.selector = t.selector,
                                                    e.cssSelector = t.cssSelector,
                                                    e
                                            }(t));
                                            break;
                                        case "rearrange":
                                            o.push(function(t) {
                                                const e = {};
                                                e.from = t.from,
                                                    e.to = t.to;
                                                const n = {
                                                    type: "rearrange"
                                                };
                                                return n.selector = t.selector,
                                                    n.cssSelector = t.cssSelector,
                                                    n.content = e,
                                                    n
                                            }(t));
                                            break;
                                        case "redirect":
                                            n.push(Ss(t));
                                            break;
                                        case "trackClick":
                                            r.push({
                                                type: "click",
                                                selector: t.selector,
                                                eventToken: t.clickTrackId
                                            })
                                    }
                                    var e
                                }
                                , t);
                            const i = {};
                            !U(o) && n.push({
                                type: "actions",
                                content: o
                            });
                            !U(n) && (i.options = n);
                            if (!U(r) && (i.metrics = r),
                                U(i))
                                return e;
                            const c = {};
                            return c.pageLoad = i,
                                e.execute = c,
                                e
                        }
                        function Ts(t, e, n) {
                            return n ? Es(e) : function(t, e) {
                                const n = {};
                                if (U(e))
                                    return n;
                                const r = []
                                    , o = [];
                                q(t=>{
                                        switch (t.action) {
                                            case "setContent":
                                                r.push({
                                                    type: "html",
                                                    content: t.content
                                                });
                                                break;
                                            case "setJson":
                                                U(t.content) || q(t=>r.push({
                                                    type: "json",
                                                    content: t
                                                }), t.content);
                                                break;
                                            case "redirect":
                                                r.push(Ss(t));
                                                break;
                                            case "signalClick":
                                                o.push({
                                                    type: "click",
                                                    eventToken: t.clickTrackId
                                                })
                                        }
                                    }
                                    , e);
                                const i = {
                                    name: t
                                };
                                if (!U(r) && (i.options = r),
                                !U(o) && (i.metrics = o),
                                    U(i))
                                    return n;
                                const c = {}
                                    , s = [i];
                                return c.mboxes = s,
                                    n.execute = c,
                                    n
                            }(t, e)
                        }
                        const Cs = t=>!U(O(Do, t));
                        function ks(t) {
                            const {status: e, data: n} = t
                                , r = {
                                status: e,
                                pageLoad: !0
                            };
                            return m(n) || (r.data = n),
                                r
                        }
                        function Is(t) {
                            const {status: e, mbox: n, data: r} = t
                                , {name: o} = n
                                , i = {
                                status: e,
                                mbox: o
                            };
                            return m(r) || (i.data = r),
                                i
                        }
                        function Ns(t) {
                            const {status: e, view: n, data: r} = t
                                , {name: o} = n
                                , i = {
                                status: e,
                                view: o
                            };
                            return m(r) || (i.data = r),
                                i
                        }
                        function Os(t) {
                            const {status: e, data: n} = t
                                , r = {
                                status: e,
                                prefetchMetrics: !0
                            };
                            return m(n) || (r.data = n),
                                r
                        }
                        function _s(t) {
                            if (m(t))
                                return [null];
                            const e = nt(ks, [t]);
                            return Cs(e) && Ue("Page load rendering failed", t),
                                e
                        }
                        function As(t) {
                            if (m(t))
                                return [null];
                            const e = nt(Is, t);
                            return Cs(e) && Ue("Mboxes rendering failed", t),
                                e
                        }
                        function qs(t) {
                            let e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : Rc;
                            if (m(t))
                                return [null];
                            const n = nt(Is, t);
                            return Cs(n) && Ue("Mboxes rendering failed", t),
                                e(t),
                                n
                        }
                        function Ms(t) {
                            let e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : Vc;
                            if (m(t))
                                return [null];
                            const n = nt(Ns, [t]);
                            Cs(n) && Ue("View rendering failed", t);
                            const {view: r} = t;
                            return r.page ? (e(t),
                                n) : n
                        }
                        function Ps(t) {
                            if (m(t))
                                return [null];
                            const e = nt(Os, [t]);
                            return Cs(e) && Ue("Prefetch rendering failed", t),
                                e
                        }
                        function Ds(t) {
                            const e = _([_s(t[0]), As(t[1]), qs(t[2]), Ps(t[3])])
                                , n = O(qo, e)
                                , r = O(Do, n);
                            return U(r) ? dn(n) : pn(r)
                        }
                        function Rs(t) {
                            return pn(t)
                        }
                        function Ls(t, e) {
                            if (U(e))
                                return;
                            const {options: n} = e;
                            U(n) || q(e=>{
                                    if ("html" !== e.type)
                                        return;
                                    const {content: n} = e;
                                    e.type = "actions",
                                        e.content = [{
                                            type: "setHtml",
                                            selector: t,
                                            content: n
                                        }]
                                }
                                , n)
                        }
                        function js(t, e) {
                            const {metrics: n} = e;
                            if (U(n))
                                return;
                            const {name: r} = e;
                            q(e=>{
                                    e.name = r,
                                        e.selector = e.selector || t
                                }
                                , n)
                        }
                        function Vs(t, e) {
                            const n = h({}, e)
                                , {execute: r={}, prefetch: o={}} = n
                                , {pageLoad: i={}, mboxes: c=[]} = r
                                , {mboxes: s=[]} = o;
                            return Ls(t, i),
                                q(e=>Ls(t, e), c),
                                q(e=>js(t, e), c),
                                q(e=>Ls(t, e), s),
                                q(e=>js(t, e), s),
                                n
                        }
                        function Hs(t) {
                            const {prefetch: e={}} = t
                                , {views: n=[]} = e;
                            U(n) || function(t) {
                                q(Nc, t)
                            }(n)
                        }
                        function Us(t) {
                            const e = []
                                , {execute: n={}} = t
                                , {pageLoad: r={}, mboxes: o=[]} = n;
                            U(r) ? e.push(dn(null)) : e.push(function(t) {
                                return fs(t, e=>as("pageLoad", t, e), Wc)
                            }(r)),
                                U(o) ? e.push(dn(null)) : e.push(function(t) {
                                    return hn(nt(ds, t))
                                }(o));
                            const {prefetch: i={}} = t
                                , {mboxes: c=[], metrics: s=[]} = i;
                            return U(c) ? e.push(dn(null)) : e.push(function(t) {
                                return hn(nt(ps, t))
                            }(c)),
                                g(s) && !U(s) ? e.push(function(t) {
                                    return hn([Xc(t)]).then(as)
                                }(i)) : e.push(dn(null)),
                                dr(),
                                hn(e).then(Ds)['catch'](Rs)
                        }
                        function Bs(t, e) {
                            ft(()=>t.location.replace(e))
                        }
                        function Fs(t) {
                            return J(t) || Vn(t) ? t : "head"
                        }
                        function zs(t) {
                            Ui("at-element-marker", t)
                        }
                        function $s() {
                            let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                            const {prefetch: e={}} = t
                                , {execute: n={}} = t
                                , {pageLoad: r={}} = n
                                , {mboxes: o=[]} = n
                                , {pageLoad: i={}} = e
                                , {views: c=[]} = e
                                , {mboxes: s=[]} = e;
                            return U(r) && U(o) && U(i) && U(c) && U(s)
                        }
                        function Js(t) {
                            let e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                            const {selector: n, response: r} = t;
                            if ($s(r))
                                return Be(Ft),
                                    zs(n),
                                    dr(),
                                    Dn({}),
                                    xs("no-offers-event"),
                                    dn();
                            const o = Vs(n, r)
                                , i = Ei(o);
                            if (!U(i)) {
                                const {url: t} = i;
                                return Be("Redirect action", i),
                                    Rn({
                                        url: t
                                    }),
                                    xs("redirect-offer-event"),
                                    Bs(Wt, t),
                                    dn()
                            }
                            return qn({}),
                                Hs(o),
                                xs("cache-updated-event"),
                                ms(o, e),
                                Us(o).then(t=>{
                                        U(t) || Mn({
                                            execution: t
                                        })
                                    }
                                )['catch'](t=>Pn({
                                    error: t
                                }))
                        }
                        const Zs = "[page-init]";
                        function Gs(t) {
                            Ue(Zs, "View delivery error", t),
                                xs("no-offers-event"),
                                Je({
                                    source: Zs,
                                    error: t
                                }),
                                dr()
                        }
                        function Ks(t) {
                            let e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                            const n = {
                                selector: "head",
                                response: t
                            };
                            Be(Zs, "response", t),
                                Je({
                                    source: Zs,
                                    response: t
                                }),
                                Js(n, e)['catch'](Gs)
                        }
                        function Ws(t) {
                            const e = function(t) {
                                return t.serverState
                            }(t)
                                , {request: n, response: r} = e;
                            Be(Zs, "Using server state"),
                                Je({
                                    source: Zs,
                                    serverState: e
                                });
                            const o = function(t, e) {
                                const n = h({}, e)
                                    , {execute: r, prefetch: o} = n
                                    , i = t.pageLoadEnabled
                                    , c = t.viewsEnabled;
                                return r && (n.execute.mboxes = void 0),
                                r && !i && (n.execute.pageLoad = void 0),
                                o && (n.prefetch.mboxes = void 0),
                                o && !c && (n.prefetch.views = void 0),
                                    n
                            }(t, r);
                            ms(o),
                                function(t) {
                                    const {prefetch: e={}} = t
                                        , {views: n=[]} = e;
                                    if (U(n))
                                        return;
                                    rs(_(nt(os, n)))
                                }(o),
                                function(t) {
                                    window.__target_telemetry.addServerStateEntry(t)
                                }(n),
                                Ri({
                                    request: n,
                                    response: o
                                }).then(t=>Ks(t, !0))['catch'](Gs)
                        }
                        function Xs() {
                            if (!Pe() && !Re())
                                return Ue(Zs, Ht),
                                    void Je({
                                        source: Zs,
                                        error: Ht
                                    });
                            const t = oe();
                            if (function(t) {
                                const e = t.serverState;
                                if (U(e))
                                    return !1;
                                const {request: n, response: r} = e;
                                return !U(n) && !U(r)
                            }(t))
                                return void Ws(t);
                            const e = t.pageLoadEnabled
                                , n = t.viewsEnabled;
                            if (!e && !n)
                                return Be(Zs, "Page load disabled"),
                                    void Je({
                                        source: Zs,
                                        error: "Page load disabled"
                                    });
                            lr();
                            const r = {};
                            if (e) {
                                const t = {
                                    pageLoad: {}
                                };
                                r.execute = t
                            }
                            if (n) {
                                const t = {
                                    views: [{}]
                                };
                                r.prefetch = t
                            }
                            const o = t.timeout;
                            Be(Zs, "request", r),
                                Je({
                                    source: Zs,
                                    request: r
                                });
                            const i = {
                                request: r,
                                timeout: o
                            };
                            yn() && !bn() ? xn().then(()=>{
                                    Hi(i).then(Ks)['catch'](Gs)
                                }
                            )['catch'](Gs) : Hi(i).then(Ks)['catch'](Gs)
                        }
                        function Ys() {
                            const t = {
                                valid: !0
                            };
                            return t
                        }
                        function Qs(t) {
                            const e = {
                                valid: !1
                            };
                            return e[zt] = t,
                                e
                        }
                        function tu(t) {
                            return $(t) ? Qs("mbox option is required") : t.length > 250 ? Qs("mbox option is too long") : Ys()
                        }
                        function eu(t) {
                            return {
                                action: "redirect",
                                url: t.content
                            }
                        }
                        function nu(t) {
                            const e = [];
                            return q(t=>{
                                    const {type: n} = t;
                                    switch (n) {
                                        case "setHtml":
                                            e.push(function(t) {
                                                const e = {
                                                    action: "setContent"
                                                };
                                                return e.content = t.content,
                                                    e.selector = t.selector,
                                                    e.cssSelector = t.cssSelector,
                                                    e
                                            }(t));
                                            break;
                                        case "setText":
                                            e.push(function(t) {
                                                const e = {
                                                    action: "setText"
                                                };
                                                return e.content = t.content,
                                                    e.selector = t.selector,
                                                    e.cssSelector = t.cssSelector,
                                                    e
                                            }(t));
                                            break;
                                        case "appendHtml":
                                            e.push(function(t) {
                                                const e = {
                                                    action: "appendContent"
                                                };
                                                return e.content = t.content,
                                                    e.selector = t.selector,
                                                    e.cssSelector = t.cssSelector,
                                                    e
                                            }(t));
                                            break;
                                        case "prependHtml":
                                            e.push(function(t) {
                                                const e = {
                                                    action: "prependContent"
                                                };
                                                return e.content = t.content,
                                                    e.selector = t.selector,
                                                    e.cssSelector = t.cssSelector,
                                                    e
                                            }(t));
                                            break;
                                        case "replaceHtml":
                                            e.push(function(t) {
                                                const e = {
                                                    action: "replaceContent"
                                                };
                                                return e.content = t.content,
                                                    e.selector = t.selector,
                                                    e.cssSelector = t.cssSelector,
                                                    e
                                            }(t));
                                            break;
                                        case "insertBefore":
                                            e.push(function(t) {
                                                const e = {
                                                    action: "insertBefore"
                                                };
                                                return e.content = t.content,
                                                    e.selector = t.selector,
                                                    e.cssSelector = t.cssSelector,
                                                    e
                                            }(t));
                                            break;
                                        case "insertAfter":
                                            e.push(function(t) {
                                                const e = {
                                                    action: "insertAfter"
                                                };
                                                return e.content = t.content,
                                                    e.selector = t.selector,
                                                    e.cssSelector = t.cssSelector,
                                                    e
                                            }(t));
                                            break;
                                        case "customCode":
                                            e.push(function(t) {
                                                const e = {
                                                    action: "customCode"
                                                };
                                                return e.content = t.content,
                                                    e.selector = t.selector,
                                                    e.cssSelector = t.cssSelector,
                                                    e
                                            }(t));
                                            break;
                                        case "setAttribute":
                                            e.push(function(t) {
                                                const e = T(t.content)[0]
                                                    , n = {
                                                    action: "setAttribute"
                                                };
                                                return n.attribute = e,
                                                    n.value = t.content[e],
                                                    n.selector = t.selector,
                                                    n.cssSelector = t.cssSelector,
                                                    n
                                            }(t));
                                            break;
                                        case "setImageSource":
                                            e.push(function(t) {
                                                const e = {
                                                    action: "setAttribute"
                                                };
                                                return e.attribute = Vt,
                                                    e.value = t.content,
                                                    e.selector = t.selector,
                                                    e.cssSelector = t.cssSelector,
                                                    e
                                            }(t));
                                            break;
                                        case "setStyle":
                                            e.push(function(t) {
                                                const e = {
                                                    action: "setStyle"
                                                };
                                                return e.style = t.content,
                                                    e.selector = t.selector,
                                                    e.cssSelector = t.cssSelector,
                                                    e
                                            }(t));
                                            break;
                                        case "resize":
                                            e.push(function(t) {
                                                const e = {
                                                    action: "setStyle"
                                                };
                                                return e.style = t.content,
                                                    e.selector = t.selector,
                                                    e.cssSelector = t.cssSelector,
                                                    e
                                            }(t));
                                            break;
                                        case "move":
                                            e.push(function(t) {
                                                const e = {
                                                    action: "setStyle"
                                                };
                                                return e.style = t.content,
                                                    e.selector = t.selector,
                                                    e.cssSelector = t.cssSelector,
                                                    e
                                            }(t));
                                            break;
                                        case "remove":
                                            e.push(function(t) {
                                                const e = {
                                                    action: "remove"
                                                };
                                                return e.selector = t.selector,
                                                    e.cssSelector = t.cssSelector,
                                                    e
                                            }(t));
                                            break;
                                        case "rearrange":
                                            e.push(function(t) {
                                                const e = {
                                                    action: "rearrange"
                                                };
                                                return e.from = t.content.from,
                                                    e.to = t.content.to,
                                                    e.selector = t.selector,
                                                    e.cssSelector = t.cssSelector,
                                                    e
                                            }(t));
                                            break;
                                        case "redirect":
                                            e.push(eu(t))
                                    }
                                }
                                , t),
                                e
                        }
                        function ru(t) {
                            if (U(t))
                                return [];
                            const e = [];
                            return q(t=>{
                                    "click" === t.type && (J(t.selector) ? e.push({
                                        action: "trackClick",
                                        selector: t.selector,
                                        clickTrackId: t.eventToken
                                    }) : e.push({
                                        action: "signalClick",
                                        clickTrackId: t.eventToken
                                    }))
                                }
                                , t),
                                e
                        }
                        function ou(t) {
                            if (U(t))
                                return [];
                            const e = []
                                , n = []
                                , r = []
                                , {options: o=[], metrics: i=[]} = t;
                            q(t=>{
                                    const {type: o} = t;
                                    switch (o) {
                                        case "html":
                                            e.push(t.content);
                                            break;
                                        case "json":
                                            n.push(t.content);
                                            break;
                                        case "redirect":
                                            r.push(eu(t));
                                            break;
                                        case "actions":
                                            r.push.apply(r, nu(t.content))
                                    }
                                }
                                , o),
                            U(e) || r.push({
                                action: "setContent",
                                content: e.join("")
                            }),
                            U(n) || r.push({
                                action: "setJson",
                                content: n
                            });
                            const c = ru(i);
                            return U(c) || r.push.apply(r, c),
                                r
                        }
                        const iu = "[getOffer()]";
                        function cu(t, e) {
                            const n = function(t) {
                                const {execute: e={}} = t
                                    , {pageLoad: n={}} = e
                                    , {mboxes: r=[]} = e
                                    , o = [];
                                return o.push.apply(o, ou(n)),
                                    o.push.apply(o, _(nt(ou, r))),
                                    o
                            }(e);
                            t[Jt](n)
                        }
                        function su(t) {
                            const e = function(t) {
                                if (!x(t))
                                    return Qs(Ut);
                                const e = tu(t.mbox);
                                return e[$t] ? w(t[Jt]) ? w(t[zt]) ? Ys() : Qs("error option is required") : Qs("success option is required") : e
                            }(t)
                                , n = e[zt];
                            if (!e[$t])
                                return Ue(iu, n),
                                    void Je({
                                        source: iu,
                                        options: t,
                                        error: n
                                    });
                            if (!Pe() && !Re())
                                return ft(t[zt]("warning", Ht)),
                                    Ue(iu, Ht),
                                    void Je({
                                        source: iu,
                                        options: t,
                                        error: Ht
                                    });
                            const r = e=>cu(t, e)
                                , o = e=>function(t, e) {
                                const n = e.status || "unknown";
                                t[zt](n, e)
                            }(t, e);
                            Be(iu, t),
                                Je({
                                    source: iu,
                                    options: t
                                }),
                                yn() && !bn() ? xn().then(()=>{
                                        Vi(t).then(r)['catch'](o)
                                    }
                                ) : Vi(t).then(r)['catch'](o)
                        }
                        const uu = "[getOffers()]";
                        function au(t) {
                            const e = function(t) {
                                if (!x(t))
                                    return Qs(Ut);
                                const {request: e} = t;
                                if (!x(e))
                                    return Qs("request option is required");
                                const {execute: n, prefetch: r} = e;
                                return x(n) || x(r) ? Ys() : Qs("execute or prefetch is required")
                            }(t)
                                , n = e[zt];
                            return e[$t] ? Pe() || Re() ? (Be(uu, t),
                                Je({
                                    source: uu,
                                    options: t
                                }),
                                !yn() || bn() ? Hi(t) : xn().then(()=>Hi(t))) : (Ue(uu, Ht),
                                Je({
                                    source: uu,
                                    options: t,
                                    error: Ht
                                }),
                                pn(new Error(Ht))) : (Ue(uu, n),
                                Je({
                                    source: uu,
                                    options: t,
                                    error: n
                                }),
                                pn(e))
                        }
                        const fu = "[applyOffer()]";
                        function lu(t) {
                            const e = Fs(t.selector)
                                , n = D(e);
                            Nt.timeStart(n);
                            const r = function(t) {
                                if (!x(t))
                                    return Qs(Ut);
                                const e = tu(t.mbox);
                                if (!e[$t])
                                    return e;
                                const n = t.offer;
                                return g(n) ? Ys() : Qs("offer option is required")
                            }(t)
                                , o = r[zt];
                            if (!r[$t])
                                return Ue(fu, t, o),
                                    Je({
                                        source: fu,
                                        options: t,
                                        error: o
                                    }),
                                    void zs(e);
                            if (!Pe() && !Re())
                                return Ue(fu, Ht),
                                    Je({
                                        source: fu,
                                        options: t,
                                        error: Ht
                                    }),
                                    void zs(e);
                            t.selector = e,
                                Be(fu, t),
                                Je({
                                    source: fu,
                                    options: t
                                }),
                                function(t) {
                                    const {mbox: e, selector: n, offer: r} = t
                                        , o = oe()
                                        , i = e === o.globalMboxName;
                                    if (U(r))
                                        return Be(Ft),
                                            zs(n),
                                            dr(),
                                            void Dn({
                                                mbox: e
                                            });
                                    const c = Vs(n, Ts(e, r, i))
                                        , s = Ei(c);
                                    if (!U(s)) {
                                        const {url: t} = s;
                                        return Be("Redirect action", s),
                                            Rn({
                                                url: t
                                            }),
                                            void Bs(Wt, t)
                                    }
                                    qn({
                                        mbox: e
                                    }),
                                        ms(c),
                                        Us(c).then(t=>{
                                                U(t) || Mn({
                                                    mbox: e,
                                                    execution: t
                                                })
                                            }
                                        )['catch'](t=>Pn({
                                            error: t
                                        }))
                                }(t);
                            const i = Nt.timeEnd(n);
                            Nt.clearTiming(n),
                                window.__target_telemetry.addRenderEntry(n, i)
                        }
                        function du(t) {
                            const e = Fs(t.selector)
                                , n = D(e);
                            Nt.timeStart(n);
                            const r = function(t) {
                                if (!x(t))
                                    return Qs(Ut);
                                const {response: e} = t;
                                return x(e) ? Ys() : Qs("response option is required")
                            }(t)
                                , o = r[zt];
                            return r[$t] ? Pe() || Re() ? (t.selector = e,
                                Be("[applyOffers()]", t),
                                Je({
                                    source: "[applyOffers()]",
                                    options: t
                                }),
                                Js(t).then(()=>{
                                        const t = Nt.timeEnd(n);
                                        Nt.clearTiming(n),
                                            window.__target_telemetry.addRenderEntry(n, t)
                                    }
                                )) : (Ue("[applyOffers()]", Ht),
                                Je({
                                    source: "[applyOffers()]",
                                    options: t,
                                    error: Ht
                                }),
                                zs(e),
                                pn(new Error(Ht))) : (Ue("[applyOffers()]", t, o),
                                Je({
                                    source: "[applyOffers()]",
                                    options: t,
                                    error: o
                                }),
                                zs(e),
                                pn(r))
                        }
                        function pu(t) {
                            const e = oe().globalMboxName
                                , {consumerId: n=e, request: r} = t
                                , o = function(t) {
                                if (!x(t))
                                    return Qs(Ut);
                                const {request: e} = t;
                                if (!x(e))
                                    return Qs("request option is required");
                                const {execute: n, prefetch: r, notifications: o} = e;
                                return x(n) || x(r) ? Qs("execute or prefetch is not allowed") : g(o) ? Ys() : Qs("notifications are required")
                            }(t)
                                , i = o[zt];
                            if (!o[$t])
                                return Ue("[sendNotifications()]", i),
                                    void Je({
                                        source: "[sendNotifications()]",
                                        options: t,
                                        error: i
                                    });
                            if (!Pe() && !Re())
                                return Ue("[sendNotifications()]", Ht),
                                    void Je({
                                        source: "[sendNotifications()]",
                                        options: t,
                                        error: Ht
                                    });
                            Be("[sendNotifications()]", t),
                                Je({
                                    source: "[sendNotifications()]",
                                    options: t
                                });
                            const {notifications: c} = r
                                , s = Ac(n, {}, c);
                            !yn() || bn() ? Mc(s) : Ue("[sendNotifications()]", "Adobe Target is not opted in")
                        }
                        const hu = "[trackEvent()]";
                        function mu(t) {
                            if (yn() && !bn())
                                return Ue("Track event request failed", "Adobe Target is not opted in"),
                                    void t[zt](zt, "Adobe Target is not opted in");
                            !function(t) {
                                const {mbox: e, type: n=Gt} = t
                                    , r = x(t.params) ? t.params : {}
                                    , o = h({}, Vr(e), r)
                                    , i = qc(So({}, o), n, []);
                                if (i.mbox = {
                                    name: e
                                },
                                    Mc(Ac(e, o, [i])))
                                    return Be("Track event request succeeded", t),
                                        void t[Jt]();
                                Ue("Track event request failed", t),
                                    t[zt]("unknown", "Track event request failed")
                            }(t)
                        }
                        function gu(t) {
                            const e = t[jt]
                                , n = t[Rt]
                                , r = j(Fn(e))
                                , o = ()=>function(t) {
                                return mu(t),
                                    !t.preventDefault
                            }(t);
                            q(t=>Ic(n, o, t), r)
                        }
                        function vu(t) {
                            const e = function(t) {
                                if (!x(t))
                                    return Qs(Ut);
                                const e = tu(t.mbox);
                                return e[$t] ? Ys() : e
                            }(t)
                                , n = e[zt];
                            if (!e[$t])
                                return Ue(hu, n),
                                    void Je({
                                        source: hu,
                                        options: t,
                                        error: n
                                    });
                            const r = function(t, e) {
                                const n = e.mbox
                                    , r = h({}, e)
                                    , o = x(e.params) ? e.params : {};
                                return r.params = h({}, Vr(n), o),
                                    r.timeout = no(t, e.timeout),
                                    r[Jt] = w(e[Jt]) ? e[Jt] : vt,
                                    r[zt] = w(e[zt]) ? e[zt] : vt,
                                    r
                            }(oe(), t);
                            if (!Pe() && !Re())
                                return Ue(hu, Ht),
                                    ft(r[zt]("warning", Ht)),
                                    void Je({
                                        source: hu,
                                        options: t,
                                        error: Ht
                                    });
                            Be(hu, r),
                                Je({
                                    source: hu,
                                    options: r
                                }),
                                function(t) {
                                    const e = t[Rt]
                                        , n = t[jt];
                                    return J(e) && (J(n) || Vn(n))
                                }(r) ? gu(r) : mu(r)
                        }
                        const yu = [];
                        let bu = 0;
                        function xu(t) {
                            return gs(t),
                                function(t) {
                                    const {page: e} = t;
                                    return ls("view", t, e, Kc)
                                }(t).then(Ms).then(t=>{
                                        U(t) || Mn({
                                            execution: t
                                        })
                                    }
                                )['catch'](t=>{
                                        Ue("View rendering failed", t),
                                            Pn({
                                                error: t
                                            })
                                    }
                                )
                        }
                        function wu() {
                            for (; yu.length > 0; ) {
                                const t = yu.pop()
                                    , {viewName: e, page: n} = t
                                    , r = Oc(e, t);
                                m(r) ? n && jc(t) : xu(r)
                            }
                        }
                        function Su() {
                            bu = 1,
                                wu()
                        }
                        function Eu(t, e) {
                            if (!oe().viewsEnabled)
                                return void Ue("[triggerView()]", "Views are not enabled");
                            if (!P(t) || $(t))
                                return Ue("[triggerView()]", "View name should be a non-empty string", t),
                                    void Je({
                                        source: "[triggerView()]",
                                        view: t,
                                        error: "View name should be a non-empty string"
                                    });
                            const n = t.toLowerCase()
                                , r = function(t, e) {
                                const n = {};
                                return n.viewName = t,
                                    n.impressionId = Dt(),
                                    n.page = !0,
                                U(e) || (n.page = !!e.page),
                                    n
                            }(n, e);
                            if (Re())
                                return Be("[triggerView()]", n, r),
                                    void function(t) {
                                        const e = t.viewName;
                                        Wt._AT.currentView = e
                                    }(r);
                            Be("[triggerView()]", n, r),
                                Je({
                                    source: "[triggerView()]",
                                    view: n,
                                    options: r
                                }),
                                function(t) {
                                    yu.push(t),
                                    0 !== bu && wu()
                                }(r)
                        }
                        ws("cache-updated-event", Su),
                            ws("no-offers-event", Su),
                            ws("redirect-offer-event", Su);
                        const Tu = "function has been deprecated. Please use getOffer() and applyOffer() functions instead."
                            , Cu = "adobe.target.registerExtension() function has been deprecated. Please review the documentation for alternatives."
                            , ku = "mboxCreate() " + Tu
                            , Iu = "mboxDefine() " + Tu
                            , Nu = "mboxUpdate() " + Tu;
                        function Ou() {
                            Ue(Cu, arguments)
                        }
                        function _u() {
                            Ue(ku, arguments)
                        }
                        function Au() {
                            Ue(Iu, arguments)
                        }
                        function qu() {
                            Ue(Nu, arguments)
                        }
                        const Mu = /^tgt:.+/i
                            , Pu = t=>Mu.test(t);
                        function Du(t, e) {
                            try {
                                localStorage.setItem(t, JSON.stringify(e))
                            } catch (t) {
                                Object.keys(localStorage).filter(Pu).forEach(t=>localStorage.removeItem(t))
                            }
                        }
                        function Ru() {
                            function t(t) {
                                return "tgt:tlm:" + t
                            }
                            function e(t) {
                                const e = localStorage.getItem(t);
                                let n = parseInt(e, 10);
                                return Number.isNaN(n) && (n = -1),
                                    n
                            }
                            function n(t, e) {
                                localStorage.setItem(t, e)
                            }
                            function r(e) {
                                const n = t(e)
                                    , r = localStorage.getItem(n);
                                return localStorage.removeItem(n),
                                    r
                            }
                            return {
                                addEntry: function(r) {
                                    !function(e, n) {
                                        Du(t(e), n)
                                    }(function() {
                                        const t = e("tgt:tlm:upper") + 1;
                                        return n("tgt:tlm:upper", t),
                                            t
                                    }(), r)
                                },
                                getAndClearEntries: function() {
                                    return function() {
                                        const t = []
                                            , o = e("tgt:tlm:lower") || -1
                                            , i = e("tgt:tlm:upper") || -1;
                                        for (let e = i; e > o; e -= 1) {
                                            const n = r(e);
                                            n && t.push(JSON.parse(n))
                                        }
                                        return n("tgt:tlm:lower", i),
                                            t
                                    }()
                                },
                                hasEntries: function() {
                                    const n = t(e("tgt:tlm:upper"));
                                    return !!localStorage.getItem(n)
                                }
                            }
                        }
                        return {
                            init: function(t, e, n) {
                                if (t.adobe && t.adobe.target && void 0 !== t.adobe.target.getOffer)
                                    return void Ue("Adobe Target has already been initialized.");
                                re(n);
                                const r = oe()
                                    , o = r.version;
                                if (t.adobe.target.VERSION = o,
                                    t.adobe.target.event = {
                                        LIBRARY_LOADED: "at-library-loaded",
                                        REQUEST_START: "at-request-start",
                                        REQUEST_SUCCEEDED: "at-request-succeeded",
                                        REQUEST_FAILED: "at-request-failed",
                                        CONTENT_RENDERING_START: "at-content-rendering-start",
                                        CONTENT_RENDERING_SUCCEEDED: "at-content-rendering-succeeded",
                                        CONTENT_RENDERING_FAILED: "at-content-rendering-failed",
                                        CONTENT_RENDERING_NO_OFFERS: "at-content-rendering-no-offers",
                                        CONTENT_RENDERING_REDIRECT: "at-content-rendering-redirect"
                                    },
                                    !r.enabled)
                                    return function(t) {
                                        t.adobe = t.adobe || {},
                                            t.adobe.target = {
                                                VERSION: "",
                                                event: {},
                                                getOffer: vt,
                                                getOffers: yt,
                                                applyOffer: vt,
                                                applyOffers: yt,
                                                sendNotifications: vt,
                                                trackEvent: vt,
                                                triggerView: vt,
                                                registerExtension: vt,
                                                init: vt
                                            },
                                            t.mboxCreate = vt,
                                            t.mboxDefine = vt,
                                            t.mboxUpdate = vt
                                    }(t),
                                        void Ue(Ht);
                                t.__target_telemetry = function() {
                                    let t = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0]
                                        , e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : dt
                                        , n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : Ct();
                                    function r(t) {
                                        return t.edgeHost ? pt : ht
                                    }
                                    function o(t) {
                                        const e = {}
                                            , n = bt(t)
                                            , r = xt(t)
                                            , o = wt(t)
                                            , i = St(t)
                                            , c = Et(t);
                                        return n && (e.executePageLoad = n),
                                        r && (e.executeMboxCount = r),
                                        o && (e.prefetchPageLoad = o),
                                        i && (e.prefetchMboxCount = i),
                                        c && (e.prefetchViewCount = c),
                                            e
                                    }
                                    function i(t) {
                                        const e = {};
                                        return t.dns && (e.dns = Tt(t.dns)),
                                        t.tls && (e.tls = Tt(t.tls)),
                                        t.timeToFirstByte && (e.timeToFirstByte = Tt(t.timeToFirstByte)),
                                        t.download && (e.download = Tt(t.download)),
                                        t.responseSize && (e.responseSize = Tt(t.responseSize)),
                                            e
                                    }
                                    function c(t) {
                                        const e = {};
                                        return t.execution && (e.execution = Tt(t.execution)),
                                        t.parsing && (e.parsing = Tt(t.parsing)),
                                        t.request && (e.request = i(t.request)),
                                            h(t, e)
                                    }
                                    function s(t) {
                                        n.addEntry(c(t))
                                    }
                                    function u(e) {
                                        t && s({
                                            requestId: e.requestId,
                                            timestamp: rt()
                                        })
                                    }
                                    function a(e, n) {
                                        t && s({
                                            requestId: e,
                                            timestamp: rt(),
                                            execution: n
                                        })
                                    }
                                    function f(t, e) {
                                        s(h(e, {
                                            requestId: t,
                                            timestamp: rt()
                                        }))
                                    }
                                    function l(e, n) {
                                        t && n && f(e, n)
                                    }
                                    function d(n, i, c) {
                                        let s = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : e;
                                        if (!t || !i)
                                            return;
                                        const {requestId: u} = n
                                            , a = h(o(n), {
                                            decisioningMethod: s
                                        })
                                            , l = {
                                            mode: r(c),
                                            features: a
                                        }
                                            , d = h(i, l);
                                        f(u, d)
                                    }
                                    function p() {
                                        return n.getAndClearEntries()
                                    }
                                    function m() {
                                        return n.hasEntries()
                                    }
                                    function g(t) {
                                        return m() ? h(t, {
                                            telemetry: {
                                                entries: p()
                                            }
                                        }) : t
                                    }
                                    return {
                                        addDeliveryRequestEntry: d,
                                        addArtifactRequestEntry: l,
                                        addRenderEntry: a,
                                        addServerStateEntry: u,
                                        getAndClearEntries: p,
                                        hasEntries: m,
                                        addTelemetryToDeliveryRequest: g
                                    }
                                }(r.telemetryEnabled && function() {
                                    try {
                                        const t = window.localStorage
                                            , e = "__storage_test__";
                                        return t.setItem(e, e),
                                            t.removeItem(e),
                                            !0
                                    } catch (t) {
                                        return !1
                                    }
                                }(), r.decisioningMethod, Ru()),
                                    Fe(Wt, oe(), De()),
                                    Kn(),
                                    function(t) {
                                        const e = er(t.location.search);
                                        if (m(e))
                                            return;
                                        const n = new Date(rt() + 186e4)
                                            , r = oe().secureOnly
                                            , o = h({
                                            expires: n,
                                            secure: r
                                        }, r ? {
                                            sameSite: "None"
                                        } : {});
                                        Ee("at_qa_mode", JSON.stringify(e), o)
                                    }(t),
                                    nr(t),
                                    Xs(),
                                    t.adobe.target.getOffer = su,
                                    t.adobe.target.getOffers = au,
                                    t.adobe.target.applyOffer = lu,
                                    t.adobe.target.applyOffers = du,
                                    t.adobe.target.sendNotifications = pu,
                                    t.adobe.target.trackEvent = vu,
                                    t.adobe.target.triggerView = Eu,
                                    t.adobe.target.registerExtension = Ou,
                                    t.mboxCreate = _u,
                                    t.mboxDefine = Au,
                                    t.mboxUpdate = qu,
                                    function() {
                                        const t = Nn("at-library-loaded", {});
                                        In(Wt, Kt, "at-library-loaded", t)
                                    }()
                            }
                        }
                    }(),
                    window.adobe.target.init(window, document, config);
                window.mboxCreate = function(mboxName, params, selector) {
                    var newSelector = document.getElementById(selector);
                    if (newSelector) {
                        newSelector = "#" + selector;
                    } else {
                        newSelector = selector;
                    }
                    if (mboxName && u.typeOf(params) === "object" && selector) {
                        adobe.target.getOffer({
                            mbox: mboxName,
                            params: params,
                            success: function(offers) {
                                adobe.target.applyOffer({
                                    mbox: mboxName,
                                    selector: newSelector,
                                    offer: offers
                                });
                            },
                            error: function(status, error) {
                                utag.DB("at.js getOffer Error");
                                utag.DB(status);
                                utag.DB(error);
                                selector.style.visibility = "visible";
                            }
                        });
                    } else {
                        console.warn("The mboxCreate function has been deprecated. Please use getOffer() and applyOffer() functions instead.");
                    }
                }
                ;
                window.mboxDefine.apply = function(val, mbox) {
                    if (u.typeOf(mbox) === "array") {
                        var selector = mbox[0], mboxName = mbox[1], params;
                        window.__TEALIUM.adobe.target.defineObject = window.__TEALIUM.adobe.target.defineObject || {};
                        if (mbox.length > 2) {
                            params = u.parseParams(mbox.slice(2));
                        }
                        window.__TEALIUM.adobe.target.defineObject[mboxName] = window.__TEALIUM.adobe.target.defineObject[mboxName] || [];
                        window.__TEALIUM.adobe.target.defineObject[mboxName].push({
                            params: params,
                            selector: selector
                        });
                    } else {
                        console.warn("The mboxDefine function has been deprecated. Please use getOffer() and applyOffer() functions instead.");
                    }
                }
                ;
                window.mboxUpdate.apply = function(val, mbox) {
                    if (u.typeOf(mbox) === "array") {
                        var params, mboxName = mbox[0];
                        if (mbox.length > 1) {
                            params = u.parseParams(mbox.slice(1));
                        }
                        if (!u.isEmpty(window.__TEALIUM.adobe.target.defineObject) && !u.isEmpty(window.__TEALIUM.adobe.target.defineObject[mboxName])) {
                            var array = window.__TEALIUM.adobe.target.defineObject[mboxName];
                            for (var i = 0; i < array.length; ++i) {
                                var paramName, newparams = array[i].params;
                                for (paramName in params) {
                                    newparams[paramName] = params[paramName];
                                }
                                window.mboxCreate(mboxName, newparams, array[i].selector);
                            }
                            delete window.__TEALIUM.adobe.target.defineObject[mboxName];
                        }
                    } else {
                        console.warn("The mboxUpdate function has been deprecated. Please use getOffer() and applyOffer() functions instead.");
                    }
                }
                ;
            }
            window.utag.tagsettings = window.utag.tagsettings || {};
            window.utag.tagsettings.adobe = window.utag.tagsettings.adobe || {};
            var vAPI = window.utag.tagsettings.adobe.visitorAPI = window.utag.tagsettings.adobe.visitorAPI || (function() {
                return {
                    getInstance: function(orgID, callback) {
                        if (orgID) {
                            utag.DB("[" + u.id + "] OrgID used, but no 'Adobe Marketing Cloud ID Service' tag detected");
                        }
                        return callback();
                    }
                };
            }());
            var u = {
                "id": id
            };
            utag.o[loader].sender[id] = u;
            u.ev = {
                "view": 1,
                "link": 1
            };
            u.hasOwnProperty = Object.prototype.hasOwnProperty;
            u.typeOf = function(obj) {
                return ({}).toString.call(obj).match(/\s([a-zA-Z]+)/)[1].toLowerCase();
            }
            ;
            u.isEmpty = function(obj) {
                var type = u.typeOf(obj), key;
                if (/number|boolean/.test(type)) {
                    return false;
                }
                if (obj === undefined || obj === null) {
                    return true;
                }
                if (obj.length !== undefined) {
                    return obj.length === 0;
                }
                for (key in obj) {
                    if (u.hasOwnProperty.call(obj, key)) {
                        return false;
                    }
                }
                return true;
            }
            ;
            u.clearEmptyKeys = function(obj) {
                var key;
                for (key in obj) {
                    if (u.hasOwnProperty.call(obj, key)) {
                        if (u.isEmpty(obj[key])) {
                            delete obj[key];
                        }
                    }
                }
                return obj;
            }
            ;
            u.map_func = function(arr, obj, item) {
                var i = arr.shift();
                obj[i] = obj[i] || {};
                if (arr.length > 0) {
                    u.map_func(arr, obj[i], item);
                } else {
                    obj[i] = item;
                }
            }
            ;
            u.func = function() {}
            ;
            window.__TEALIUM = window.__TEALIUM || {};
            window.__TEALIUM.adobe = window.__TEALIUM.adobe || {};
            var target = window.__TEALIUM.adobe.target = window.__TEALIUM.adobe.target || {
                "loaded": false,
                "css": {
                    "id": "unknown",
                    "status": "visible",
                    "hide": u.func,
                    "show": u.func,
                    "remove": u.func,
                    "render": u.func,
                    "removeRender": u.func
                }
            };
            window.__TEALIUM.adobe.target.defineObject = window.__TEALIUM.adobe.target.defineObject || {};
            target.loaded = true;
            u.mboxes = {};
            u.mboxListener = false;
            u.loaded = false;
            u.offersReceived = [];
            u.showAllDivs = function() {
                target.css.remove();
                target.css.removeRender();
            }
            ;
            u.showDiv = function(mbox) {
                var divs, i, tnt = null;
                if (!(utag.cfg.tntFF && utag.cfg.tntFF.lkp)) {
                    return;
                }
                for (id in utag.cfg.tntFF.lkp) {
                    tnt = utag.cfg.tntFF.lkp[id];
                    if (tnt && tnt[mbox]) {
                        divs = tnt[mbox];
                        for (i = 0; i < divs.length; i++) {
                            try {
                                target.css.render(divs[i]);
                            } catch (e) {
                                utag.DB(e);
                            }
                        }
                    }
                }
            }
            ;
            u.eventListener = function(event) {
                if (event.detail.mbox === "target-global-mbox") {
                    if (target.css.status === "hidden") {
                        target.css.remove();
                    }
                }
                if (/rendering-(succeeded|failed)/i.test(event.type)) {
                    return u.showDiv(event.detail.mbox);
                }
                if (/request-(succeeded|failed)/i.test(event.type)) {
                    if (target.css.status === "hidden") {
                        target.css.remove();
                    }
                }
                return true;
            }
            ;
            u.ebx = function(p) {
                "use strict";
                function NB(a, i) {
                    var n = "";
                    if (a.length == 0) {
                        return [document.body, "document.body"]
                    } else if (a.length == 1) {
                        n = "document.body.childNodes[" + a[0] + "]"
                    } else {
                        n = "document.body.childNodes[" + a[0] + "]";
                        for (i = 1; i < a.length; i++) {
                            n = n + ".childNodes[" + a[i] + "]"
                        }
                    }
                    return [eval(n), n]
                }
                p = p.replace("/html/body/", "").split("/");
                var i, d = "", a = [], e = "", n = 0, c = 0, x = 0;
                for (x = 0; x < p.length; x++) {
                    if (p[x].indexOf('[') > 0) {
                        e = p[x].match(/[a-z]+/)[0];
                        n = p[x].match(/[0-9]+/)[0] - 1
                    } else {
                        e = p[x]
                    }
                    c = 0;
                    d = NB(a)[0].childNodes;
                    for (i = 0; i < d.length; i++) {
                        if (d[i].localName == e && n > 0) {
                            if (c == n) {
                                a.push(i);
                                break
                            }
                            c++
                        } else if (d[i].localName == e) {
                            a.push(i);
                            break
                        }
                    }
                    n = 0
                }
                return (NB(a))
            }
            ;
            u.processPageParams = function(origData, mapData) {
                function convertFromString(data) {
                    var i, result = {}, split1 = (data || "").split("&"), split2;
                    for (i = 0; i < split1.length; i++) {
                        split2 = split1[i].split("=");
                        result[split2[0]] = split2[1];
                    }
                    return result;
                }
                function convertFromArray(data) {
                    var i, result = {}, split1;
                    for (i = 0; i < data.length; i++) {
                        split1 = data[i].split("=");
                        result[split1[0]] = split1[1];
                    }
                    return result;
                }
                if (!mapData) {
                    return origData;
                }
                if (!origData) {
                    return mapData;
                }
                var result, key, origDataType = u.typeOf(origData), mappedDataType = u.typeOf(mapData), oD, tD;
                if (origDataType === "string") {
                    oD = convertFromString(origData);
                } else if (origDataType === "array") {
                    oD = convertFromArray(origData);
                } else if (origDataType === "object") {
                    oD = origData;
                } else {
                    return origData;
                }
                if (mappedDataType === "string") {
                    tD = convertFromString(mapData);
                } else if (mappedDataType === "array") {
                    tD = convertFromArray(mapData);
                } else if (mappedDataType === "object") {
                    tD = mapData;
                } else {
                    return origData;
                }
                result = {};
                for (key in utag.loader.GV(oD)) {
                    result[key] = oD[key];
                }
                for (key in utag.loader.GV(tD)) {
                    result[key] = tD[key];
                }
                return result;
            }
            ;
            u.GV = function(a, b, c) {
                b = {};
                for (c in a) {
                    if (a.hasOwnProperty(c))
                        b[c] = a[c];
                }
                return b;
            }
            ;
            u.trackEvent = function(evt) {
                evt = u.clearEmptyKeys(evt);
                evt.success = u.typeOf(evt.success) === "string" ? window[evt.success] : (u.event_success || function() {}
                );
                evt.error = u.typeOf(evt.error) === "string" ? window[evt.error] : (u.event_error || function(error) {
                        utag.DB(error);
                    }
                );
                adobe.target.trackEvent(evt);
            }
            ;
            u.targetPageParamsAll = window.targetPageParamsAll;
            window.targetPageParamsAll = function() {
                var result = {};
                if (u.targetPageParamsAll) {
                    result = u.targetPageParamsAll() || {};
                }
                return u.processPageParams(result, u.data.targetPageParamsAll);
            }
            ;
            u.targetPageParams = window.targetPageParams;
            window.targetPageParams = function() {
                var result = {};
                if (u.targetPageParams) {
                    result = u.targetPageParams() || {};
                }
                return u.processPageParams(result, u.data.targetPageParams);
            }
            ;
            u.splitParams = function(paramStr) {
                var result = paramStr.indexOf("=");
                if (result === -1)
                    return null;
                return [paramStr.substr(0, result), paramStr.substr(result + 1)];
            }
            ;
            u.parseParams = function(params) {
                var paramObj = {};
                var split;
                for (var i = 0; i < params.length; i++) {
                    split = u.splitParams(params[i]);
                    if (!split)
                        continue;
                    paramObj[split[0]] = split[1];
                }
                return paramObj;
            }
            ;
            u.getOffers = function(offer) {
                var getOffer = {}
                    , request = {};
                if (u.data.request_type === "execute") {
                    request.execute = {};
                }
                if (u.data.request_type === "prefetch") {
                    request.prefetch = {};
                }
                if (offer.fetchViews) {
                    request[u.data.request_type].views = [];
                }
                if (offer.id) {
                    request.id = offer.id;
                }
                if (offer.experienceCloud) {
                    request.experienceCloud = offer.experienceCloud;
                }
                if (offer.views && offer.views.length > 0) {
                    request[u.data.request_type].views = offer.views;
                }
                if (offer.pageLoad && !utag.ut.isEmptyObject(offer.pageLoad)) {
                    request[u.data.request_type].pageLoad = offer.pageLoad;
                }
                if (offer.mboxes && offer.mboxes.length > 0) {
                    request[u.data.request_type].mboxes = offer.mboxes;
                }
                if (offer.consumerId) {
                    getOffer.consumerId = offer.consumerId;
                }
                getOffer.request = request;
                if (offer.timeout) {
                    getOffer.timeout = offer.timeout;
                }
                adobe.target.getOffers(getOffer).then(function(response) {
                    if (!utag.ut.isEmptyObject(response)) {
                        u.offersReceived.push(response);
                    }
                }).catch(function(error) {
                    utag.DB("Target AT.js [" + u.id + "] - error getting offers: " + error);
                });
            }
            ;
            u.applyOffers = function() {
                var newOffers = {}, type, subtype, i;
                if (u.data.selector && u.data.selector.length > 0) {
                    if (u.data.offersResponse["prefetch"]) {
                        type = "prefetch";
                    }
                    if (u.data.offersResponse["execute"]) {
                        type = "execute";
                    }
                    if (u.data.offersResponse["notifications"]) {
                        type = "notifications";
                    }
                    if (u.data.offersResponse[type]["views"]) {
                        subtype = "views";
                    }
                    if (u.data.offersResponse[type]["mboxes"]) {
                        subtype = "mboxes";
                    }
                    if (u.data.offersResponse[type]["pageLoad"]) {
                        subtype = "pageLoad";
                    }
                    if (type === "notifications") {
                        for (i = 0; i < u.data.offersResponse[type].length; ++i) {
                            newOffers.selector = u.data.selector[i];
                            newOffers.response = {};
                            newOffers.response[type] = u.data.offersResponse[type][i];
                            adobe.target.applyOffers(newOffers);
                        }
                    } else {
                        for (i = 0; i < u.data.offersResponse[type][subtype].length; ++i) {
                            newOffers.selector = u.data.selector[i];
                            newOffers.response = {};
                            newOffers.response[type] = {};
                            newOffers.response[type][subtype] = [u.data.offersResponse[type][subtype][i]];
                            adobe.target.applyOffers(newOffers);
                        }
                    }
                } else {
                    newOffers.response = u.data.offersResponse;
                    adobe.target.applyOffers(newOffers);
                }
            }
            ;
            u.map = {
                "cart.TotalValue": "targetPageParamsAll.cart.TotalValue",
                "cart.TotalItems": "targetPageParamsAll.cart.TotalItems,targetPageParamsAll.profile.cart.TotalItems",
                "user.ProfileID": "targetPageParamsAll.profile.ShopperID,targetPageParamsAll.mbox3rdPartyId",
                "user.ProfileIsRewardsMember": "targetPageParamsAll.profile.IsRewardsMember",
                "user.FulfilmentStoreID": "targetPageParamsAll.profile.FulfilmentStoreID",
                "user.SegmentType": "targetPageParamsAll.profile.SegmentType",
                "user.DetailsState": "targetPageParamsAll.profile.DetailsState",
                "user.ProfileOrderCount": "targetPageParamsAll.profile.ProfileOrderCount",
                "user.ProfileRewardsType": "targetPageParamsAll.profile.ProfileRewardsType",
                "user.ProfileStaffDiscount": "targetPageParamsAll.profile.ProfileStaffDiscount",
                "user.ProfileDeliverySaver": "targetPageParamsAll.profile.ProfileDeliverySaver",
                "user.DetailsPostcode": "targetPageParamsAll.profile.DetailsPostCode",
                "search.Keyword": "targetPageParamsAll.profile.SearchKeyword,mboxParams.SearchKeyword",
                "adobe_at_entity_type": "targetPageParamsAll.entity.type",
                "adobe_at_entity_id": "targetPageParamsAll.entity.id",
                "adobe_at_entity_name": "targetPageParamsAll.entity.name",
                "adobe_at_entity_brand": "targetPageParamsAll.entity.brand",
                "adobe_at_entity_categoryId": "targetPageParamsAll.entity.categoryId,targetPageParamsAll.user.categoryId",
                "adobe_at_entity_value": "targetPageParamsAll.entity.value",
                "adobe_at_entity_pageUrl": "targetPageParamsAll.entity.pageUrl",
                "adobe_at_entity_thumbnailUrl": "targetPageParamsAll.entity.thumbnailUrl",
                "adobe_at_excludedIds": "targetPageParamsAll.excludedIds",
                "user.DetailsSuburb": "targetPageParamsAll.profile.DetailsSuburb",
                "order.DeliveryDate": "targetPageParamsAll.profile.DeliveryDate",
                "order.ID": "targetPageParamsAll.order.ID",
                "order.Status": "targetPageParamsAll.order.Status",
                "checkout.Step": "targetPageParamsAll.checkout.Step",
                "user.SubscriptionIsFreeTrialEligible": "targetPageParamsAll.user.SubscriptionIsFreeTrialEligible,targetPageParamsAll.profile.IsFreeTrialSubscriptionEligible",
                "user.SubscriptionType": "targetPageParamsAll.user.SubscriptionType",
                "user.SubscriptionEndDate": "targetPageParamsAll.user.SubscriptionEndDate",
                "cp.OpenOrderCount": "targetPageParamsAll.user.OpenOrderCount",
                "cart.HasPfdItems": "targetPageParamsAll.cart.HasPfdItems",
                "user.ProfileLoggedInStatus": "targetPageParamsAll.user.ProfileLoggedInStatus,targetPageParamsAll.profile.ProfileLoggedInStatus",
                "checkout.ShippingMethod": "targetPageParamsAll.checkout.DeliveryMethod",
                "dom.pathname": "targetPageParamsAll.page.Pathname",
                "order.DeliveryState": "targetPageParamsAll.order.DeliveryState",
                "page.CategoryID": "targetPageParamsAll.page.CategoryID",
                "page.AisleDepartment": "targetPageParamsAll.page.AisleDepartment",
                "page.AisleCategory": "targetPageParamsAll.page.AisleCategory",
                "page.AisleSubcategory": "targetPageParamsAll.page.AisleSubCategory",
                "adobe_at_entity_ratingAverage": "targetPageParamsAll.entity.ratingAverage",
                "adobe_at_entity_ratingCount": "targetPageParamsAll.entity.ratingCount",
                "adobe_at_entity_reviewCount": "targetPageParamsAll.entity.reviewCount",
                "nav.AisleDepartment": "targetPageParamsAll.nav.AisleDepartment",
                "previous_page_name": "targetPageParamsAll.page.PreviousPage",
                "page.PreviousPageName": "targetPageParamsAll.page.PreviousPageName,targetPageParamsAll.profile.previousPageName",
                "cp.last_known_previous_page": "targetPageParamsAll.page.LastKnownPreviousPageName",
                "order.ShippingMethod": "targetPageParamsAll.profile.order.ShippingMethod",
                "nav.AisleCategory": "targetPageParamsAll.nav.AisleCategory",
                "visitor.TimePartingDay": "targetPageParamsAll.visitor.TimePartingDay",
                "user.ProfileCRNHash": "targetPageParamsAll.profile.CRNHash",
                "user.FulfilmentStoreState": "targetPageParamsAll.profile.FulfilmentStoreState",
                "user.AccessibilityPreference": "targetPageParamsAll.profile.AccessibilityPreference",
                "page.TobaccoFlag": "targetPageParamsAll.page.TobaccoFlag",
                "va.properties.7189": "targetPageParamsAll.profile.SUPBehaviourSegments",
                "cart.SAPCategories_InSession": "targetPageParamsAll.cart.SAPCategories",
                "cart.at_lastAddedCartItemSAPCat": "targetPageParamsAll.cart.lastAddedCartitemSAPCat",
                "visitor.ID": "targetPageParamsAll.profile.visitorId",
                "user.RNLActivatedCampaigns": "targetPageParamsAll.profile.RNLActivatedCampaigns",
                "user.CNAScoredCampaigns": "targetPageParamsAll.profile.CNAScoredCampaigns",
                "user.RNLScoredCampaigns": "targetPageParamsAll.profile.RNLScoredCampaigns",
                "cart.TotalWoolworthsDiscountableValue": "targetPageParamsAll.totals.WoolworthsDiscountableSubTotal",
                "user.ONMScoredCampaigns": "targetPageParamsAll.profile.ONMScoredCampaigns",
                "user.EdrAppDownloaded": "targetPageParamsAll.profile.EdrAppDownloaded",
                "page.navVersion": "targetPageParamsAll.page.navVersion",
                "user.ProfileRewardsSavedForLater": "targetPageParamsAll.profile.RewardsSavedForLater",
                "user.ProfileRewardsToSpend": "targetPageParamsAll.profile.RewardsToSpend",
                "user.WXID": "targetPageParamsAll.profile.WXID",
                "user.WXIDMatchScore": "targetPageParamsAll.profile.WXIDMatchScore",
                "user.HasEcomAccount": "targetPageParamsAll.profile.HasEcomAccount",
                "user.HasEdrAccount": "targetPageParamsAll.profile.HasEdrAccount",
                "user.EdrCardLinkedToEcom": "targetPageParamsAll.profile.EdrCardLinkedToEcom",
                "user.EdrHashCrnLinkedToEcom": "targetPageParamsAll.profile.EdrHashCrnLinkedToEcom",
                "user.EDRTotalES": "targetPageParamsAll.profile.EDRTotalES",
                "user.EDRESSegment": "targetPageParamsAll.profile.EDRESSegment",
                "user.SupersEcomCFV": "targetPageParamsAll.profile.SupersEcomCFV",
                "user.SupersInstoreCFV": "targetPageParamsAll.profile.SupersInstoreCFV"
            };
            u.extend = [function(a, b) {
                try {
                    if (1) {
                        var productASIds = [6095, 6097, 6099, 6101, 6103, 6105, 6107, 6109, 6111, 6113, 6115, 6117];
                        for (var i = 0; i < productASIds.length; i++) {
                            var key = 'va.properties.' + productASIds[i];
                            if (b[key]) {
                                u.map[key] = "targetPageParamsAll.profile.PEProductSKU" + (i + 1)
                            }
                        }
                    }
                } catch (e) {
                    utag.DB(e)
                }
            }
                , function(a, b) {
                    try {
                        if ((typeof b['page.Type'] != 'undefined' && b['page.Type'] == 'productdetail' && b['ut.event'] == 'view')) {
                            b["adobe_at_entity_type"] = "product";
                            b["adobe_at_entity_id"] = b["product.ID"].join();
                            b["adobe_at_entity_name"] = b["product.Name"].join();
                            b["adobe_at_entity_brand"] = b["product.Brand"].join();
                            b["adobe_at_entity_value"] = b["product.Price"].join().replace(/^0.00$/, "");
                            b["adobe_at_entity_pageUrl"] = b["product.URL"].join();
                            var d = b["product.SAPDepartment"].join();
                            var c = b["product.SAPCategory"].join();
                            var sc = b["product.SAPSubCategory"].join();
                            b["adobe_at_entity_categoryId"] = [d, d + ":" + c, d + ":" + c + ":" + sc].join().replace(/^,:,::$/, "");
                            b["adobe_at_entity_thumbnailUrl"] = b["product.ImageURL"].join().replace("/large/", "/medium/");
                            b["adobe_at_entity_ratingAverage"] = b["product.RatingAverage"].join();
                            b["adobe_at_entity_ratingCount"] = b["product.RatingCount"].join();
                            b["adobe_at_entity_reviewCount"] = b["product.ReviewCount"].join();
                            b["adobe_at_entity_promotion"] = b["product.HeaderPromotion"].join();
                        }
                    } catch (e) {
                        utag.DB(e)
                    }
                }
                , function(a, b) {
                    try {
                        if ((typeof b['page.Type'] != 'undefined' && b['page.Type'] == 'recipedetail' && b['ut.event'] == 'view')) {
                            var rid = "R-" + b["recipe.ID"];
                            b["adobe_at_entity_type"] = "recipe";
                            b["adobe_at_entity_id"] = rid;
                            b["adobe_at_entity_name"] = b["recipe.Name"].trim();
                            b["adobe_at_entity_categoryId"] = ["RECIPES", (b["recipe.Category"] ? "RECIPES:" + b["recipe.Category"].toUpperCase() : "")].join();
                            b["adobe_at_entity_pageUrl"] = b["dom.pathname"];
                            var tm = document.querySelector(".recipeDetail-headerTemplate [itemprop='image']");
                            b["adobe_at_entity_thumbnailUrl"] = tm ? (tm.getAttribute("content") || tm.getAttribute("src") || "") : "";
                            var ss = sessionStorage.getItem("excludedIds");
                            var excludedIds = ss ? ss.split(",") : [];
                            if (excludedIds.indexOf(rid) === -1)
                                excludedIds.push(rid);
                            sessionStorage.setItem("excludedIds", excludedIds.join());
                        }
                    } catch (e) {
                        utag.DB(e)
                    }
                }
                , function(a, b) {
                    try {
                        if (typeof b['cart.ProductID'] != 'undefined') {
                            b["adobe_at_excludedIds"] = b["cart.ProductID"].concat(sessionStorage.getItem("excludedIds") ? sessionStorage.excludedIds : []).join();
                        }
                    } catch (e) {
                        utag.DB(e)
                    }
                }
            ];
            u.send = function(a, b) {
                if (u.ev[a] || u.ev.all !== undefined) {
                    utag.DB("send:93");
                    utag.DB(b);
                    var c, d, e, f, config, mboxCookie = utag.loader.RC("mbox");
                    if (u.typeOf(mboxCookie) === "string" && mboxCookie.indexOf("disable") > -1) {
                        utag.DB("Target AT.js [" + u.id + "] - mbox disable cookie detected, exiting...");
                        return u.showAllDivs();
                    }
                    u.data = {
                        "config": {
                            "clientCode": "woolworthsfoodgroup",
                            "imsOrgId": "4353388057AC8D357F000101",
                            "serverDomain": "woolworthsfoodgroup.tt.omtrdc.net",
                            "timeout": parseInt(("3000" || 7000), 10),
                            "globalMboxName": "target-global-mbox",
                            "globalMboxAutoCreate": "false" === "true",
                            "endpoint": "/rest/v1/delivery",
                            "authoringScriptUrl": "",
                            "version": "2.9.0",
                            "defaultContentHiddenStyle": "visibility:hidden !important;",
                            "defaultContentVisibleStyle": "visibility:visible !important;",
                            "bodyHiddenStyle": "body{opacity:0  !important}",
                            "bodyHidingEnabled": target.css.status === "hidden",
                            "deviceIdLifetime": 63244800000,
                            "sessionIdLifetime": 1860000,
                            "selectorsPollingTimeout": 5000,
                            "pollingAfterDomReadyTimeout": 180000,
                            "visitorApiTimeout": 2000,
                            "overrideMboxEdgeServer": false,
                            "overrideMboxEdgeServerTimeout": 1860000,
                            "optoutEnabled": false,
                            "crossDomain": "enabled",
                            "secureOnly": true,
                            "supplementalDataIdParamTimeout": 30,
                            "pageLoadEnabled": ("false" === "true"),
                            "viewsEnabled": false
                        },
                        "request_type": "prefetch"
                    };
                    for (f = 0; f < u.extend.length; f++) {
                        try {
                            d = u.extend[f](a, b, u);
                            if (d === false) {
                                return;
                            }
                        } catch (e) {
                            utag.DB("[" + u.id + "] Extension Error " + e.message);
                        }
                    }
                    for (d in u.GV(u.map)) {
                        if (b[d] !== undefined && b[d] !== "") {
                            e = u.map[d].split(",");
                            for (f = 0; f < e.length; f++) {
                                u.map_func(e[f].split("."), u.data, b[d]);
                            }
                        }
                    }
                    utag.DB("send:93:MAPPINGS");
                    utag.DB(u.data);
                    config = u.clearEmptyKeys(u.data.config);
                    if (a === "link") {
                        if (u.loaded) {
                            if (u.data.evt) {
                                u.trackEvent(u.data.evt);
                            }
                            if (!u.isEmpty(u.data.offers)) {
                                u.getOffers(u.data.offers);
                            }
                            if (u.data.offersResponse && !u.isEmpty(u.data.offersResponse)) {
                                u.applyOffers();
                            }
                        }
                        u.events = u.events || [];
                        if (!utag.ut.isEmpty(u.data.evt)) {
                            u.events.push(utag.handler.C(u.data.evt));
                        }
                        u.offersRequested = u.offersRequested || [];
                        if (!u.isEmpty(u.data.offers)) {
                            u.offersRequested.push(utag.handler.C(u.data.offers));
                        }
                        return;
                    }
                    if (!config.globalMboxAutoCreate) {
                        target.css.remove();
                    }
                    window.setTimeout(function() {
                        utag.DB("Target AT.js [" + u.id + "] - Time out rolled over, removing defined CSS");
                        u.showAllDivs();
                    }, config.timeout);
                    vAPI.getInstance(config.imsOrgId, function(instance) {
                        window.targetGlobalSettings = window.targetGlobalSettings || {};
                        if (!window.targetGlobalSettings.cookieDomain) {
                            window.targetGlobalSettings.cookieDomain = (function() {
                                return utag.loader.RC("utag_main").vapi_domain || (function() {
                                    var i = 0
                                        , d = document.domain
                                        , p = d.split(".")
                                        , s = "_vapi" + new Date().getTime();
                                    while (i < (p.length - 1) && document.cookie.indexOf(s + "=" + s) === -1) {
                                        d = p.slice(-1 - (++i)).join(".");
                                        document.cookie = s + "=" + s + ";domain=" + d + ";";
                                    }
                                    document.cookie = s + "=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain=" + d + ";";
                                    utag.loader.SC("utag_main", {
                                        "vapi_domain": d
                                    });
                                    return d;
                                }());
                            }());
                        }
                        var mbox, mboxes = __TEALIUM.adobe.target.mboxes, event, target;
                        u.loaded = true;
                        at(config);
                        if (a === "view") {
                            if (u.data.viewName) {
                                var page_option;
                                if (u.data.countPage === "true" || u.data.countPage === true) {
                                    page_option = {
                                        page: true
                                    };
                                    adobe.target.triggerView(u.data.viewName, page_option);
                                } else if (u.data.countPage === "false" || u.data.countPage === false) {
                                    page_option = {
                                        page: false
                                    };
                                    adobe.target.triggerView(u.data.viewName, page_option);
                                } else {
                                    adobe.target.triggerView(u.data.viewName);
                                }
                            }
                        }
                        if (!u.mboxListener) {
                            target = window.adobe && window.adobe.target;
                            u.mboxListener = true;
                            for (event in target.event) {
                                if (u.hasOwnProperty.call(target.event, event)) {
                                    if (document.addEventListener) {
                                        document.addEventListener(target.event[event], u.eventListener, false);
                                    } else if (document.attachEvent) {
                                        document.attachEvent(target.event[event], u.eventListener);
                                    }
                                }
                            }
                        }
                        if (mboxes) {
                            for (var i = 0, len = mboxes.length; i < len; i++) {
                                mbox = mboxes[i];
                                if (mbox.type === "create") {
                                    (function(mbox) {
                                        var params;
                                        if (mbox.args.length > 1) {
                                            params = u.parseParams(mbox.args.slice(1));
                                        }
                                        adobe.target.getOffer({
                                            "mbox": mbox.args[0],
                                            "params": params,
                                            "success": function(offers) {
                                                adobe.target.applyOffer({
                                                    "mbox": mbox.args[0],
                                                    "selector": mbox.selector,
                                                    "offer": offers
                                                });
                                            },
                                            "error": function(status, error) {
                                                utag.DB("at.js getOffer Error");
                                                utag.DB(status);
                                                utag.DB(error);
                                            },
                                            "timeout": 5000
                                        });
                                    }(mbox));
                                } else if (mbox.type === "define") {
                                    window.mboxDefine.apply(null, mbox.args);
                                } else if (mbox.type === "update") {
                                    window.mboxUpdate.apply(null, mbox.args);
                                } else if (mbox.type === "getOffer") {
                                    window.adobe.target.getOffer.apply(null, mbox.args);
                                }
                            }
                            mboxes.length = 0;
                        }
                        if (b._corder) {
                            var _cprod = b._cprod ? b._cprod.slice(0) : [];
                            adobe.target.trackEvent({
                                "mbox": "orderConfirmPage",
                                "params": {
                                    "orderId": b._corder,
                                    "productPurchasedId": _cprod.join(","),
                                    "orderTotal": b._ctotal
                                }
                            });
                        }
                        if (u.events) {
                            for (c = 0; c < u.events.length; c++) {
                                u.trackEvent(u.events[f]);
                            }
                        }
                        if (u.data.evt) {
                            u.trackEvent(u.data.evt);
                        }
                        if (u.offersRequested) {
                            for (c = 0; c < u.offersRequested.length; c++) {
                                u.getOffers(u.offersRequested[c]);
                            }
                        }
                        if (!u.isEmpty(u.data.offers)) {
                            u.getOffers(u.data.offers);
                        }
                        if (u.data.offersResponse && !u.isEmpty(u.data.offersResponse)) {
                            u.applyOffers();
                        }
                    });
                }
            }
            ;
            try {
                utag.o[loader].loader.LOAD(id);
            } catch (e) {
                utag.loader.LOAD(id);
            }
        }
    )("93", "woolworths.supermarkets");
} catch (error) {
    utag.DB(error);
}

//tealium universal tag - utag.158 ut4.0.202302140104, Copyright 2023 Tealium.com Inc. All Rights Reserved.
try {
    (function(id, loader) {
        var u = {
            "id": id
        };
        utag.o[loader].sender[id] = u;
        if (utag.ut === undefined) {
            utag.ut = {};
        }
        var match = /ut\d\.(\d*)\..*/.exec(utag.cfg.v);
        if (utag.ut.loader === undefined || !match || parseInt(match[1]) < 41) {
            u.loader = function(o, a, b, c, l, m) {
                utag.DB(o);
                a = document;
                if (o.type == "iframe") {
                    m = a.getElementById(o.id);
                    if (m && m.tagName == "IFRAME") {
                        b = m;
                    } else {
                        b = a.createElement("iframe");
                    }
                    o.attrs = o.attrs || {};
                    utag.ut.merge(o.attrs, {
                        "height": "1",
                        "width": "1",
                        "style": "display:none"
                    }, 0);
                } else if (o.type == "img") {
                    utag.DB("Attach img: " + o.src);
                    b = new Image();
                } else {
                    b = a.createElement("script");
                    b.language = "javascript";
                    b.type = "text/javascript";
                    b.async = 1;
                    b.charset = "utf-8";
                }
                if (o.id) {
                    b.id = o.id;
                }
                for (l in utag.loader.GV(o.attrs)) {
                    b.setAttribute(l, o.attrs[l]);
                }
                b.setAttribute("src", o.src);
                if (typeof o.cb == "function") {
                    if (b.addEventListener) {
                        b.addEventListener("load", function() {
                            o.cb();
                        }, false);
                    } else {
                        b.onreadystatechange = function() {
                            if (this.readyState == "complete" || this.readyState == "loaded") {
                                this.onreadystatechange = null;
                                o.cb();
                            }
                        }
                        ;
                    }
                }
                if (o.type != "img" && !m) {
                    l = o.loc || "head";
                    c = a.getElementsByTagName(l)[0];
                    if (c) {
                        utag.DB("Attach to " + l + ": " + o.src);
                        if (l == "script") {
                            c.parentNode.insertBefore(b, c);
                        } else {
                            c.appendChild(b);
                        }
                    }
                }
            }
            ;
        } else {
            u.loader = utag.ut.loader;
        }
        if (utag.ut.typeOf === undefined) {
            u.typeOf = function(e) {
                return ({}).toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase();
            }
            ;
        } else {
            u.typeOf = utag.ut.typeOf;
        }
        u.ev = {
            "view": 1,
            "link": 1
        };
        u.toBoolean = function(val) {
            val = val || "";
            return val === true || val.toLowerCase() === "true" || val.toLowerCase() === "on";
        }
        ;
        u.clearEmptyKeys = function(object) {
            for (var key in object) {
                if (object[key] === "" || object[key] === undefined) {
                    delete object[key];
                }
            }
            return object;
        }
        ;
        u.isEmptyObject = function(o, a) {
            for (a in o) {
                if (utag.ut.hasOwn(o, a))
                    return false;
            }
            return true;
        }
        ;
        u.hasgtagjs = function() {
            window.gtagRename = window.gtagRename || "" || "gtag";
            if (utag.ut.gtagScriptRequested) {
                return true;
            }
            var i, s = document.getElementsByTagName("script");
            for (i = 0; i < s.length; i++) {
                if (s[i].src && s[i].src.indexOf("gtag/js") >= 0 && (s[i].id && s[i].id.indexOf("utag") > -1)) {
                    return true;
                }
            }
            var data_layer_name = "" || "dataLayer";
            window[data_layer_name] = window[data_layer_name] || [];
            if (typeof window[window.gtagRename] !== "function") {
                window[window.gtagRename] = function() {
                    window[data_layer_name].push(arguments);
                }
                ;
                var cross_track_domains = "";
                if (cross_track_domains !== "") {
                    window[window.gtagRename]("set", "linker", {
                        domains: cross_track_domains.split(","),
                        accept_incoming: true
                    });
                }
                window[window.gtagRename]("js", new Date());
            }
            return false;
        }
        ;
        u.scriptrequested = u.hasgtagjs();
        u.o = window[window.gtagRename];
        u.map_func = function(arr, obj, item) {
            var i = arr.shift();
            obj[i] = obj[i] || {};
            if (arr.length > 0) {
                u.map_func(arr, obj[i], item);
            } else {
                obj[i] = item;
            }
        }
        ;
        u.sites = {
            "ecomm": {
                "required": ["prodid"],
                "params": ["prodid", "pagetype", "totalvalue", "category", "pvalue", "quantity"],
                "valuerules": ["product", "cart", "purchase"]
            },
            "hotel": {
                "required": ["hotelid"],
                "params": ["hotelid", "pagetype", "checkoutdate", "totalvalue"],
                "valuerules": ["cart", "purchase"]
            },
            "edu": {
                "required": ["pid"],
                "params": ["pid", "plocid", "pagetype"]
            },
            "flight": {
                "required": ["originid", "destid"],
                "params": ["originid", "destid", "pagetype", "totalvalue", "startdate", "enddate"],
                "valuerules": ["cart", "purchase"]
            },
            "hrental": {
                "required": ["id"],
                "params": ["id", "pagetype", "startdate", "enddate", "totalvalue"],
                "valuerules": ["conversionintent", "conversion"]
            },
            "job": {
                "required": ["id"],
                "params": ["id", "locid", "pagetype", "totalvalue"],
                "valuerules": ["conversionintent", "conversion"]
            },
            "local": {
                "required": ["id"],
                "params": ["id", "pagetype", "totalvalue"],
                "valuerules": ["conversionintent", "conversion"]
            },
            "listing": {
                "required": ["id"],
                "params": ["id", "pagetype", "totalvalue"],
                "valuerules": ["conversionintent", "conversion"]
            },
            "travel": {
                "required": ["destid"],
                "params": ["destid", "originid", "pagetype", "startdate", "enddate", "totalvalue"],
                "valuerules": ["conversionintent", "conversion"]
            },
            "dynx": {
                "required": ["itemid"],
                "params": ["itemid", "itemid2", "pagetype", "totalvalue"],
                "valuerules": ["conversionintent"]
            }
        };
        u.checkRequired = function(siteName, site) {
            var i, valid = false;
            if (!u.data[siteName]) {
                return valid;
            }
            for (i = 0; i < site.required.length; i++) {
                valid = u.data[siteName][site.required[i]] ? true : false;
            }
            return valid;
        }
        ;
        u.getValue = function(paramName, siteName, site) {
            var i;
            for (i = 0; i < site.valuerules.length; i++) {
                if (u.data.pagetype && u.data.pagetype === site.valuerules[i]) {
                    return u.data[siteName][paramName] || u.data.order_subtotal;
                }
            }
        }
        ;
        u.getParams = function() {
            var siteName, g = {}, i;
            for (siteName in u.sites) {
                var site = u.sites[siteName];
                if (!u.data[siteName]) {
                    continue;
                }
                if (u.checkRequired(siteName, site)) {
                    for (i = 0; i < site.params.length; i++) {
                        if (site.params[i] === "totalvalue") {
                            g[siteName + "_" + site.params[i]] = u.getValue(site.params[i], siteName, site);
                        } else if (site.params[i] === "pagetype") {
                            g[siteName + "_" + site.params[i]] = u.data.pagetype;
                        } else {
                            g[siteName + "_" + site.params[i]] = u.data[siteName][site.params[i]];
                        }
                    }
                }
            }
            return u.clearEmptyKeys(g);
        }
        ;
        u.getRemarketingItems = function() {
            var i, item = {}, items = [], rmkt = u.data.rmkt, len = 0, verticalName, vertical, paramName;
            if (u.data.product_id.length > 0 && !rmkt.retail) {
                rmkt.retail = {};
                rmkt.retail.id = u.data.product_id;
            }
            for (verticalName in rmkt) {
                if (!u.isEmptyObject(rmkt[verticalName])) {
                    vertical = rmkt[verticalName];
                    if (verticalName.match(/retail|education|hotel_rental|jobs|local|real_estate|custom/i) && vertical.id) {
                        len = vertical.id.length;
                    } else if (verticalName.match(/flights|travel/i) && vertical.destination) {
                        len = vertical.destination.length;
                    }
                    for (i = 0; i < len; i++) {
                        item = {};
                        for (paramName in vertical) {
                            if (vertical[paramName][i]) {
                                item[paramName] = vertical[paramName][i];
                            }
                        }
                        if (!u.isEmptyObject(item)) {
                            item.google_business_vertical = verticalName;
                            items.push(item);
                        }
                    }
                }
            }
            return items;
        }
        ;
        u.getItems = function(len) {
            var item = {}, i, j, items = [], nextLoop = false;
            items = u.getRemarketingItems();
            if (u.data.conversion_label) {
                len = len || u.data.product_id.length;
                for (i = 0; i < len; i++) {
                    item = {};
                    for (j = 0; j < items.length; j++) {
                        if (items[j].id === u.data.product_id[i]) {
                            items[j].price = (u.data.product_unit_price[i] ? u.data.product_unit_price[i] : "");
                            items[j].quantity = (u.data.product_quantity[i] ? u.data.product_quantity[i] : "");
                            nextLoop = true;
                            break;
                        }
                    }
                    if (nextLoop) {
                        nextLoop = false;
                        continue;
                    }
                    item.id = u.data.product_id[i];
                    item.price = (u.data.product_unit_price[i] ? u.data.product_unit_price[i] : "");
                    item.quantity = (u.data.product_quantity[i] ? u.data.product_quantity[i] : "");
                    items.push(item);
                }
            }
            return items;
        }
        ;
        u.map = {
            "aw_conversion_id": "conversion_id"
        };
        u.extend = [];
        u.send = function(a, b) {
            if (u.ev[a] || u.ev.all !== undefined) {
                utag.DB("send:158");
                utag.DB(b);
                var c, d, e, f, h, i, j;
                u.data = {
                    "base_url": "https://www.googletagmanager.com/gtag/js",
                    "conversion_id": "",
                    "conversion_label": "c7avCOOr79EBENOYrc4D",
                    "conversion_value": "1",
                    "pagetype": "other",
                    "remarketing": "false",
                    "data_layer_name": "",
                    "product_id": [],
                    "product_category": [],
                    "product_quantity": [],
                    "product_unit_price": [],
                    "product_discount": [],
                    "rmkt": {},
                    "config": {},
                    "event_data": {
                        "items": []
                    },
                    "event": [],
                    "custom": {}
                };
                utag.DB("send:158:EXTENSIONS");
                utag.DB(b);
                c = [];
                for (d in utag.loader.GV(u.map)) {
                    if (b[d] !== undefined && b[d] !== "") {
                        e = u.map[d].split(",");
                        for (f = 0; f < e.length; f++) {
                            u.map_func(e[f].split("."), u.data, b[d]);
                        }
                    } else {
                        h = d.split(":");
                        if (h.length === 2 && b[h[0]] === h[1]) {
                            if (u.map[d]) {
                                u.data.event = u.data.event.concat(u.map[d].split(","));
                            }
                        }
                    }
                }
                utag.DB("send:158:MAPPINGS");
                utag.DB(u.data);
                u.data.order_id = u.data.order_id || b._corder || "";
                u.data.order_subtotal = u.data.conversion_value || u.data.order_subtotal || b._csubtotal || "";
                u.data.order_currency = u.data.conversion_currency || u.data.order_currency || b._ccurrency || "";
                if (u.data.product_id.length === 0 && b._cprod !== undefined) {
                    u.data.product_id = b._cprod.slice(0);
                }
                if (u.data.product_category.length === 0 && b._ccat !== undefined) {
                    u.data.product_category = b._ccat.slice(0);
                }
                if (u.data.product_quantity.length === 0 && b._cquan !== undefined) {
                    u.data.product_quantity = b._cquan.slice(0);
                }
                if (u.data.product_unit_price.length === 0 && b._cprice !== undefined) {
                    u.data.product_unit_price = b._cprice.slice(0);
                }
                if (u.data.product_discount.length === 0 && b._cpdisc !== undefined) {
                    u.data.product_discount = b._cpdisc.slice(0);
                }
                if (u.data.event.length === 0 && b._cevent !== undefined) {
                    u.data.event = (u.typeOf(b._cevent) === "array") ? b._cevent.slice(0) : [b._cevent];
                }
                if (typeof (u.data.conversion_id) === "string" && u.data.conversion_id !== "") {
                    u.data.conversion_id = u.data.conversion_id.replace(/\s/g, "").split(",");
                }
                if (typeof (u.data.conversion_label) === "string" && u.data.conversion_label !== "") {
                    u.data.conversion_label = u.data.conversion_label.replace(/\s/g, "").split(",");
                }
                if (typeof (u.data.conversion_cookie_prefix) === "string" && u.data.conversion_cookie_prefix !== "") {
                    u.data.conversion_cookie_prefix = u.data.conversion_cookie_prefix.replace(/\s/g, "").split(",");
                }
                if (u.data.order_currency !== u.data.order_currency.toUpperCase()) {
                    u.data.order_currency = u.data.order_currency.toUpperCase();
                    utag.DB("Currency not supplied in uppercase - automatically converting");
                }
                if (!u.data.conversion_id) {
                    utag.DB(u.id + ": Tag not fired: Required attribute not populated");
                    return;
                }
                if (u.data.gtag_enable_tcf_support) {
                    window["gtag_enable_tcf_support"] = u.toBoolean(u.data.gtag_enable_tcf_support);
                }
                u.o("set", {
                    "developer_id.dYmQxMT": true
                });
                for (i = 0; i < u.data.conversion_id.length; i++) {
                    if (!/^[a-zA-Z]{2}-/.test(u.data.conversion_id[i])) {
                        u.data.conversion_id[i] = "AW-" + u.data.conversion_id[i];
                    }
                }
                u.data.base_url += "?id=" + u.data.conversion_id[0];
                if (u.data.data_layer_name) {
                    u.data.base_url = u.data.base_url + "&l=" + u.data.data_layer_name;
                }
                for (i = 0; i < u.data.conversion_id.length; i++) {
                    if (u.data.conversion_cookie_prefix && u.data.conversion_cookie_prefix[i]) {
                        u.data.config.conversion_cookie_prefix = u.data.conversion_cookie_prefix[i];
                    }
                    u.o("config", u.data.conversion_id[i], u.data.config);
                }
                u.data.event_data = u.getParams();
                u.data.event_data.items = u.getItems();
                utag.ut.merge(u.data.event_data, u.data.custom, 1);
                if (u.data.conversion_label) {
                    u.data.event_data.send_to = [];
                    for (i = 0; i < u.data.conversion_id.length; i++) {
                        u.data.event_data.send_to.push(u.data.conversion_id[i] + "/" + (u.data.conversion_label[i] || u.data.conversion_label[0]));
                    }
                    if (u.data.order_subtotal) {
                        u.data.event_data.value = u.data.order_subtotal;
                        u.data.event_data.currency = u.data.order_currency;
                        u.data.event_data.transaction_id = u.data.order_id;
                    }
                    u.data.event_data.aw_merchant_id = u.data.aw_merchant_id;
                    u.data.event_data.aw_feed_country = u.data.aw_feed_country;
                    u.data.event_data.aw_feed_language = u.data.aw_feed_language;
                    u.data.event_data.discount = 0;
                    for (j = 0; j < u.data.product_discount.length; j++) {
                        u.data.event_data.discount += isNaN(parseFloat(u.data.product_discount[j])) ? 0 : parseFloat(u.data.product_discount[j]);
                    }
                    var containsConversion = false;
                    for (i = 0; i < u.data.event.length; i++) {
                        if (u.data.event[i] === "conversion" || u.data.event[i] === "purchase") {
                            containsConversion = true;
                        }
                    }
                    if (!containsConversion && !u.data.event.length) {
                        u.data.event.push("conversion");
                    }
                }
                if (u.toBoolean(u.data.remarketing)) {
                    if (!u.data.event.length) {
                        u.data.event_data.send_to = u.data.conversion_id;
                        u.data.event.push("page_view");
                    }
                }
                for (i = 0; i < u.data.event.length; i++) {
                    u.o("event", u.data.event[i], u.clearEmptyKeys(u.data.event_data));
                }
                if (!u.hasgtagjs()) {
                    u.scriptrequested = true;
                    utag.ut.gtagScriptRequested = true;
                    u.loader({
                        "type": "script",
                        "src": u.data.base_url,
                        "cb": null,
                        "loc": "script",
                        "id": "utag_158",
                        "attrs": {}
                    });
                }
                utag.DB("send:158:COMPLETE");
            }
        }
        ;
        utag.o[loader].loader.LOAD(id);
    }("158", "woolworths.supermarkets"));
} catch (error) {
    utag.DB(error);
}

//tealium universal tag - utag.143 ut4.0.202302140104, Copyright 2023 Tealium.com Inc. All Rights Reserved.
var uetq = uetq || [];
try {
    (function(id, loader) {
        var u = {
            "id": id
        };
        utag.o[loader].sender[id] = u;
        if (utag.ut === undefined) {
            utag.ut = {};
        }
        var match = /ut\d\.(\d*)\..*/.exec(utag.cfg.v);
        if (utag.ut.loader === undefined || !match || parseInt(match[1]) < 41) {
            u.loader = function(o, a, b, c, l, m) {
                utag.DB(o);
                a = document;
                if (o.type == "iframe") {
                    m = a.getElementById(o.id);
                    if (m && m.tagName == "IFRAME") {
                        b = m;
                    } else {
                        b = a.createElement("iframe");
                    }
                    o.attrs = o.attrs || {};
                    utag.ut.merge(o.attrs, {
                        "height": "1",
                        "width": "1",
                        "style": "display:none"
                    }, 0);
                } else if (o.type == "img") {
                    utag.DB("Attach img: " + o.src);
                    b = new Image();
                } else {
                    b = a.createElement("script");
                    b.language = "javascript";
                    b.type = "text/javascript";
                    b.async = 1;
                    b.charset = "utf-8";
                }
                if (o.id) {
                    b.id = o.id;
                }
                for (l in utag.loader.GV(o.attrs)) {
                    b.setAttribute(l, o.attrs[l]);
                }
                b.setAttribute("src", o.src);
                if (typeof o.cb == "function") {
                    if (b.addEventListener) {
                        b.addEventListener("load", function() {
                            o.cb();
                        }, false);
                    } else {
                        b.onreadystatechange = function() {
                            if (this.readyState == "complete" || this.readyState == "loaded") {
                                this.onreadystatechange = null;
                                o.cb();
                            }
                        }
                        ;
                    }
                }
                if (o.type != "img" && !m) {
                    l = o.loc || "head";
                    c = a.getElementsByTagName(l)[0];
                    if (c) {
                        utag.DB("Attach to " + l + ": " + o.src);
                        if (l == "script") {
                            c.parentNode.insertBefore(b, c);
                        } else {
                            c.appendChild(b);
                        }
                    }
                }
            }
            ;
        } else {
            u.loader = utag.ut.loader;
        }
        if (utag.ut.typeOf === undefined) {
            u.typeOf = function(e) {
                return ({}).toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase();
            }
            ;
        } else {
            u.typeOf = utag.ut.typeOf;
        }
        u.ev = {
            "view": 1,
            "link": 1
        };
        u.initialized = false;
        u.scriptrequested = false;
        u.queue = [];
        u.map_func = function(arr, obj, item) {
            var i = arr.shift();
            obj[i] = obj[i] || {};
            if (arr.length > 0) {
                u.map_func(arr, obj[i], item);
            } else {
                obj[i] = item;
            }
        }
        ;
        u.clearEmptyKeys = function(object) {
            for (var key in object) {
                if (object[key] === "" || object[key] === undefined) {
                    delete object[key];
                }
            }
            return object;
        }
        ;
        u.items = function(eventData) {
            var i, config, items = [];
            if (eventData && u.typeOf(eventData.product_id) === "array" && eventData.product_id.length > 0) {
                for (i = 0; i < eventData.product_id.length; i++) {
                    config = {};
                    if (eventData.product_brand) {
                        config.brand = eventData.product_brand[i];
                    } else {
                        config.brand = u.data.product_brand[i];
                    }
                    if (eventData.product_category) {
                        config.category = eventData.product_category[i];
                    } else {
                        config.category = u.data.product_category[i];
                    }
                    if (eventData.product_creative_name) {
                        config.creative_name = eventData.product_creative_name[i];
                    } else {
                        config.creative_name = u.data.product_creative_name[i];
                    }
                    if (eventData.product_creative_slot) {
                        config.creative_slot = eventData.product_creative_slot[i];
                    } else {
                        config.creative_slot = u.data.product_creative_slot[i];
                    }
                    if (eventData.product_id) {
                        config.id = eventData.product_id[i];
                    } else {
                        config.id = u.data.product_id[i];
                    }
                    if (eventData.product_location_id) {
                        config.location_id = eventData.product_location_id[i];
                    } else {
                        config.location_id = u.data.product_location_id[i];
                    }
                    if (eventData.product_name) {
                        config.name = eventData.product_name[i];
                    } else {
                        config.name = u.data.product_name[i];
                    }
                    if (eventData.product_unit_price) {
                        config.price = eventData.product_unit_price[i];
                    } else {
                        config.price = u.data.product_unit_price[i];
                    }
                    if (eventData.product_quantity) {
                        config.quantity = eventData.product_quantity[i];
                    } else {
                        config.quantity = u.data.product_quantity[i];
                    }
                    items.push(config);
                }
            } else if (eventData && u.data.product_id.length > 0) {
                for (i = 0; i < u.data.product_id.length; i++) {
                    config = {};
                    if (eventData.product_brand) {
                        config.brand = eventData.product_brand[i];
                    } else {
                        config.brand = u.data.product_brand[i];
                    }
                    if (eventData.product_category) {
                        config.category = eventData.product_category[i];
                    } else {
                        config.category = u.data.product_category[i];
                    }
                    if (eventData.product_creative_name) {
                        config.creative_name = eventData.product_creative_name[i];
                    } else {
                        config.creative_name = u.data.product_creative_name[i];
                    }
                    if (eventData.product_creative_slot) {
                        config.creative_slot = eventData.product_creative_slot[i];
                    } else {
                        config.creative_slot = u.data.product_creative_slot[i];
                    }
                    if (eventData.product_id) {
                        config.id = eventData.product_id[i];
                    } else {
                        config.id = u.data.product_id[i];
                    }
                    if (eventData.product_location_id) {
                        config.location_id = eventData.product_location_id[i];
                    } else {
                        config.location_id = u.data.product_location_id[i];
                    }
                    if (eventData.product_name) {
                        config.name = eventData.product_name[i];
                    } else {
                        config.name = u.data.product_name[i];
                    }
                    if (eventData.product_unit_price) {
                        config.price = eventData.product_unit_price[i];
                    } else {
                        config.price = u.data.product_unit_price[i];
                    }
                    if (eventData.product_quantity) {
                        config.quantity = eventData.product_quantity[i];
                    } else {
                        config.quantity = u.data.product_quantity[i];
                    }
                    items.push(config);
                }
            } else if (u.data.product_id.length > 0) {
                for (i = 0; i < u.data.product_id.length; i++) {
                    config = {};
                    if (u.data.product_brand) {
                        config.brand = u.data.product_brand[i];
                    }
                    if (u.data.product_category) {
                        config.category = u.data.product_category[i];
                    }
                    if (u.data.product_creative_name) {
                        config.creative_name = u.data.product_creative_name[i];
                    }
                    if (u.data.product_creative_slot) {
                        config.creative_slot = u.data.product_creative_slot[i];
                    }
                    if (u.data.product_id) {
                        config.id = u.data.product_id[i];
                    }
                    if (u.data.product_location_id) {
                        config.location_id = u.data.product_location_id[i];
                    }
                    if (u.data.product_name) {
                        config.name = u.data.product_name[i];
                    }
                    if (u.data.product_unit_price) {
                        config.price = u.data.product_unit_price[i];
                    }
                    if (u.data.product_quantity) {
                        config.quantity = u.data.product_quantity[i];
                    }
                    items.push(config);
                }
            }
            return items;
        }
        ;
        u.promotions = function(eventData) {
            var i, config, items = [];
            if (eventData && u.typeOf(eventData.promotion_id) === "array" && eventData.promotion_id.length > 0) {
                for (i = 0; i < eventData.promotion_id.length; i++) {
                    config = {};
                    if (eventData.promotion_creative_name) {
                        config.creative_name = eventData.promotion_creative_name[i];
                    } else {
                        config.creative_name = u.data.promotion_creative_name[i];
                    }
                    if (eventData.promotion_creative_slot) {
                        config.creative_slot = eventData.promotion_creative_slot[i];
                    } else {
                        config.creative_slot = u.data.promotion_creative_slot[i];
                    }
                    if (eventData.promotion_id) {
                        config.id = eventData.promotion_id[i];
                    } else {
                        config.id = u.data.promotion_id[i];
                    }
                    if (eventData.promotion_name) {
                        config.name = eventData.promotion_name[i];
                    } else {
                        config.name = u.data.promotion_name[i];
                    }
                    items.push(config);
                }
            } else if (eventData && u.data.promotion_id.length > 0) {
                for (i = 0; i < u.data.promotion_id.length; i++) {
                    config = {};
                    if (eventData.promotion_creative_name) {
                        config.creative_name = eventData.promotion_creative_name[i];
                    } else {
                        config.creative_name = u.data.promotion_creative_name[i];
                    }
                    if (eventData.promotion_creative_slot) {
                        config.creative_slot = eventData.promotion_creative_slot[i];
                    } else {
                        config.creative_slot = u.data.promotion_creative_slot[i];
                    }
                    if (eventData.promotion_id) {
                        config.id = eventData.promotion_id[i];
                    } else {
                        config.id = u.data.promotion_id[i];
                    }
                    if (eventData.promotion_name) {
                        config.name = eventData.promotion_name[i];
                    } else {
                        config.name = u.data.promotion_name[i];
                    }
                    items.push(config);
                }
            } else if (u.data.promotion_id.length > 0) {
                for (i = 0; i < u.data.promotion_id.length; i++) {
                    config = {};
                    if (u.data.promotion_creative_name) {
                        config.creative_name = u.data.promotion_creative_name[i];
                    }
                    if (u.data.promotion_creative_slot) {
                        config.creative_slot = u.data.purchaseId[i];
                    }
                    if (u.data.promotion_id) {
                        config.id = u.data.promotion_id[i];
                    }
                    if (u.data.promotion_name) {
                        config.name = u.data.promotion_name[i];
                    }
                    items.push(config);
                }
            }
            return items;
        }
        ;
        u.event_map = {
            "add_payment_info": [],
            "add_to_cart": [{
                "name": "event_value"
            }, {
                "name": "currency"
            }, {
                "name": "items"
            }],
            "add_to_wishlist": [{
                "name": "event_value"
            }, {
                "name": "currency"
            }, {
                "name": "items"
            }],
            "begin_checkout": [{
                "name": "event_value"
            }, {
                "name": "currency"
            }, {
                "name": "items"
            }, {
                "name": "coupon"
            }],
            "checkout_progress": [{
                "name": "event_value"
            }, {
                "name": "currency"
            }, {
                "name": "items"
            }, {
                "name": "coupon"
            }, {
                "name": "checkout_step"
            }, {
                "name": "checkout_option"
            }],
            "exception": [{
                "name": "description"
            }, {
                "name": "fatal"
            }],
            "generate_lead": [{
                "name": "event_value"
            }, {
                "name": "currency"
            }, {
                "name": "transaction_id"
            }],
            "login": [{
                "name": "method"
            }],
            "page_view": [],
            "purchase": [{
                "name": "transaction_id"
            }, {
                "name": "event_value"
            }, {
                "name": "currency"
            }, {
                "name": "tax"
            }, {
                "name": "shipping"
            }, {
                "name": "items"
            }, {
                "name": "coupon"
            }, {
                "name": "revenue_value"
            }],
            "refund": [{
                "name": "transaction_id"
            }, {
                "name": "event_value"
            }, {
                "name": "currency"
            }, {
                "name": "tax"
            }, {
                "name": "shipping"
            }, {
                "name": "items"
            }],
            "remove_from_cart": [{
                "name": "event_value"
            }, {
                "name": "currency"
            }, {
                "name": "items"
            }],
            "screen_view": [{
                "name": "screen_name"
            }],
            "search": [{
                "name": "search_term"
            }],
            "select_content": [{
                "name": "items"
            }, {
                "name": "promotion"
            }, {
                "name": "content_type"
            }, {
                "name": "content_id"
            }],
            "set_checkout_option": [{
                "name": "checkout_step"
            }, {
                "name": "checkout_option"
            }],
            "share": [{
                "name": "method"
            }, {
                "name": "content_type"
            }, {
                "name": "content_id"
            }],
            "sign_up": [{
                "name": "method"
            }],
            "timing_complete": [{
                "name": "name"
            }, {
                "name": "event_value"
            }],
            "view_item": [{
                "name": "items"
            }],
            "view_item_list": [{
                "name": "items"
            }],
            "view_promotion": [{
                "name": "promotions"
            }],
            "view_search_results": [{
                "name": "search_term"
            }],
            "retail": [{
                "name": "event_action"
            }, {
                "name": "ecomm_prodid"
            }, {
                "name": "ecomm_pagetype"
            }, {
                "name": "ecomm_totalvalue"
            }, {
                "name": "ecomm_category"
            }],
            "travel": [{
                "name": "event_action"
            }, {
                "name": "travel_destid"
            }, {
                "name": "travel_originid"
            }, {
                "name": "travel_pagetype"
            }, {
                "name": "travel_startdate"
            }, {
                "name": "travel_enddate"
            }, {
                "name": "travel_totalvalue"
            }],
            "hotel": [{
                "name": "event_action"
            }, {
                "name": "currency"
            }, {
                "name": "hct_base_price"
            }, {
                "name": "hct_total_price"
            }, {
                "name": "hct_checkin_date"
            }, {
                "name": "hct_checkout_date"
            }, {
                "name": "hct_length_of_stay"
            }, {
                "name": "hct_partner_hotel_id"
            }, {
                "name": "hct_booking_xref"
            }, {
                "name": "hct_pagetype"
            }]
        };
        u.std_params = {
            "event_value": function(_event) {
                if (u.data[_event] && u.data[_event].event_value) {
                    return u.data[_event].event_value;
                } else if (u.data.event_value) {
                    return u.data.event_value;
                } else if (u.data[_event] && u.data[_event].order_subtotal) {
                    return u.data[_event].order_subtotal;
                } else {
                    return u.data.order_subtotal;
                }
            },
            "event_action": function(_event) {
                if (u.data[_event] && u.data[_event].event_action) {
                    return u.data[_event].event_action;
                } else {
                    return u.data.event_action;
                }
            },
            "event_label": function(_event) {
                if (u.data[_event] && u.data[_event].event_label) {
                    return u.data[_event].event_label;
                } else {
                    return u.data.event_label;
                }
            },
            "event_category": function(_event) {
                if (u.data[_event] && u.data[_event].event_category) {
                    return u.data[_event].event_category;
                } else {
                    return u.data.event_category;
                }
            },
            "currency": function(_event) {
                if (u.data[_event] && u.data[_event].order_currency) {
                    return u.data[_event].order_currency;
                } else {
                    return u.data.order_currency;
                }
            },
            "items": function(_event) {
                return u.items(u.data[_event]);
            },
            "coupon": function(_event) {
                if (u.data[_event] && u.data[_event].order_coupon_code) {
                    return u.data[_event].order_coupon_code;
                } else {
                    return u.data.order_coupon_code;
                }
            },
            "checkout_step": function(_event) {
                if (u.data[_event] && u.data[_event].checkout_step) {
                    return u.data[_event].checkout_step;
                } else {
                    return u.data.checkout_step;
                }
            },
            "checkout_option": function(_event) {
                if (u.data[_event] && u.data[_event].checkout_option) {
                    return u.data[_event].checkout_option;
                } else {
                    return u.data.checkout_option;
                }
            },
            "description": function(_event) {
                if (u.data[_event] && u.data[_event].description) {
                    return u.data[_event].description;
                } else {
                    return u.data.description;
                }
            },
            "fatal": function(_event) {
                if (u.data[_event] && u.data[_event].fatal) {
                    return u.data[_event].fatal;
                } else {
                    return u.data.fatal;
                }
            },
            "tax": function(_event) {
                if (u.data[_event] && u.data[_event].order_tax) {
                    return u.data[_event].order_tax;
                } else {
                    return u.data.order_tax;
                }
            },
            "shipping": function(_event) {
                if (u.data[_event] && u.data[_event].order_shipping) {
                    return u.data[_event].order_shipping;
                } else {
                    return u.data.order_shipping;
                }
            },
            "transaction_id": function(_event) {
                if (u.data[_event] && u.data[_event].order_id) {
                    return u.data[_event].order_id;
                } else {
                    return u.data.order_id;
                }
            },
            "revenue_value": function(_event) {
                if (u.data[_event] && u.data[_event].revenue_value) {
                    return u.data[_event].revenue_value;
                }
            },
            "method": function(_event) {
                if (u.data[_event] && u.data[_event].method) {
                    return u.data[_event].method;
                } else {
                    return u.data.method;
                }
            },
            "screen_name": function(_event) {
                if (u.data[_event] && u.data[_event].screen_name) {
                    return u.data[_event].screen_name;
                } else {
                    return u.data.screen_name;
                }
            },
            "search_term": function(_event) {
                if (u.data[_event] && u.data[_event].search_term) {
                    return u.data[_event].search_term;
                } else {
                    return u.data.search_term;
                }
            },
            "promotions": function(_event) {
                return u.promotions(u.data[_event]);
            },
            "content_type": function(_event) {
                if (u.data[_event] && u.data[_event].content_type) {
                    return u.data[_event].content_type;
                } else {
                    return u.data.content_type;
                }
            },
            "content_id": function(_event) {
                if (u.data[_event] && u.data[_event].content_id) {
                    return u.data[_event].content_id;
                } else {
                    return u.data.content_id;
                }
            },
            "name": function(_event) {
                if (u.data[_event] && u.data[_event].name) {
                    return u.data[_event].name;
                } else {
                    return u.data.name;
                }
            },
            "ecomm_prodid": function(_event) {
                if (u.data[_event] && u.data[_event].ecomm_prodid) {
                    return u.data[_event].ecomm_prodid;
                } else {
                    return u.data.ecomm_prodid;
                }
            },
            "ecomm_pagetype": function(_event) {
                if (u.data[_event] && u.data[_event].ecomm_pagetype) {
                    return u.data[_event].ecomm_pagetype;
                } else {
                    return u.data.ecomm_pagetype;
                }
            },
            "ecomm_totalvalue": function(_event) {
                if (u.data[_event] && u.data[_event].ecomm_totalvalue) {
                    return u.data[_event].ecomm_totalvalue;
                } else {
                    return u.data.ecomm_totalvalue;
                }
            },
            "ecomm_category": function(_event) {
                if (u.data[_event] && u.data[_event].ecomm_category) {
                    return u.data[_event].ecomm_category;
                } else {
                    return u.data.ecomm_category;
                }
            },
            "travel_destid": function(_event) {
                if (u.data[_event] && u.data[_event].travel_destid) {
                    return u.data[_event].travel_destid;
                } else {
                    return u.data.travel_destid;
                }
            },
            "travel_originid": function(_event) {
                if (u.data[_event] && u.data[_event].travel_originid) {
                    return u.data[_event].travel_originid;
                } else {
                    return u.data.travel_originid;
                }
            },
            "travel_pagetype": function(_event) {
                if (u.data[_event] && u.data[_event].travel_pagetype) {
                    return u.data[_event].travel_pagetype;
                } else {
                    return u.data.travel_pagetype;
                }
            },
            "travel_startdate": function(_event) {
                if (u.data[_event] && u.data[_event].travel_startdate) {
                    return u.data[_event].travel_startdate;
                } else {
                    return u.data.travel_startdate;
                }
            },
            "travel_enddate": function(_event) {
                if (u.data[_event] && u.data[_event].travel_enddate) {
                    return u.data[_event].travel_enddate;
                } else {
                    return u.data.travel_enddate;
                }
            },
            "travel_totalvalue": function(_event) {
                if (u.data[_event] && u.data[_event].travel_totalvalue) {
                    return u.data[_event].travel_totalvalue;
                } else {
                    return u.data.travel_totalvalue;
                }
            },
            "hct_base_price": function(_event) {
                if (u.data[_event] && u.data[_event].hct_base_price) {
                    return u.data[_event].hct_base_price;
                } else if (u.data.hct_base_price) {
                    return u.data.hct_base_price;
                } else if (u.data[_event] && u.data[_event].hct_bpr) {
                    return u.data[_event].hct_bpr;
                } else {
                    return u.data.hct_bpr;
                }
            },
            "hct_total_price": function(_event) {
                if (u.data[_event] && u.data[_event].hct_total_price) {
                    return u.data[_event].hct_total_price;
                } else if (u.data.hct_total_price) {
                    return u.data.hct_total_price;
                } else if (u.data[_event] && u.data[_event].hct_tpr) {
                    return u.data[_event].hct_tpr;
                } else {
                    return u.data.hct_tpr;
                }
            },
            "hct_checkin_date": function(_event) {
                if (u.data[_event] && u.data[_event].hct_checkin_date) {
                    return u.data[_event].hct_checkin_date;
                } else if (u.data.hct_checkin_date) {
                    return u.data.hct_checkin_date;
                } else if (u.data[_event] && u.data[_event].hct_cid) {
                    return u.data[_event].hct_cid;
                } else {
                    return u.data.hct_cid;
                }
            },
            "hct_checkout_date": function(_event) {
                if (u.data[_event] && u.data[_event].hct_checkout_date) {
                    return u.data[_event].hct_checkout_date;
                } else if (u.data.hct_checkout_date) {
                    return u.data.hct_checkout_date;
                } else if (u.data[_event] && u.data[_event].hct_cod) {
                    return u.data[_event].hct_cod;
                } else {
                    return u.data.hct_cod;
                }
            },
            "hct_length_of_stay": function(_event) {
                if (u.data[_event] && u.data[_event].hct_length_of_stay) {
                    return u.data[_event].hct_length_of_stay;
                } else if (u.data.hct_length_of_stay) {
                    return u.data.hct_length_of_stay;
                } else if (u.data[_event] && u.data[_event].hct_los) {
                    return u.data[_event].hct_los;
                } else {
                    return u.data.hct_los;
                }
            },
            "hct_partner_hotel_id": function(_event) {
                if (u.data[_event] && u.data[_event].hct_partner_hotel_id) {
                    return u.data[_event].hct_partner_hotel_id;
                } else if (u.data.hct_partner_hotel_id) {
                    return u.data.hct_partner_hotel_id;
                } else if (u.data[_event] && u.data[_event].hct_pid) {
                    return u.data[_event].hct_pid;
                } else {
                    return u.data.hct_pid;
                }
            },
            "hct_booking_xref": function(_event) {
                if (u.data[_event] && u.data[_event].hct_booking_xref) {
                    return u.data[_event].hct_booking_xref;
                } else if (u.data.hct_booking_xref) {
                    return u.data.hct_booking_xref;
                } else if (u.data[_event] && u.data[_event].hct_bid) {
                    return u.data[_event].hct_bid;
                } else {
                    return u.data.hct_bid;
                }
            },
            "hct_pagetype": function(_event) {
                if (u.data[_event] && u.data[_event].hct_pagetype) {
                    return u.data[_event].hct_pagetype;
                } else {
                    return u.data.hct_pagetype;
                }
            }
        };
        u.map = {
            "bing_tagid": "tagid",
            "product.ID": "retail.ecomm_prodid,ecomm_prodid",
            "bing_pagetype": "retail.ecomm_pagetype,ecomm_pagetype",
            "bing_pagetype:product": "retail",
            "bing_pagetype:purchase": "retail"
        };
        u.extend = [function(a, b, c, d, e, f, g) {
            if ((typeof b['page.Type'] != 'undefined' && typeof b['page.Type'] != 'undefined' && b['page.Type'] != '')) {
                d = b['page.Type'];
                if (typeof d == 'undefined')
                    return;
                c = [{
                    'home': 'home'
                }, {
                    'search': 'searchresults'
                }, {
                    'productcategory': 'category'
                }, {
                    'productdetail': 'product'
                }, {
                    'cart': 'cart'
                }, {
                    'order': 'purchase'
                }];
                var m = false;
                for (e = 0; e < c.length; e++) {
                    for (f in utag.loader.GV(c[e])) {
                        if (d == f) {
                            b['bing_pagetype'] = c[e][f];
                            m = true
                        }
                        ;
                    }
                    ;if (m)
                        break
                }
                ;if (!m)
                    b['bing_pagetype'] = 'other';
            }
        }
        ];
        u.loader_cb = function(a, b, c) {
            utag.DB("send:143:CALLBACK");
            if (!u.initialized) {
                var o = {
                    ti: u.data.tagid
                };
                o.q = uetq;
                uetq = new UET(o);
                uetq.push("pageLoad");
            }
            u.initialized = true;
            var i, j, event_param, _event;
            for (i = 0; i < u.data.event.length; i++) {
                _event = u.data.event[i];
                u.data.eventData[_event] = u.data.eventData[_event] || {};
                if (u.event_map[_event]) {
                    for (j = 0; j < u.event_map[_event].length; j++) {
                        event_param = u.event_map[_event][j];
                        u.data.eventData[_event][event_param.name] = u.std_params[event_param.name](_event);
                        if (u.data.eventData[_event][event_param.name] === undefined && event_param.required) {
                            utag.DB(u.id + ": Event: " + _event + ": Required attribute not populated");
                        }
                    }
                }
                var data = {}, keyname, event_action;
                var customEventData = {};
                for (keyname in u.data.custom) {
                    customEventData[keyname] = u.data.custom[keyname];
                }
                if (u.data[_event] && u.data[_event].custom) {
                    for (keyname in u.data[_event].custom) {
                        customEventData[keyname] = u.data[_event].custom[keyname];
                    }
                }
                switch (_event) {
                    case "add_payment_info":
                    case "page_view":
                        window.uetq.push("event", _event, u.data[_event]);
                        break;
                    case "add_to_cart":
                    case "remove_from_cart":
                    case "add_to_wishlist":
                    case "begin_checkout":
                    case "checkout_progress":
                        data = {
                            event_value: u.data.eventData[_event].event_value,
                            currency: u.data.eventData[_event].currency,
                            items: u.data.eventData[_event].items
                        };
                        if (_event === "begin_checkout" || _event === "checkout_progress") {
                            data.coupon = u.data.eventData[_event].coupon;
                        }
                        if (_event === "checkout_progress") {
                            data.checkout_step = u.data.eventData[_event].checkout_step;
                            data.checkout_option = u.data.eventData[_event].checkout_option;
                        }
                        for (keyname in customEventData) {
                            data[keyname] = customEventData[keyname];
                        }
                        u.clearEmptyKeys(data);
                        window.uetq.push("event", _event, data);
                        break;
                    case "exception":
                        data = {
                            description: u.data.eventData[_event].description,
                            fatal: u.data.eventData[_event].fatal
                        };
                        for (keyname in customEventData) {
                            data[keyname] = customEventData[keyname];
                        }
                        u.clearEmptyKeys(data);
                        window.uetq.push("event", _event, data);
                        break;
                    case "generate_lead":
                    case "purchase":
                    case "refund":
                        data = {
                            event_value: u.data.eventData[_event].event_value,
                            currency: u.data.eventData[_event].currency,
                            transaction_id: u.data.eventData[_event].transaction_id
                        };
                        if (_event === "purchase") {
                            data.coupon = u.data.eventData[_event].coupon;
                            data.revenue_value = u.data.eventData[_event].revenue_value;
                        }
                        if (_event === "purchase" || _event === "refund") {
                            data.tax = u.data.eventData[_event].tax;
                            data.shipping = u.data.eventData[_event].shipping;
                            data.items = u.data.eventData[_event].items;
                        }
                        for (keyname in customEventData) {
                            data[keyname] = customEventData[keyname];
                        }
                        u.clearEmptyKeys(data);
                        window.uetq.push("event", _event, data);
                        break;
                    case "login":
                    case "sign_up":
                    case "share":
                        data = {
                            method: u.data.eventData[_event].method
                        };
                        if (_event === "share") {
                            data.content_type = u.data.eventData[_event].content_type;
                            data.content_id = u.data.eventData[_event].content_id;
                        }
                        for (keyname in customEventData) {
                            data[keyname] = customEventData[keyname];
                        }
                        u.clearEmptyKeys(data);
                        window.uetq.push("event", _event, data);
                        break;
                    case "select_content":
                        data = {
                            items: u.data.eventData[_event].items,
                            promotions: u.data.eventData[_event].promotions,
                            content_type: u.data.eventData[_event].content_type,
                            content_id: u.data.eventData[_event].content_id
                        };
                        for (keyname in customEventData) {
                            data[keyname] = customEventData[keyname];
                        }
                        u.clearEmptyKeys(data);
                        window.uetq.push("event", _event, data);
                        break;
                    case "set_checkout_option":
                        data = {
                            checkout_step: u.data.eventData[_event].checkout_step,
                            checkout_option: u.data.eventData[_event].checkout_option
                        };
                        for (keyname in customEventData) {
                            data[keyname] = customEventData[keyname];
                        }
                        u.clearEmptyKeys(data);
                        window.uetq.push("event", _event, data);
                        break;
                    case "screen_view":
                        data = {
                            screen_name: u.data.eventData[_event].screen_name
                        };
                        for (keyname in customEventData) {
                            data[keyname] = customEventData[keyname];
                        }
                        u.clearEmptyKeys(data);
                        window.uetq.push("event", _event, data);
                        break;
                    case "search":
                    case "view_search_results":
                        data = {
                            search_term: u.data.eventData[_event].search_term
                        };
                        for (keyname in customEventData) {
                            data[keyname] = customEventData[keyname];
                        }
                        u.clearEmptyKeys(data);
                        window.uetq.push("event", _event, data);
                        break;
                    case "view_item":
                    case "view_item_list":
                        data = {
                            items: u.data.eventData[_event].items
                        };
                        for (keyname in customEventData) {
                            data[keyname] = customEventData[keyname];
                        }
                        u.clearEmptyKeys(data);
                        window.uetq.push("event", _event, data);
                        break;
                    case "timing_complete":
                        data = {
                            name: u.data.eventData[_event].name,
                            event_value: u.data.eventData[_event].event_value
                        };
                        for (keyname in customEventData) {
                            data[keyname] = customEventData[keyname];
                        }
                        u.clearEmptyKeys(data);
                        window.uetq.push("event", _event, data);
                        break;
                    case "view_promotion":
                        data = {
                            promotions: u.data.eventData[_event].promotions
                        };
                        for (keyname in customEventData) {
                            data[keyname] = customEventData[keyname];
                        }
                        u.clearEmptyKeys(data);
                        window.uetq.push("event", _event, data);
                        break;
                    case "retail":
                        data = {
                            ecomm_pagetype: u.data.eventData[_event].ecomm_pagetype,
                            ecomm_prodid: u.data.eventData[_event].ecomm_prodid,
                            ecomm_totalvalue: u.data.eventData[_event].ecomm_totalvalue,
                            ecomm_category: u.data.eventData[_event].ecomm_category
                        };
                        for (keyname in customEventData) {
                            data[keyname] = customEventData[keyname];
                        }
                        u.clearEmptyKeys(data);
                        event_action = u.data.eventData[_event].event_action || "";
                        window.uetq.push("event", event_action, data);
                        break;
                    case "travel":
                        data = {
                            travel_destid: u.data.eventData[_event].travel_destid,
                            travel_originid: u.data.eventData[_event].travel_originid,
                            travel_pagetype: u.data.eventData[_event].travel_pagetype,
                            travel_startdate: u.data.eventData[_event].travel_startdate,
                            travel_endadate: u.data.eventData[_event].travel_endadate,
                            travel_totalvalue: u.data.eventData[_event].travel_totalvalue
                        };
                        for (keyname in customEventData) {
                            data[keyname] = customEventData[keyname];
                        }
                        u.clearEmptyKeys(data);
                        event_action = u.data.eventData[_event].event_action || "";
                        window.uetq.push("event", event_action, data);
                        break;
                    case "hotel":
                        data = {
                            hct_base_price: u.data.eventData[_event].hct_base_price,
                            hct_total_price: u.data.eventData[_event].hct_total_price,
                            currency: u.data.eventData[_event].currency,
                            hct_checkin_date: u.data.eventData[_event].hct_checkin_date,
                            hct_checkout_date: u.data.eventData[_event].hct_checkout_date,
                            hct_length_of_stay: u.data.eventData[_event].hct_length_of_stay,
                            hct_partner_hotel_id: u.data.eventData[_event].hct_partner_hotel_id,
                            hct_pagetype: u.data.eventData[_event].hct_pagetype
                        };
                        for (keyname in customEventData) {
                            data[keyname] = customEventData[keyname];
                        }
                        u.clearEmptyKeys(data);
                        event_action = u.data.eventData[_event].event_action || "";
                        window.uetq.push("event", event_action, data);
                        break;
                    default:
                        data = {};
                        for (keyname in u.data[_event]) {
                            if (keyname !== "event_action" || keyname !== "custom")
                                data[keyname] = u.data[_event][keyname];
                        }
                        if (data.event_category === undefined) {
                            data.event_category = u.data.event_category || "";
                        }
                        if (data.event_label === undefined) {
                            data.event_label = u.data.event_label || "";
                        }
                        if (data.event_value === undefined) {
                            data.event_value = u.data.event_value || "";
                        }
                        for (keyname in customEventData) {
                            data[keyname] = customEventData[keyname];
                        }
                        u.clearEmptyKeys(data);
                        event_action = u.data.eventData[_event].event_action || u.data.event_action || "";
                        window.uetq.push("event", event_action, data);
                        break;
                }
            }
            utag.DB("send:143:CALLBACK:COMPLETE");
        }
        ;
        u.callBack = function() {
            var data = {};
            while (data = u.queue.shift()) {
                u.data = data.data;
                u.loader_cb(data.a, data.b, data.c);
            }
        }
        ;
        u.send = function(a, b) {
            if (u.ev[a] || u.ev.all !== undefined) {
                utag.DB("send:143");
                utag.DB(b);
                var c, d, e, f, h;
                u.data = {
                    "qsp_delim": "&",
                    "kvp_delim": "=",
                    "base_url": "//bat.bing.com/bat.js",
                    "tagid": "",
                    "product_id": [],
                    "product_name": [],
                    "product_brand": [],
                    "product_category": [],
                    "product_quantity": [],
                    "product_unit_price": [],
                    "product_creative_slot": [],
                    "product_creative_name": [],
                    "product_location_id": [],
                    "promotion_creative_name": [],
                    "promotion_creative_slot": [],
                    "promotion_id": [],
                    "promotion_name": [],
                    "event": [],
                    "eventData": {},
                    "custom": {}
                };
                for (c = 0; c < u.extend.length; c++) {
                    try {
                        d = u.extend[c](a, b);
                        if (d == false)
                            return
                    } catch (e) {
                        if (typeof utag_err != 'undefined') {
                            utag_err.push({
                                e: 'extension error:' + e,
                                s: utag.cfg.path + 'utag.' + id + '.js',
                                l: c,
                                t: 'ex'
                            })
                        }
                    }
                }
                ;utag.DB("send:143:EXTENSIONS");
                utag.DB(b);
                c = [];
                for (d in utag.loader.GV(u.map)) {
                    if (b[d] !== undefined && b[d] !== "") {
                        e = u.map[d].split(",");
                        for (f = 0; f < e.length; f++) {
                            u.map_func(e[f].split("."), u.data, b[d]);
                        }
                    } else {
                        h = d.split(":");
                        if (h.length === 2 && b[h[0]] === h[1]) {
                            if (u.map[d]) {
                                u.data.event = u.data.event.concat(u.map[d].split(","));
                            }
                        }
                    }
                }
                utag.DB("send:143:MAPPINGS");
                utag.DB(u.data);
                u.data.order_id = u.data.order_id || b._corder || "";
                u.data.order_subtotal = u.data.order_subtotal || b._csubtotal || "";
                u.data.order_shipping = u.data.order_shipping || b._cship || "";
                u.data.order_tax = u.data.order_tax || b._ctax || "";
                u.data.order_currency = u.data.order_currency || b._ccurrency || "";
                u.data.order_coupon_code = u.data.order_coupon_code || b._cpromo || "";
                if (u.data.product_id.length === 0 && b._cprod !== undefined) {
                    u.data.product_id = b._cprod.slice(0);
                }
                if (u.data.product_name.length === 0 && b._cprodname !== undefined) {
                    u.data.product_name = b._cprodname.slice(0);
                }
                if (u.data.product_brand.length === 0 && b._cbrand !== undefined) {
                    u.data.product_brand = b._cbrand.slice(0);
                }
                if (u.data.product_category.length === 0 && b._ccat !== undefined) {
                    u.data.product_category = b._ccat.slice(0);
                }
                if (u.data.product_quantity.length === 0 && b._cquan !== undefined) {
                    u.data.product_quantity = b._cquan.slice(0);
                }
                if (u.data.product_unit_price.length === 0 && b._cprice !== undefined) {
                    u.data.product_unit_price = b._cprice.slice(0);
                }
                if (u.data.event.length === 0 && b._cevent !== undefined) {
                    u.data.event = (u.typeOf(b._cevent) === "array") ? b._cevent.slice(0) : [b._cevent];
                }
                if (!u.data.tagid) {
                    utag.DB(u.id + ": Tag not fired: Required attribute not populated");
                    return;
                }
                if (u.initialized) {
                    u.loader_cb(a, b, c);
                } else {
                    u.queue.push({
                        "data": u.data,
                        "a": a,
                        "b": b,
                        "c": c
                    });
                    if (!u.scriptrequested) {
                        u.scriptrequested = true;
                        u.loader({
                            "type": "script",
                            "src": u.data.base_url,
                            "cb": u.callBack,
                            "loc": "script",
                            "id": "utag_143",
                            "attrs": {}
                        });
                    }
                }
                utag.DB("send:143:COMPLETE");
            }
        }
        ;
        utag.o[loader].loader.LOAD(id);
    }("143", "woolworths.supermarkets"));
} catch (error) {
    utag.DB(error);
}

//tealium universal tag - utag.28 ut4.0.202302140104, Copyright 2023 Tealium.com Inc. All Rights Reserved.
try {
    (function(id, loader, u) {
            u = utag.o[loader].sender[id] = {};
            u.ev = {
                'view': 1
            };
            u.qsp_delim = ";";
            u.data = {};
            u.data.id1 = "N70003.197812NSO.CODESRV";
            u.data.id2 = "B9845583";
            u.data.dcadv = "133143069";
            u.data.sz = "1x2";
            u.map = {};
            u.extend = [];
            u.send = function(a, b) {
                if (u.ev[a] || typeof u.ev.all != "undefined") {
                    var c, d, e, f;
                    c = [];
                    for (d in utag.loader.GV(u.map)) {
                        if (typeof b[d] !== "undefined" && b[d] !== "") {
                            e = u.map[d].split(",");
                            for (f = 0; f < e.length; f++) {
                                u.data[e[f]] = encodeURIComponent(b[d]);
                            }
                        }
                    }
                    var ord = Math.random() * 1000000000000;
                    c.push(u.data.id2, "dcadv=" + u.data.dcadv, "sz=" + u.data.sz, "ord=" + ord);
                    u.base_url = "//ad.doubleclick.net/adj/" + u.data.id1 + "/";
                    if (document.referrer) {
                        u.s = document.getElementsByTagName("script")[0];
                        u.scr = document.createElement("script");
                        u.scr.type = "text/javascript";
                        u.scr.src = u.base_url + c.join(u.qsp_delim);
                        u.s.parentNode.insertBefore(u.scr, u.s);
                    }
                }
            }
            utag.o[loader].loader.LOAD(id);
        }
    )('28', 'woolworths.supermarkets');
} catch (e) {}

//tealium universal tag - utag.79 ut4.0.202302140104, Copyright 2023 Tealium.com Inc. All Rights Reserved.
try {
    (function(id, loader) {
        var u = {
            "id": id
        };
        utag.o[loader].sender[id] = u;
        if (utag.ut === undefined) {
            utag.ut = {};
        }
        var match = /ut\d\.(\d*)\..*/.exec(utag.cfg.v);
        if (utag.ut.loader === undefined || !match || parseInt(match[1]) < 41) {
            u.loader = function(o, a, b, c, l, m) {
                utag.DB(o);
                a = document;
                if (o.type == "iframe") {
                    m = a.getElementById(o.id);
                    if (m && m.tagName == "IFRAME") {
                        b = m;
                    } else {
                        b = a.createElement("iframe");
                    }
                    o.attrs = o.attrs || {};
                    utag.ut.merge(o.attrs, {
                        "height": "1",
                        "width": "1",
                        "style": "display:none"
                    }, 0);
                } else if (o.type == "img") {
                    utag.DB("Attach img: " + o.src);
                    b = new Image();
                } else {
                    b = a.createElement("script");
                    b.language = "javascript";
                    b.type = "text/javascript";
                    b.async = 1;
                    b.charset = "utf-8";
                }
                if (o.id) {
                    b.id = o.id;
                }
                for (l in utag.loader.GV(o.attrs)) {
                    b.setAttribute(l, o.attrs[l]);
                }
                b.setAttribute("src", o.src);
                if (typeof o.cb == "function") {
                    if (b.addEventListener) {
                        b.addEventListener("load", function() {
                            o.cb();
                        }, false);
                    } else {
                        b.onreadystatechange = function() {
                            if (this.readyState == "complete" || this.readyState == "loaded") {
                                this.onreadystatechange = null;
                                o.cb();
                            }
                        }
                        ;
                    }
                }
                if (o.type != "img" && !m) {
                    l = o.loc || "head";
                    c = a.getElementsByTagName(l)[0];
                    if (c) {
                        utag.DB("Attach to " + l + ": " + o.src);
                        if (l == "script") {
                            c.parentNode.insertBefore(b, c);
                        } else {
                            c.appendChild(b);
                        }
                    }
                }
            }
            ;
        } else {
            u.loader = utag.ut.loader;
        }
        if (utag.ut.typeOf === undefined) {
            u.typeOf = function(e) {
                return ({}).toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase();
            }
            ;
        } else {
            u.typeOf = utag.ut.typeOf;
        }
        u.ev = {
            "view": 1,
            "link": 1
        };
        u.hasOwn = function(o, a) {
            return o != null && Object.prototype.hasOwnProperty.call(o, a);
        }
        ;
        u.isEmptyObject = function(o, a) {
            for (a in o) {
                if (u.hasOwn(o, a)) {
                    return false;
                }
            }
            return true;
        }
        ;
        u.toBoolean = function(val) {
            val = val || "";
            return val === true || val.toLowerCase() === "true" || val.toLowerCase() === "on";
        }
        ;
        u.hasgtagjs = function() {
            window.gtagRename = window.gtagRename || "" || "gtag";
            if (utag.ut.gtagScriptRequested) {
                return true;
            }
            var i, s = document.getElementsByTagName("script");
            for (i = 0; i < s.length; i++) {
                if (s[i].src && s[i].src.indexOf("gtag/js") >= 0 && (s[i].id && s[i].id.indexOf('utag') > -1)) {
                    return true;
                }
            }
            var data_layer_name = "" || "dataLayer";
            window[data_layer_name] = window[data_layer_name] || [];
            if (typeof window[window.gtagRename] !== "function") {
                window[window.gtagRename] = function() {
                    window[data_layer_name].push(arguments);
                }
                ;
                var cross_track_domains = "";
                if (cross_track_domains !== "") {
                    window[window.gtagRename]("set", "linker", {
                        domains: cross_track_domains.split(","),
                        accept_incoming: true
                    });
                }
                window[window.gtagRename]("js", new Date());
            }
            return false;
        }
        ;
        u.scriptrequested = u.hasgtagjs();
        u.o = window[window.gtagRename];
        u.map_func = function(arr, obj, item) {
            var i = arr.shift();
            obj[i] = obj[i] || {};
            if (arr.length > 0) {
                u.map_func(arr, obj[i], item);
            } else {
                obj[i] = item;
            }
        }
        ;
        u.map = {
            "ut.event:view": "conversion",
            "dc_allowcustomscripts": "custom_scripts",
            "dc_woolworths_advertiser": "advertiser_id",
            "dc_woolworths_type": "activity_group",
            "dc_woolworths_cat": "activity",
            "dc_woolworths_counting_method": "counting_method",
            "dom.pathname": "custom.u4",
            "product.ID": "custom.u9",
            "user.ProfileID": "custom.u18",
            "product.URL": "custom.u10",
            "product.Price": "custom.u11",
            "checkout.PackagingType": "custom.u21",
            "user.ProfileDeliverySaverType": "custom.u28",
            "user.ProfileRewardsType": "custom.u29"
        };
        u.extend = [function(a, b, c, d, e, f, g) {
            if (b['ut.event'] == 'view') {
                d = b['page.Name'];
                if (typeof d == 'undefined')
                    return;
                c = [{
                    'ww-sm:shop:suggestedlists': 'supall/suplists+standard'
                }, {
                    'ww-sm:shop:search': 'supall/supsear+standard'
                }, {
                    'ww-sm:shop:recipes:fresh-magazine': 'supall/supfmag+standard'
                }, {
                    'ww-sm:shop:recipe': 'supall/suprecip+standard'
                }, {
                    'ww-sm:shop:productdetails': 'supall/supprod+standard'
                }, {
                    'ww-sm:shop:page:help-and-support-faq': 'supall/supfaq+standard'
                }, {
                    'ww-sm:shop:locator': 'supall/supstore+standard'
                }, {
                    'ww-sm:shop:list$': 'suplog/supmylis+standard'
                }, {
                    'ww-sm:shop:discover:woolworths-rewards:christmasbonus': 'supdis/supdwrcb+standard'
                }, {
                    'ww-sm:shop:discover:woolworths-rewards': 'supdis/supdwr+standard'
                }, {
                    'ww-sm:shop:discover:shopping-online:pickup': 'supdis/supdpick+standard'
                }, {
                    'ww-sm:shop:discover:shopping-online:my-business': 'supdis/supdmyb+standard'
                }, {
                    'ww-sm:shop:discover:shopping-online:delivery-now': 'supdis/supdexd+standard'
                }, {
                    'ww-sm:shop:discover:shopping-online:delivery-saver': 'supdis/supdds+standard'
                }, {
                    'ww-sm:shop:discover:shopping-online:delivery-unlimited': 'supdis/supdds+standard'
                }, {
                    'ww-sm:shop:deliveryunlimited:planselection': 'supall/supdsps+standard'
                }, {
                    'ww-sm:shop:deliveryunlimited:paymentsetup': 'supall/supdspp+standard'
                }, {
                    'ww-sm:shop:discover:shopping-online:delivery': 'supdis/supddel+standard'
                }, {
                    'ww-sm:shop:discover:shopping-online:bulk-groceries': 'supdis/supdbulk+standard'
                }, {
                    'ww-sm:shop:discover:shopping-online': 'supdis/supdso+standard'
                }, {
                    'ww-sm:shop:discover:pick-woolies': 'supdis/supdpw+standard'
                }, {
                    'ww-sm:shop:discover:petrol': 'supdis/supdpet+standard'
                }, {
                    'ww-sm:shop:discover:our-brands': 'supdis/supdob+standard'
                }, {
                    'ww-sm:shop:discover:mothers-day': 'supdis/supdmd+standard'
                }, {
                    'ww-sm:shop:discover:metro': 'supdis/supdmet+standard'
                }, {
                    'ww-sm:shop:discover:jamie-oliver': 'supdis/supdjo+standard'
                }, {
                    'ww-sm:shop:discover:home': 'supdis/supdh+standard'
                }, {
                    'ww-sm:shop:discover:healthy-eating': 'supdis/supdhe+standard'
                }, {
                    'ww-sm:shop:discover:gift-cards': 'supdis/supdgc+standard'
                }, {
                    'ww-sm:shop:discover:fresh-food-kids': 'supdis/supdffk+standard'
                }, {
                    'ww-sm:shop:discover:fresh': 'supdis/supdfre+standard'
                }, {
                    'ww-sm:shop:discover:food-savers': 'supdis/supdfs+standard'
                }, {
                    'ww-sm:shop:discover:flowers': 'supdis/supdflo+standard'
                }, {
                    'ww-sm:shop:discover:earn-and-learn': 'supdis/supdeal+standard'
                }, {
                    'ww-sm:shop:discover:community': 'supdis/supdcom+standard'
                }, {
                    'ww-sm:shop:discover:back-to-school': 'supdis/supdbts+standard'
                }, {
                    'ww-sm:shop:discover:apple-pay': 'supdis/supdap+standard'
                }, {
                    'ww-sm:shop:discover:about-us:woolworths-app:scan-and-go': 'supdis/supdapsg+standard'
                }, {
                    'ww-sm:shop:discover:about-us:woolworths-app': 'supdis/supdapp+standard'
                }, {
                    'ww-sm:shop:discover:about-us:scam-alert': 'supdis/supdsa+standard'
                }, {
                    'ww-sm:shop:discover:about-us:returns-policy': 'supdis/supdrp+standard'
                }, {
                    'ww-sm:shop:discover:about-us:product-safety': 'supdis/supdps+standard'
                }, {
                    'ww-sm:shop:discover:about-us:product-recalls': 'supdis/supdpr+standard'
                }, {
                    'ww-sm:shop:discover:about-us:contact-us': 'supdis/supdcon+standard'
                }, {
                    'ww-sm:shop:discover:about-us': 'supdis/supdau+standard'
                }, {
                    'ww-sm:shop:catalogue': 'supall/supcata+unique'
                }, {
                    'ww-sm:shop:browse:specials:my-weekly-picks': 'suplog/supmwp+standard'
                }, {
                    'ww-sm:shop:browse:pet': 'supcat/supcpet+standard'
                }, {
                    'ww-sm:shop:browse:pantry': 'supcat/supcpan+standard'
                }, {
                    'ww-sm:shop:browse:meat-seafood-deli': 'supcat/supcmsd+standard'
                }, {
                    'ww-sm:shop:browse:lunch-box': 'supcat/supclb+standard'
                }, {
                    'ww-sm:shop:browse:liquor': 'supcat/supcliq+standard'
                }, {
                    'ww-sm:shop:browse:household': 'supcat/supchou+standard'
                }, {
                    'ww-sm:shop:browse:health-beauty': 'supcat/supchb+standard'
                }, {
                    'ww-sm:shop:browse:fruit-veg': 'supcat/supcfv+standard'
                }, {
                    'ww-sm:shop:browse:front-of-store': 'supcat/supcfos+standard'
                }, {
                    'ww-sm:shop:browse:freezer': 'supcat/supcfre+standard'
                }, {
                    'ww-sm:shop:browse:drinks': 'supcat/supcdri+standard'
                }, {
                    'ww-sm:shop:browse:dairy-eggs-fridge': 'supcat/supcdef+standard'
                }, {
                    'ww-sm:shop:browse:bakery': 'supcat/supcbak+standard'
                }, {
                    'ww-sm:shop:browse:baby': 'supcat/supcbaby+standard'
                }, {
                    'ww-sm:shop:authentication:signup': 'supall/supsignl+standard'
                }, {
                    'ww-sm:shop:authentication:login': 'supall/suplogin+standard'
                }, {
                    'ww-sm:homepage': 'supall/suphome+standard'
                }, {
                    ':trackmyorder': 'supall/suptmo+standard'
                }, {
                    'ww-sm:shop:discover:christmas': 'carall/sup_d0+standard'
                }];
                var m = false;
                for (e = 0; e < c.length; e++) {
                    for (f in utag.loader.GV(c[e])) {
                        g = new RegExp(f,'i');
                        if (g.test(d)) {
                            b['dc_woolworths_datapoints'] = c[e][f];
                            m = true
                        }
                        ;
                    }
                    ;if (m)
                        break
                }
                ;
            }
        }
            , function(a, b, c, d, e, f, g) {
                if (1) {
                    d = b['checkout.Step'];
                    if (typeof d == 'undefined')
                        return;
                    c = [{
                        '1': 'supall/supch1+standard'
                    }, {
                        '2': 'supall/supch2+standard'
                    }, {
                        '3': 'supall/supch3+standard'
                    }, {
                        '4': 'supall/supch4+standard'
                    }];
                    var m = false;
                    for (e = 0; e < c.length; e++) {
                        for (f in utag.loader.GV(c[e])) {
                            if (d == f) {
                                b['dc_woolworths_datapoints'] = c[e][f];
                                m = true
                            }
                            ;
                        }
                        ;if (m)
                            break
                    }
                    ;
                }
            }
            , function(a, b) {
                try {
                    if (typeof b['dc_woolworths_datapoints'] != 'undefined' && b['dc_woolworths_datapoints'] != '') {
                        try {
                            b['dc_woolworths_type'] = b["dc_woolworths_datapoints"].split(/[\|\+\/]/)[0]
                        } catch (e) {}
                        ;try {
                            b['dc_woolworths_cat'] = b["dc_woolworths_datapoints"].split(/[\|\+\/]/)[1]
                        } catch (e) {}
                        ;try {
                            b['dc_woolworths_counting_method'] = b["dc_woolworths_datapoints"].split(/[\|\+\/]/)[2]
                        } catch (e) {}
                    }
                } catch (e) {
                    utag.DB(e);
                }
            }
            , function(a, b) {
                try {
                    if (1) {
                        return !!b['dc_woolworths_datapoints'];
                    }
                } catch (e) {
                    utag.DB(e)
                }
            }
        ];
        u.send = function(a, b) {
            if (u.ev[a] || u.ev.all !== undefined) {
                utag.DB("send:79");
                utag.DB(b);
                var c, d, e, f, h, i, j, k, _event, p, key;
                u.data = {
                    "qsp_delim": "&",
                    "kvp_delim": "=",
                    "base_url": "https://www.googletagmanager.com/gtag/js",
                    "advertiser_id": "",
                    "activity_group": "",
                    "activity": "",
                    "counting_method": "",
                    "fire_purchase": "true",
                    "custom_scripts": "true",
                    "data_layer_name": "",
                    "session_id": "",
                    "product_id": [],
                    "product_quantity": [],
                    "product_unit_price": [],
                    "dc_custom_params": {},
                    "event_name": "",
                    "event": [],
                    "custom": {}
                };
                for (c = 0; c < u.extend.length; c++) {
                    try {
                        d = u.extend[c](a, b);
                        if (d == false)
                            return
                    } catch (e) {
                        if (typeof utag_err != 'undefined') {
                            utag_err.push({
                                e: 'extension error:' + e,
                                s: utag.cfg.path + 'utag.' + id + '.js',
                                l: c,
                                t: 'ex'
                            })
                        }
                    }
                }
                ;utag.DB("send:79:EXTENSIONS");
                utag.DB(b);
                for (d in utag.loader.GV(u.map)) {
                    if (b[d] !== undefined && b[d] !== "") {
                        e = u.map[d].split(",");
                        for (f = 0; f < e.length; f++) {
                            u.map_func(e[f].split("."), u.data, b[d]);
                        }
                    } else {
                        h = d.split(":");
                        if (h.length === 2 && b[h[0]] === h[1]) {
                            if (u.map[d]) {
                                u.data.event = u.data.event.concat(u.map[d].split(","));
                            }
                        }
                    }
                }
                utag.DB("send:79:MAPPINGS");
                utag.DB(u.data);
                u.data.order_id = u.data.order_id || b._corder || "";
                u.data.order_total = u.data.order_total || b._ctotal || "";
                if (u.data.product_quantity.length === 0 && b._cquan !== undefined) {
                    u.data.product_quantity = b._cquan.slice(0);
                }
                if (typeof (u.data.advertiser_id) === "string" && u.data.advertiser_id !== "") {
                    u.data.advertiser_id = u.data.advertiser_id.split(",");
                }
                if (typeof (u.data.activity_group) === "string") {
                    u.data.activity_group = u.data.activity_group.split(",");
                }
                if (typeof (u.data.activity) === "string") {
                    u.data.activity = u.data.activity.split(",");
                }
                if (typeof (u.data.counting_method) === "string") {
                    u.data.counting_method = u.data.counting_method.split(",");
                }
                if (typeof (u.data.session_id) === "string") {
                    u.data.session_id = u.data.session_id.split(",");
                }
                if (u.data.product_id.length === 0 && b._cprod !== undefined) {
                    u.data.product_id = b._cprod.slice(0);
                }
                if (u.data.product_quantity.length === 0 && b._cquan !== undefined) {
                    u.data.product_quantity = b._cquan.slice(0);
                }
                if (u.data.product_unit_price.length === 0 && b._cprice !== undefined) {
                    u.data.product_unit_price = b._cprice.slice(0);
                }
                if (!u.data.advertiser_id) {
                    utag.DB(u.id + ": Tag not fired: Required attribute not populated");
                    return;
                }
                if (u.data.gtag_enable_tcf_support) {
                    window["gtag_enable_tcf_support"] = u.toBoolean(u.data.gtag_enable_tcf_support);
                }
                u.o("set", {
                    "developer_id.dYmQxMT": true
                });
                for (i = 0; i < u.data.advertiser_id.length; i++) {
                    if (!/^[a-zA-Z]{2}-/.test(u.data.advertiser_id[i])) {
                        u.data.advertiser_id[i] = "DC-" + u.data.advertiser_id[i];
                    }
                }
                u.data.base_url += "?id=" + (u.data.advertiser_id[0]);
                if (u.data.data_layer_name) {
                    u.data.base_url = u.data.base_url + "&l=" + u.data.data_layer_name;
                }
                for (i = 0; i < u.data.advertiser_id.length; i++) {
                    u.o("config", u.data.advertiser_id[i]);
                }
                if (u.data.order_id) {
                    for (i = 0; i < u.data.event.length; i++) {
                        if (u.data.event[i] === "purchase") {
                            p = true;
                        }
                    }
                    if (!p && u.toBoolean(u.data.fire_purchase)) {
                        u.data.event.push("purchase");
                        if (u.data.counting_method[0] === "") {
                            u.data.counting_method[0] = "transactions";
                        }
                    }
                }
                var total_qty = 0;
                if (typeof (u.data.product_quantity) === "number") {
                    total_qty = u.data.product_quantity;
                } else if (u.data.product_quantity.length === 1) {
                    total_qty = u.data.product_quantity[0];
                } else if (u.data.product_quantity.length > 1) {
                    for (i = 0; i < u.data.product_quantity.length; i++) {
                        total_qty += parseInt(u.data.product_quantity[i], 10);
                    }
                } else {
                    total_qty = 1;
                }
                for (i = 0; i < u.data.event.length; i++) {
                    _event = u.data.event[i];
                    for (j = 0; j < u.data.advertiser_id.length; j++) {
                        var eventIdData = {};
                        eventIdData.allow_custom_scripts = u.toBoolean(u.data.custom_scripts);
                        if (u.data.session_id.length === 1 && u.data.session_id[0] !== "") {
                            eventIdData.session_id = u.data.session_id[0];
                        } else if (u.data.session_id[j] !== "") {
                            eventIdData.session_id = u.data.session_id[j];
                        }
                        if (u.data.order_total) {
                            eventIdData.value = u.data.order_total;
                            eventIdData.transaction_id = u.data.order_id;
                        }
                        if (u.data.product_quantity) {
                            eventIdData.quantity = total_qty;
                        }
                        eventIdData.items = [];
                        for (k = 0; k < u.data.product_id.length; k++) {
                            if (typeof (u.data.product_unit_price[k]) === "undefined" || typeof (u.data.product_quantity[k]) === "undefined") {
                                utag.DB("No matching unit price or quantity for product ID " + u.data.product_id[k]);
                            } else {
                                eventIdData.items.push({
                                    "id": u.data.product_id[k],
                                    "price": u.data.product_unit_price[k],
                                    "quantity": u.data.product_quantity[k]
                                });
                            }
                        }
                        for (key in u.data.custom) {
                            eventIdData[key] = u.data.custom[key];
                        }
                        if (!u.isEmptyObject(u.data.dc_custom_params)) {
                            eventIdData.dc_custom_params = {};
                            for (key in u.data.dc_custom_params) {
                                eventIdData.dc_custom_params[key] = u.data.dc_custom_params[key];
                            }
                        }
                        if (u.data.counting_method[j] && u.data.counting_method[j] !== u.data.counting_method[j].toLowerCase()) {
                            u.data.counting_method[j] = u.data.counting_method[j].toLowerCase();
                            utag.DB("Counting Method not supplied in proper case - converted to lower case");
                        }
                        eventIdData.send_to = u.data.advertiser_id[j] + "/" + u.data.activity_group[j] + "/" + u.data.activity[j] + "+" + u.data.counting_method[j];
                        if (_event === "purchase") {
                            u.o("event", "purchase", eventIdData);
                        }
                        if (_event === "conversion") {
                            u.o("event", "conversion", eventIdData);
                        }
                    }
                }
                if (!u.hasgtagjs()) {
                    u.scriptrequested = true;
                    utag.ut.gtagScriptRequested = true;
                    u.loader({
                        "type": "script",
                        "src": u.data.base_url,
                        "cb": null,
                        "loc": "script",
                        "id": "utag_79",
                        "attrs": {}
                    });
                }
                utag.DB("send:79:COMPLETE");
            }
        }
        ;
        utag.o[loader].loader.LOAD(id);
    }("79", "woolworths.supermarkets"));
} catch (error) {
    utag.DB(error);
}

//tealium universal tag - utag.85 ut4.0.202302140104, Copyright 2023 Tealium.com Inc. All Rights Reserved.
try {
    (function(id, loader) {
        var u = {
            "id": id
        };
        utag.o[loader].sender[id] = u;
        if (utag.ut === undefined) {
            utag.ut = {};
        }
        var match = /ut\d\.(\d*)\..*/.exec(utag.cfg.v);
        if (utag.ut.loader === undefined || !match || parseInt(match[1]) < 41) {
            u.loader = function(o, a, b, c, l, m) {
                utag.DB(o);
                a = document;
                if (o.type == "iframe") {
                    m = a.getElementById(o.id);
                    if (m && m.tagName == "IFRAME") {
                        b = m;
                    } else {
                        b = a.createElement("iframe");
                    }
                    o.attrs = o.attrs || {};
                    utag.ut.merge(o.attrs, {
                        "height": "1",
                        "width": "1",
                        "style": "display:none"
                    }, 0);
                } else if (o.type == "img") {
                    utag.DB("Attach img: " + o.src);
                    b = new Image();
                } else {
                    b = a.createElement("script");
                    b.language = "javascript";
                    b.type = "text/javascript";
                    b.async = 1;
                    b.charset = "utf-8";
                }
                if (o.id) {
                    b.id = o.id;
                }
                for (l in utag.loader.GV(o.attrs)) {
                    b.setAttribute(l, o.attrs[l]);
                }
                b.setAttribute("src", o.src);
                if (typeof o.cb == "function") {
                    if (b.addEventListener) {
                        b.addEventListener("load", function() {
                            o.cb();
                        }, false);
                    } else {
                        b.onreadystatechange = function() {
                            if (this.readyState == "complete" || this.readyState == "loaded") {
                                this.onreadystatechange = null;
                                o.cb();
                            }
                        }
                        ;
                    }
                }
                if (o.type != "img" && !m) {
                    l = o.loc || "head";
                    c = a.getElementsByTagName(l)[0];
                    if (c) {
                        utag.DB("Attach to " + l + ": " + o.src);
                        if (l == "script") {
                            c.parentNode.insertBefore(b, c);
                        } else {
                            c.appendChild(b);
                        }
                    }
                }
            }
            ;
        } else {
            u.loader = utag.ut.loader;
        }
        if (utag.ut.typeOf === undefined) {
            u.typeOf = function(e) {
                return ({}).toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase();
            }
            ;
        } else {
            u.typeOf = utag.ut.typeOf;
        }
        u.ev = {
            "view": 1,
            "link": 1
        };
        u.hasOwn = function(o, a) {
            return o != null && Object.prototype.hasOwnProperty.call(o, a);
        }
        ;
        u.isEmptyObject = function(o, a) {
            for (a in o) {
                if (u.hasOwn(o, a)) {
                    return false;
                }
            }
            return true;
        }
        ;
        u.toBoolean = function(val) {
            val = val || "";
            return val === true || val.toLowerCase() === "true" || val.toLowerCase() === "on";
        }
        ;
        u.hasgtagjs = function() {
            window.gtagRename = window.gtagRename || "" || "gtag";
            if (utag.ut.gtagScriptRequested) {
                return true;
            }
            var i, s = document.getElementsByTagName("script");
            for (i = 0; i < s.length; i++) {
                if (s[i].src && s[i].src.indexOf("gtag/js") >= 0 && (s[i].id && s[i].id.indexOf('utag') > -1)) {
                    return true;
                }
            }
            var data_layer_name = "" || "dataLayer";
            window[data_layer_name] = window[data_layer_name] || [];
            if (typeof window[window.gtagRename] !== "function") {
                window[window.gtagRename] = function() {
                    window[data_layer_name].push(arguments);
                }
                ;
                var cross_track_domains = "";
                if (cross_track_domains !== "") {
                    window[window.gtagRename]("set", "linker", {
                        domains: cross_track_domains.split(","),
                        accept_incoming: true
                    });
                }
                window[window.gtagRename]("js", new Date());
            }
            return false;
        }
        ;
        u.scriptrequested = u.hasgtagjs();
        u.o = window[window.gtagRename];
        u.map_func = function(arr, obj, item) {
            var i = arr.shift();
            obj[i] = obj[i] || {};
            if (arr.length > 0) {
                u.map_func(arr, obj[i], item);
            } else {
                obj[i] = item;
            }
        }
        ;
        u.map = {
            "ut.event:view": "conversion",
            "ut.event:link": "conversion",
            "dc_allowcustomscripts": "custom_scripts",
            "dc_woolworths_advertiser": "advertiser_id",
            "dc_woolworths_type": "activity_group",
            "dc_woolworths_cat": "activity",
            "dc_woolworths_counting_method": "counting_method",
            "user.ProfileID": "custom.u18",
            "user.ProfileDeliverySaverType": "custom.u28",
            "user.ProfileRewardsType": "custom.u29",
            "subscription.Name": "custom.u31"
        };
        u.extend = [function(a, b, c, d, e, f, g) {
            if (1) {
                d = b['tealium_event'];
                if (typeof d == 'undefined')
                    return;
                c = [{
                    'user_register': 'supall/supsignc+standard'
                }, {
                    'subscription': 'supall/supdsdc+unique'
                }];
                var m = false;
                for (e = 0; e < c.length; e++) {
                    for (f in utag.loader.GV(c[e])) {
                        if (d == f) {
                            b['dc_woolworths_datapoints'] = c[e][f];
                            m = true
                        }
                        ;
                    }
                    ;if (m)
                        break
                }
                ;
            }
        }
            , function(a, b) {
                try {
                    if (typeof b['dc_woolworths_datapoints'] != 'undefined' && b['dc_woolworths_datapoints'] != '') {
                        try {
                            b['dc_woolworths_type'] = b["dc_woolworths_datapoints"].split(/[\|\+\/]/)[0]
                        } catch (e) {}
                        ;try {
                            b['dc_woolworths_cat'] = b["dc_woolworths_datapoints"].split(/[\|\+\/]/)[1]
                        } catch (e) {}
                        ;try {
                            b['dc_woolworths_counting_method'] = b["dc_woolworths_datapoints"].split(/[\|\+\/]/)[2]
                        } catch (e) {}
                    }
                } catch (e) {
                    utag.DB(e);
                }
            }
            , function(a, b) {
                try {
                    if (1) {
                        return !!b['dc_woolworths_datapoints'];
                    }
                } catch (e) {
                    utag.DB(e)
                }
            }
        ];
        u.send = function(a, b) {
            if (u.ev[a] || u.ev.all !== undefined) {
                utag.DB("send:85");
                utag.DB(b);
                var c, d, e, f, h, i, j, k, _event, p, key;
                u.data = {
                    "qsp_delim": "&",
                    "kvp_delim": "=",
                    "base_url": "https://www.googletagmanager.com/gtag/js",
                    "advertiser_id": "",
                    "activity_group": "",
                    "activity": "",
                    "counting_method": "",
                    "fire_purchase": "true",
                    "custom_scripts": "true",
                    "data_layer_name": "",
                    "session_id": "",
                    "product_id": [],
                    "product_quantity": [],
                    "product_unit_price": [],
                    "dc_custom_params": {},
                    "event_name": "",
                    "event": [],
                    "custom": {}
                };
                for (c = 0; c < u.extend.length; c++) {
                    try {
                        d = u.extend[c](a, b);
                        if (d == false)
                            return
                    } catch (e) {
                        if (typeof utag_err != 'undefined') {
                            utag_err.push({
                                e: 'extension error:' + e,
                                s: utag.cfg.path + 'utag.' + id + '.js',
                                l: c,
                                t: 'ex'
                            })
                        }
                    }
                }
                ;utag.DB("send:85:EXTENSIONS");
                utag.DB(b);
                for (d in utag.loader.GV(u.map)) {
                    if (b[d] !== undefined && b[d] !== "") {
                        e = u.map[d].split(",");
                        for (f = 0; f < e.length; f++) {
                            u.map_func(e[f].split("."), u.data, b[d]);
                        }
                    } else {
                        h = d.split(":");
                        if (h.length === 2 && b[h[0]] === h[1]) {
                            if (u.map[d]) {
                                u.data.event = u.data.event.concat(u.map[d].split(","));
                            }
                        }
                    }
                }
                utag.DB("send:85:MAPPINGS");
                utag.DB(u.data);
                u.data.order_id = u.data.order_id || b._corder || "";
                u.data.order_total = u.data.order_total || b._ctotal || "";
                if (u.data.product_quantity.length === 0 && b._cquan !== undefined) {
                    u.data.product_quantity = b._cquan.slice(0);
                }
                if (typeof (u.data.advertiser_id) === "string" && u.data.advertiser_id !== "") {
                    u.data.advertiser_id = u.data.advertiser_id.split(",");
                }
                if (typeof (u.data.activity_group) === "string") {
                    u.data.activity_group = u.data.activity_group.split(",");
                }
                if (typeof (u.data.activity) === "string") {
                    u.data.activity = u.data.activity.split(",");
                }
                if (typeof (u.data.counting_method) === "string") {
                    u.data.counting_method = u.data.counting_method.split(",");
                }
                if (typeof (u.data.session_id) === "string") {
                    u.data.session_id = u.data.session_id.split(",");
                }
                if (u.data.product_id.length === 0 && b._cprod !== undefined) {
                    u.data.product_id = b._cprod.slice(0);
                }
                if (u.data.product_quantity.length === 0 && b._cquan !== undefined) {
                    u.data.product_quantity = b._cquan.slice(0);
                }
                if (u.data.product_unit_price.length === 0 && b._cprice !== undefined) {
                    u.data.product_unit_price = b._cprice.slice(0);
                }
                if (!u.data.advertiser_id) {
                    utag.DB(u.id + ": Tag not fired: Required attribute not populated");
                    return;
                }
                if (u.data.gtag_enable_tcf_support) {
                    window["gtag_enable_tcf_support"] = u.toBoolean(u.data.gtag_enable_tcf_support);
                }
                u.o("set", {
                    "developer_id.dYmQxMT": true
                });
                for (i = 0; i < u.data.advertiser_id.length; i++) {
                    if (!/^[a-zA-Z]{2}-/.test(u.data.advertiser_id[i])) {
                        u.data.advertiser_id[i] = "DC-" + u.data.advertiser_id[i];
                    }
                }
                u.data.base_url += "?id=" + (u.data.advertiser_id[0]);
                if (u.data.data_layer_name) {
                    u.data.base_url = u.data.base_url + "&l=" + u.data.data_layer_name;
                }
                for (i = 0; i < u.data.advertiser_id.length; i++) {
                    u.o("config", u.data.advertiser_id[i]);
                }
                if (u.data.order_id) {
                    for (i = 0; i < u.data.event.length; i++) {
                        if (u.data.event[i] === "purchase") {
                            p = true;
                        }
                    }
                    if (!p && u.toBoolean(u.data.fire_purchase)) {
                        u.data.event.push("purchase");
                        if (u.data.counting_method[0] === "") {
                            u.data.counting_method[0] = "transactions";
                        }
                    }
                }
                var total_qty = 0;
                if (typeof (u.data.product_quantity) === "number") {
                    total_qty = u.data.product_quantity;
                } else if (u.data.product_quantity.length === 1) {
                    total_qty = u.data.product_quantity[0];
                } else if (u.data.product_quantity.length > 1) {
                    for (i = 0; i < u.data.product_quantity.length; i++) {
                        total_qty += parseInt(u.data.product_quantity[i], 10);
                    }
                } else {
                    total_qty = 1;
                }
                for (i = 0; i < u.data.event.length; i++) {
                    _event = u.data.event[i];
                    for (j = 0; j < u.data.advertiser_id.length; j++) {
                        var eventIdData = {};
                        eventIdData.allow_custom_scripts = u.toBoolean(u.data.custom_scripts);
                        if (u.data.session_id.length === 1 && u.data.session_id[0] !== "") {
                            eventIdData.session_id = u.data.session_id[0];
                        } else if (u.data.session_id[j] !== "") {
                            eventIdData.session_id = u.data.session_id[j];
                        }
                        if (u.data.order_total) {
                            eventIdData.value = u.data.order_total;
                            eventIdData.transaction_id = u.data.order_id;
                        }
                        if (u.data.product_quantity) {
                            eventIdData.quantity = total_qty;
                        }
                        eventIdData.items = [];
                        for (k = 0; k < u.data.product_id.length; k++) {
                            if (typeof (u.data.product_unit_price[k]) === "undefined" || typeof (u.data.product_quantity[k]) === "undefined") {
                                utag.DB("No matching unit price or quantity for product ID " + u.data.product_id[k]);
                            } else {
                                eventIdData.items.push({
                                    "id": u.data.product_id[k],
                                    "price": u.data.product_unit_price[k],
                                    "quantity": u.data.product_quantity[k]
                                });
                            }
                        }
                        for (key in u.data.custom) {
                            eventIdData[key] = u.data.custom[key];
                        }
                        if (!u.isEmptyObject(u.data.dc_custom_params)) {
                            eventIdData.dc_custom_params = {};
                            for (key in u.data.dc_custom_params) {
                                eventIdData.dc_custom_params[key] = u.data.dc_custom_params[key];
                            }
                        }
                        if (u.data.counting_method[j] && u.data.counting_method[j] !== u.data.counting_method[j].toLowerCase()) {
                            u.data.counting_method[j] = u.data.counting_method[j].toLowerCase();
                            utag.DB("Counting Method not supplied in proper case - converted to lower case");
                        }
                        eventIdData.send_to = u.data.advertiser_id[j] + "/" + u.data.activity_group[j] + "/" + u.data.activity[j] + "+" + u.data.counting_method[j];
                        if (_event === "purchase") {
                            u.o("event", "purchase", eventIdData);
                        }
                        if (_event === "conversion") {
                            u.o("event", "conversion", eventIdData);
                        }
                    }
                }
                if (!u.hasgtagjs()) {
                    u.scriptrequested = true;
                    utag.ut.gtagScriptRequested = true;
                    u.loader({
                        "type": "script",
                        "src": u.data.base_url,
                        "cb": null,
                        "loc": "script",
                        "id": "utag_85",
                        "attrs": {}
                    });
                }
                utag.DB("send:85:COMPLETE");
            }
        }
        ;
        utag.o[loader].loader.LOAD(id);
    }("85", "woolworths.supermarkets"));
} catch (error) {
    utag.DB(error);
}

//tealium universal tag - utag.91 ut4.0.202302140104, Copyright 2023 Tealium.com Inc. All Rights Reserved.
try {
    (function(id, loader) {
        var u = {
            "id": id
        }, md5;
        utag.o[loader].sender[id] = u;
        utag.globals = utag.globals || {};
        if (utag.ut === undefined) {
            utag.ut = {};
        }
        var match = /ut\d\.(\d*)\..*/.exec(utag.cfg.v);
        if (utag.ut.loader === undefined || !match || parseInt(match[1]) < 41) {
            u.loader = function(o, a, b, c, l, m) {
                utag.DB(o);
                a = document;
                if (o.type == "iframe") {
                    m = a.getElementById(o.id);
                    if (m && m.tagName == "IFRAME") {
                        b = m;
                    } else {
                        b = a.createElement("iframe");
                    }
                    o.attrs = o.attrs || {};
                    utag.ut.merge(o.attrs, {
                        "height": "1",
                        "width": "1",
                        "style": "display:none"
                    }, 0);
                } else if (o.type == "img") {
                    utag.DB("Attach img: " + o.src);
                    b = new Image();
                } else {
                    b = a.createElement("script");
                    b.language = "javascript";
                    b.type = "text/javascript";
                    b.async = 1;
                    b.charset = "utf-8";
                }
                if (o.id) {
                    b.id = o.id;
                }
                for (l in utag.loader.GV(o.attrs)) {
                    b.setAttribute(l, o.attrs[l]);
                }
                b.setAttribute("src", o.src);
                if (typeof o.cb == "function") {
                    if (b.addEventListener) {
                        b.addEventListener("load", function() {
                            o.cb();
                        }, false);
                    } else {
                        b.onreadystatechange = function() {
                            if (this.readyState == "complete" || this.readyState == "loaded") {
                                this.onreadystatechange = null;
                                o.cb();
                            }
                        }
                        ;
                    }
                }
                if (o.type != "img" && !m) {
                    l = o.loc || "head";
                    c = a.getElementsByTagName(l)[0];
                    if (c) {
                        utag.DB("Attach to " + l + ": " + o.src);
                        if (l == "script") {
                            c.parentNode.insertBefore(b, c);
                        } else {
                            c.appendChild(b);
                        }
                    }
                }
            }
            ;
        } else {
            u.loader = utag.ut.loader;
        }
        if (utag.ut.typeOf === undefined) {
            u.typeOf = function(e) {
                return ({}).toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase();
            }
            ;
        } else {
            u.typeOf = utag.ut.typeOf;
        }
        if (utag.ut.merge === undefined) {
            u.merge = function(a, b, c, d) {
                if (c) {
                    for (d in utag.loader.GV(b)) {
                        a[d] = b[d];
                    }
                } else {
                    for (d in utag.loader.GV(b)) {
                        if (typeof a[d] == "undefined") {
                            a[d] = b[d];
                        }
                    }
                }
            }
            ;
        } else {
            u.merge = utag.ut.merge;
        }
        if (utag.ut.md5 === undefined) {
            md5 = function(s, p) {
                var m = {}
                    , l = m.lib = {}
                    , n = function() {}
                    , r = l.Base = {
                    extend: function(b) {
                        n.prototype = this;
                        var h = new n;
                        b && h.mixIn(b);
                        h.hasOwnProperty("init") || (h.init = function() {
                                h.$super.init.apply(this, arguments)
                            }
                        );
                        h.init.prototype = h;
                        h.$super = this;
                        return h
                    },
                    create: function() {
                        var b = this.extend();
                        b.init.apply(b, arguments);
                        return b
                    },
                    init: function() {},
                    mixIn: function(b) {
                        for (var h in b)
                            b.hasOwnProperty(h) && (this[h] = b[h]);
                        b.hasOwnProperty("toString") && (this.toString = b.toString)
                    },
                    clone: function() {
                        return this.init.prototype.extend(this)
                    }
                }
                    , q = l.WordArray = r.extend({
                    init: function(b, h) {
                        b = this.words = b || [];
                        this.sigBytes = h != p ? h : 4 * b.length
                    },
                    toString: function(b) {
                        return (b || t).stringify(this)
                    },
                    concat: function(b) {
                        var h = this.words
                            , a = b.words
                            , j = this.sigBytes;
                        b = b.sigBytes;
                        this.clamp();
                        if (j % 4)
                            for (var g = 0; g < b; g++)
                                h[j + g >>> 2] |= (a[g >>> 2] >>> 24 - 8 * (g % 4) & 255) << 24 - 8 * ((j + g) % 4);
                        else if (65535 < a.length)
                            for (g = 0; g < b; g += 4)
                                h[j + g >>> 2] = a[g >>> 2];
                        else
                            h.push.apply(h, a);
                        this.sigBytes += b;
                        return this
                    },
                    clamp: function() {
                        var b = this.words
                            , h = this.sigBytes;
                        b[h >>> 2] &= 4294967295 << 32 - 8 * (h % 4);
                        b.length = s.ceil(h / 4)
                    },
                    clone: function() {
                        var b = r.clone.call(this);
                        b.words = this.words.slice(0);
                        return b
                    },
                    random: function(b) {
                        for (var h = [], a = 0; a < b; a += 4)
                            h.push(4294967296 * s.random() | 0);
                        return new q.init(h,b)
                    }
                })
                    , v = m.enc = {}
                    , t = v.Hex = {
                    stringify: function(b) {
                        var a = b.words;
                        b = b.sigBytes;
                        for (var g = [], j = 0; j < b; j++) {
                            var k = a[j >>> 2] >>> 24 - 8 * (j % 4) & 255;
                            g.push((k >>> 4).toString(16));
                            g.push((k & 15).toString(16))
                        }
                        return g.join("")
                    },
                    parse: function(b) {
                        for (var a = b.length, g = [], j = 0; j < a; j += 2)
                            g[j >>> 3] |= parseInt(b.substr(j, 2), 16) << 24 - 4 * (j % 8);
                        return new q.init(g,a / 2)
                    }
                }
                    , a = v.Latin1 = {
                    stringify: function(b) {
                        var a = b.words;
                        b = b.sigBytes;
                        for (var g = [], j = 0; j < b; j++)
                            g.push(String.fromCharCode(a[j >>> 2] >>> 24 - 8 * (j % 4) & 255));
                        return g.join("")
                    },
                    parse: function(b) {
                        for (var a = b.length, g = [], j = 0; j < a; j++)
                            g[j >>> 2] |= (b.charCodeAt(j) & 255) << 24 - 8 * (j % 4);
                        return new q.init(g,a)
                    }
                }
                    , u = v.Utf8 = {
                    stringify: function(b) {
                        try {
                            return decodeURIComponent(escape(a.stringify(b)))
                        } catch (g) {
                            throw Error("Malformed UTF-8 data");
                        }
                    },
                    parse: function(b) {
                        return a.parse(unescape(encodeURIComponent(b)))
                    }
                }
                    , g = l.BufferedBlockAlgorithm = r.extend({
                    reset: function() {
                        this._data = new q.init;
                        this._nDataBytes = 0
                    },
                    _append: function(b) {
                        "string" == typeof b && (b = u.parse(b));
                        this._data.concat(b);
                        this._nDataBytes += b.sigBytes
                    },
                    _process: function(b) {
                        var a = this._data
                            , g = a.words
                            , j = a.sigBytes
                            , k = this.blockSize
                            , m = j / (4 * k)
                            , m = b ? s.ceil(m) : s.max((m | 0) - this._minBufferSize, 0);
                        b = m * k;
                        j = s.min(4 * b, j);
                        if (b) {
                            for (var l = 0; l < b; l += k)
                                this._doProcessBlock(g, l);
                            l = g.splice(0, b);
                            a.sigBytes -= j
                        }
                        return new q.init(l,j)
                    },
                    clone: function() {
                        var b = r.clone.call(this);
                        b._data = this._data.clone();
                        return b
                    },
                    _minBufferSize: 0
                });
                l.Hasher = g.extend({
                    cfg: r.extend(),
                    init: function(b) {
                        this.cfg = this.cfg.extend(b);
                        this.reset()
                    },
                    reset: function() {
                        g.reset.call(this);
                        this._doReset()
                    },
                    update: function(b) {
                        this._append(b);
                        this._process();
                        return this
                    },
                    finalize: function(b) {
                        b && this._append(b);
                        return this._doFinalize()
                    },
                    blockSize: 16,
                    _createHelper: function(b) {
                        return function(a, g) {
                            return (new b.init(g)).finalize(a)
                        }
                    },
                    _createHmacHelper: function(b) {
                        return function(a, g) {
                            return (new k.HMAC.init(b,g)).finalize(a)
                        }
                    }
                });
                var k = m.algo = {};
                return m
            }(Math);
            (function(s) {
                    function p(a, k, b, h, l, j, m) {
                        a = a + (k & b | ~k & h) + l + m;
                        return (a << j | a >>> 32 - j) + k
                    }
                    function m(a, k, b, h, l, j, m) {
                        a = a + (k & h | b & ~h) + l + m;
                        return (a << j | a >>> 32 - j) + k
                    }
                    function l(a, k, b, h, l, j, m) {
                        a = a + (k ^ b ^ h) + l + m;
                        return (a << j | a >>> 32 - j) + k
                    }
                    function n(a, k, b, h, l, j, m) {
                        a = a + (b ^ (k | ~h)) + l + m;
                        return (a << j | a >>> 32 - j) + k
                    }
                    for (var r = md5, q = r.lib, v = q.WordArray, t = q.Hasher, q = r.algo, a = [], u = 0; 64 > u; u++)
                        a[u] = 4294967296 * s.abs(s.sin(u + 1)) | 0;
                    q = q.MD5 = t.extend({
                        _doReset: function() {
                            this._hash = new v.init([1732584193, 4023233417, 2562383102, 271733878])
                        },
                        _doProcessBlock: function(g, k) {
                            for (var b = 0; 16 > b; b++) {
                                var h = k + b
                                    , w = g[h];
                                g[h] = (w << 8 | w >>> 24) & 16711935 | (w << 24 | w >>> 8) & 4278255360
                            }
                            var b = this._hash.words
                                , h = g[k + 0]
                                , w = g[k + 1]
                                , j = g[k + 2]
                                , q = g[k + 3]
                                , r = g[k + 4]
                                , s = g[k + 5]
                                , t = g[k + 6]
                                , u = g[k + 7]
                                , v = g[k + 8]
                                , x = g[k + 9]
                                , y = g[k + 10]
                                , z = g[k + 11]
                                , A = g[k + 12]
                                , B = g[k + 13]
                                , C = g[k + 14]
                                , D = g[k + 15]
                                , c = b[0]
                                , d = b[1]
                                , e = b[2]
                                , f = b[3]
                                , c = p(c, d, e, f, h, 7, a[0])
                                , f = p(f, c, d, e, w, 12, a[1])
                                , e = p(e, f, c, d, j, 17, a[2])
                                , d = p(d, e, f, c, q, 22, a[3])
                                , c = p(c, d, e, f, r, 7, a[4])
                                , f = p(f, c, d, e, s, 12, a[5])
                                , e = p(e, f, c, d, t, 17, a[6])
                                , d = p(d, e, f, c, u, 22, a[7])
                                , c = p(c, d, e, f, v, 7, a[8])
                                , f = p(f, c, d, e, x, 12, a[9])
                                , e = p(e, f, c, d, y, 17, a[10])
                                , d = p(d, e, f, c, z, 22, a[11])
                                , c = p(c, d, e, f, A, 7, a[12])
                                , f = p(f, c, d, e, B, 12, a[13])
                                , e = p(e, f, c, d, C, 17, a[14])
                                , d = p(d, e, f, c, D, 22, a[15])
                                , c = m(c, d, e, f, w, 5, a[16])
                                , f = m(f, c, d, e, t, 9, a[17])
                                , e = m(e, f, c, d, z, 14, a[18])
                                , d = m(d, e, f, c, h, 20, a[19])
                                , c = m(c, d, e, f, s, 5, a[20])
                                , f = m(f, c, d, e, y, 9, a[21])
                                , e = m(e, f, c, d, D, 14, a[22])
                                , d = m(d, e, f, c, r, 20, a[23])
                                , c = m(c, d, e, f, x, 5, a[24])
                                , f = m(f, c, d, e, C, 9, a[25])
                                , e = m(e, f, c, d, q, 14, a[26])
                                , d = m(d, e, f, c, v, 20, a[27])
                                , c = m(c, d, e, f, B, 5, a[28])
                                , f = m(f, c, d, e, j, 9, a[29])
                                , e = m(e, f, c, d, u, 14, a[30])
                                , d = m(d, e, f, c, A, 20, a[31])
                                , c = l(c, d, e, f, s, 4, a[32])
                                , f = l(f, c, d, e, v, 11, a[33])
                                , e = l(e, f, c, d, z, 16, a[34])
                                , d = l(d, e, f, c, C, 23, a[35])
                                , c = l(c, d, e, f, w, 4, a[36])
                                , f = l(f, c, d, e, r, 11, a[37])
                                , e = l(e, f, c, d, u, 16, a[38])
                                , d = l(d, e, f, c, y, 23, a[39])
                                , c = l(c, d, e, f, B, 4, a[40])
                                , f = l(f, c, d, e, h, 11, a[41])
                                , e = l(e, f, c, d, q, 16, a[42])
                                , d = l(d, e, f, c, t, 23, a[43])
                                , c = l(c, d, e, f, x, 4, a[44])
                                , f = l(f, c, d, e, A, 11, a[45])
                                , e = l(e, f, c, d, D, 16, a[46])
                                , d = l(d, e, f, c, j, 23, a[47])
                                , c = n(c, d, e, f, h, 6, a[48])
                                , f = n(f, c, d, e, u, 10, a[49])
                                , e = n(e, f, c, d, C, 15, a[50])
                                , d = n(d, e, f, c, s, 21, a[51])
                                , c = n(c, d, e, f, A, 6, a[52])
                                , f = n(f, c, d, e, q, 10, a[53])
                                , e = n(e, f, c, d, y, 15, a[54])
                                , d = n(d, e, f, c, w, 21, a[55])
                                , c = n(c, d, e, f, v, 6, a[56])
                                , f = n(f, c, d, e, D, 10, a[57])
                                , e = n(e, f, c, d, t, 15, a[58])
                                , d = n(d, e, f, c, B, 21, a[59])
                                , c = n(c, d, e, f, r, 6, a[60])
                                , f = n(f, c, d, e, z, 10, a[61])
                                , e = n(e, f, c, d, j, 15, a[62])
                                , d = n(d, e, f, c, x, 21, a[63]);
                            b[0] = b[0] + c | 0;
                            b[1] = b[1] + d | 0;
                            b[2] = b[2] + e | 0;
                            b[3] = b[3] + f | 0
                        },
                        _doFinalize: function() {
                            var a = this._data
                                , k = a.words
                                , b = 8 * this._nDataBytes
                                , h = 8 * a.sigBytes;
                            k[h >>> 5] |= 128 << 24 - h % 32;
                            var l = s.floor(b / 4294967296);
                            k[(h + 64 >>> 9 << 4) + 15] = (l << 8 | l >>> 24) & 16711935 | (l << 24 | l >>> 8) & 4278255360;
                            k[(h + 64 >>> 9 << 4) + 14] = (b << 8 | b >>> 24) & 16711935 | (b << 24 | b >>> 8) & 4278255360;
                            a.sigBytes = 4 * (k.length + 1);
                            this._process();
                            a = this._hash;
                            k = a.words;
                            for (b = 0; 4 > b; b++)
                                h = k[b],
                                    k[b] = (h << 8 | h >>> 24) & 16711935 | (h << 24 | h >>> 8) & 4278255360;
                            return a
                        },
                        clone: function() {
                            var a = t.clone.call(this);
                            a._hash = this._hash.clone();
                            return a
                        }
                    });
                    r.MD5 = t._createHelper(q);
                    r.HmacMD5 = t._createHmacHelper(q)
                }
            )(Math);
        } else {
            md5 = utag.ut.md5;
        }
        u.ev = {
            "view": 1,
            "link": 1
        };
        u.initialized = false;
        u.scriptrequested = false;
        u.queue = [];
        u.event_lookup = {
            "AddPaymentInfo": {
                obj: "payment",
                "map": ["value", "currency", "content_category", "content_ids"]
            },
            "AddToCart": {
                obj: "cart",
                "map": ["value", "currency", "content_name", "content_ids"]
            },
            "AddToWishlist": {
                obj: "wish",
                "map": ["value", "currency", "content_name", "content_ids"]
            },
            "CompleteRegistration": {
                obj: "reg",
                "map": ["value", "currency", "content_name"]
            },
            "Contact": {
                obj: "contact",
                "map": []
            },
            "CustomizeProduct": {
                obj: "customizeproduct",
                "map": []
            },
            "Donate": {
                obj: "donate",
                "map": []
            },
            "FindLocation": {
                obj: "findlocation",
                "map": []
            },
            "InitiateCheckout": {
                obj: "cout",
                "map": ["value", "currency", "content_name", "content_ids", "num_items"]
            },
            "Lead": {
                obj: "lead",
                "map": ["value", "currency", "content_name", "content_category"]
            },
            "PageView": {
                obj: "page",
                "map": []
            },
            "Purchase": {
                obj: "purch",
                "map": ["value", "currency", "content_name", "content_ids", "num_items"]
            },
            "Schedule": {
                obj: "schedule",
                "map": []
            },
            "Search": {
                obj: "search",
                "map": ["value", "currency", "content_category", "content_ids"]
            },
            "StartTrial": {
                obj: "starttrial",
                "map": ["value", "currency"]
            },
            "SubmitApplication": {
                obj: "submitapplication",
                "map": []
            },
            "Subscribe": {
                obj: "subscribe",
                "map": ["value", "currency"]
            },
            "ViewContent": {
                obj: "vc",
                "map": ["value", "currency", "content_name", "content_ids", "content_category"]
            },
            "Custom": {
                obj: "cust",
                "map": []
            },
            "Conversion": {
                obj: "cnv",
                "map": ["value", "currency"]
            }
        };
        u.std_params = {
            "value": function(g, event) {
                if (g.value === undefined || g.value === "") {
                    if (event === "ViewContent" || event === "AddToCart") {
                        g.value = u.data.ecom.product_unit_price;
                    } else {
                        g.value = u.data.ecom.order_subtotal;
                    }
                }
                g.value = u.val(g.value);
            },
            "currency": function(g) {
                if (!g.currency) {
                    g.currency = u.data.ecom.order_currency;
                }
            },
            "content_name": function(g) {
                if (!g.content_name) {
                    g.content_name = u.data.ecom.product_name;
                }
                if (u.typeOf(g.content_name) !== "array") {
                    g.content_name = g.content_name.split(/\s*,\s*/);
                }
            },
            "content_ids": function(g) {
                if (!g.content_ids) {
                    g.content_ids = u.data.ecom.product_id;
                }
                if (u.typeOf(g.content_ids) !== "array" && g.content_ids.length) {
                    g.content_ids = g.content_ids.split(/\s*,\s*/);
                }
            },
            "content_category": function(g) {
                if (!g.content_category) {
                    g.content_category = u.data.ecom.product_category;
                }
                g.content_category = u.val(g.content_category);
            },
            "num_items": function(g) {
                if (!g.num_items && u.data.calc_items === "true") {
                    g.num_items = u.calc_items(u.data.ecom.product_quantity);
                }
            }
        };
        u.map_func = function(arr, obj, item) {
            var i = arr.shift();
            obj[i] = obj[i] || {};
            if (arr.length > 0) {
                u.map_func(arr, obj[i], item);
            } else {
                obj[i] = item;
            }
        }
        ;
        u.val = function(value) {
            return u.typeOf(value) === "array" ? value[0] : value;
        }
        ;
        u.remove_empty = function(a) {
            var b, t;
            for (b in utag.loader.GV(a)) {
                t = u.typeOf(a[b]);
                if (t === "object") {
                    u.remove_empty(a[b]);
                    if (u.isEmptyObject(a[b])) {
                        try {
                            delete a[b];
                        } catch (e) {
                            a[b] = undefined;
                        }
                    }
                } else if (!((a[b] === 0 || a[b] === false) ? !0 : (t === "array" && a[b].length === 0) ? !1 : !!a[b])) {
                    try {
                        delete a[b];
                    } catch (e) {
                        a[b] = undefined;
                    }
                }
            }
            return a;
        }
        ;
        u.calc_items = function(quan) {
            var q, i = 0;
            for (q = 0; q < quan.length; q++) {
                i += parseInt(quan[q]);
            }
            return i;
        }
        ;
        u.hasOwn = function(o, a) {
            return o != null && Object.prototype.hasOwnProperty.call(o, a);
        }
        ;
        u.isEmptyObject = function(o, a) {
            for (a in o) {
                if (u.hasOwn(o, a)) {
                    return false;
                }
            }
            return true;
        }
        ;
        u.process_AM_data = function(_data) {
            var am_data = {}, item, val;
            for (item in utag.loader.GV(_data)) {
                val = String(_data[item]);
                if (item === "ph" || item === "ge" || item === "db" || item === "zp") {
                    val = val.replace(/\s/g, "").toLowerCase();
                }
                if (item === "ph") {
                    val = val.replace(/[^\d]/g, "");
                } else if (item === "ge") {
                    if (val !== "m" && val !== "f") {
                        utag.DB("[" + u.id + "] ge in wrong format. Removed from init call");
                        continue;
                    }
                } else if (item === "db") {
                    if (val.length !== 8) {
                        utag.DB("[" + u.id + "] db is not the correct length. Please check format. Removed from init call");
                        continue;
                    }
                } else if (item === "zp") {
                    val = val.replace(/[^\d]/g, "");
                    if (val.length > 5) {
                        utag.DB("[" + u.id + "] zp is too long. Removed from init call");
                        continue;
                    }
                }
                am_data[item] = val;
            }
            return u.isEmptyObject(am_data) ? undefined : am_data;
        }
        ;
        u.generateEventID = function(event, data, lookup_id) {
            var hash_input = (data["tealium_timestamp_epoch"] || (function() {
                    var d = new Date();
                    return Math.floor(d.getTime() / 1000);
                }
            )()) + "-" + lookup_id + "-" + event;
            var event_id = hash_input ? md5.MD5(hash_input).toString() : "";
            return u.data["cust_event_id"] || event_id;
        }
        ;
        u.map = {
            "fb_pixel_id": "cust_pixel",
            "fb_event_id": "cust_event_id",
            "_sm_91_3": "autoConfig",
            "ut.event:view": "PageView,ViewContent",
            "tealium_event:cart_add": "AddToCart",
            "tealium_event:checkout": "InitiateCheckout",
            "tealium_event:user_register": "CompleteRegistration",
            "tealium_event:purchase": "Purchase",
            "tealium_event:subscription_success": "Subscribe",
            "tealium_event:catalogue_download": "Schedule",
            "user.ProfileID": "am.uid,am.external_id",
            "order.ID": "order_id",
            "order.Total": "order_subtotal",
            "checkout.Step": "cout.content_name",
            "adobe_pageNameGlobal": "vc.content_name",
            "fb_delivery_category": "purch.delivery_category",
            "_sm_91_12": "cart.currency,cout.currency,page.currency,subscribe.currency,vc.currency,reg.currency,purch.currency,findlocation.currency",
            "_sm_91_13": "cart.content_type",
            "order.NewExistingCustomer": "purch.new_repeat",
            "order.IsMarketPlaceOrder": "purch.isMarketplaceOrder",
            "order.MarketSubTotal": "purch.MarketplaceTotal",
            "dom.url": "page.url"
        };
        u.extend = [function(a, b) {
            try {
                b['_sm_91_12'] = "AUD";
            } catch (e) {
                utag.DB(e);
            }
            try {
                b['_sm_91_13'] = "product";
            } catch (e) {
                utag.DB(e);
            }
            try {
                b['_sm_91_3'] = "false";
            } catch (e) {
                utag.DB(e);
            }
        }
            , function(a, b) {
                try {
                    if (1) {
                        b['_corder'] = '';
                        b['_ctotal'] = '';
                        b['_cprod'] = '';
                        b['_cprodname'] = '';
                        b['_cprice'] = '';
                        b['_cquan'] = '';
                        b['_cpdisc'] = '';
                        b['_ccat'] = '';
                        b['_cbrand'] = '';
                        b['_csubtotal'] = '';
                        b['_ccustid'] = '';
                        b['_csku'] = '';
                        b['_cpromo'] = ''
                    }
                } catch (e) {
                    utag.DB(e);
                }
            }
            , function(a, b) {
                try {
                    if ((typeof b['page.Type'] != 'undefined' && b['page.Type'].toString().toLowerCase() == 'catalogue'.toLowerCase() && typeof b['qp.view'] != 'undefined' && typeof b['catalogue.ID'] != 'undefined')) {
                        u.map["catalogue.ID"] = "vc.content_ids";
                        u.map["catalogue.ID"] = "schedule.content_ids";
                    }
                } catch (e) {
                    utag.DB(e)
                }
            }
            , function(a, b) {
                try {
                    if ((typeof b['order.ShippingMethod'] != 'undefined' && typeof b['order.ShippingMethod'] != 'undefined' && b['order.ShippingMethod'] != '')) {
                        switch (b["order.ShippingMethod"]) {
                            case "Courier":
                                b["fb_delivery_category"] = "home_delivery";
                                break;
                            case "Pickup":
                                b["fb_delivery_category"] = "in_store";
                                break;
                            case "DriveUp":
                                b["fb_delivery_category"] = "curbside";
                                break;
                            case "Express":
                                b["fb_delivery_category"] = "home_delivery_express";
                                break;
                        }
                    }
                } catch (e) {
                    utag.DB(e)
                }
            }
        ];
        u.send = function(a, b) {
            if (u.ev[a] || u.ev.all !== undefined) {
                utag.DB("send:91");
                utag.DB(b);
                var c, d, e, f, g, h, i, amObj, event_id, lookup_id, evt = [];
                u.data = {
                    "qsp_delim": "&",
                    "kvp_delim": "=",
                    "base_url": "https://connect.facebook.net/en_US/fbevents.js",
                    "cust_pixel": "",
                    "conv_pixel": "",
                    "page_view": "false",
                    "calc_items": "false",
                    "default_event": "None",
                    "adv_match": "true",
                    "track_single": "true",
                    "disablePushState": "",
                    "custom_data": {},
                    "custom_event": "",
                    "product_id": [],
                    "product_name": [],
                    "product_category": [],
                    "product_unit_price": [],
                    "product_quantity": [],
                    "evt_list": [],
                    "ecom": {},
                    "generate_event_id": "true"
                };
                for (c = 0; c < u.extend.length; c++) {
                    try {
                        d = u.extend[c](a, b);
                        if (d == false)
                            return
                    } catch (e) {
                        if (typeof utag_err != 'undefined') {
                            utag_err.push({
                                e: 'extension error:' + e,
                                s: utag.cfg.path + 'utag.' + id + '.js',
                                l: c,
                                t: 'ex'
                            })
                        }
                    }
                }
                ;utag.DB("send:91:EXTENSIONS");
                utag.DB(b);
                c = [];
                for (d in utag.loader.GV(u.map)) {
                    if (b[d] !== undefined && b[d] !== "") {
                        e = u.map[d].split(",");
                        for (f = 0; f < e.length; f++) {
                            u.map_func(e[f].split("."), u.data, b[d]);
                        }
                    } else {
                        h = d.split(":");
                        if (h.length === 2 && b[h[0]] === h[1]) {
                            if (u.map[d]) {
                                evt = evt.concat(u.map[d].split(","));
                            }
                        }
                    }
                }
                lookup_id = b.tealium_random || Math.random().toFixed(16).substring(2);
                utag.globals[lookup_id] = window.utag.globals[lookup_id] || {};
                if (u.data.evt_list && u.typeOf(u.data.evt_list) !== "array") {
                    u.data.evt_list = u.data.evt_list.split(/\s*,\s*/);
                }
                if (u.data.default_event !== "None" && u.data.default_event !== "") {
                    u.data.evt_list.push(u.data.default_event);
                }
                u.data.evt_list = u.data.evt_list.concat(evt);
                g = u.data.ecom;
                g.order_id = u.data.order_id || b._corder || "";
                g.order_subtotal = u.data.order_subtotal || b._csubtotal || "";
                g.order_currency = u.data.order_currency || b._ccurrency || "";
                if (u.data.product_name.length === 0 && b._cprodname !== undefined) {
                    g.product_name = b._cprodname.slice(0);
                } else {
                    g.product_name = u.data.product_name;
                }
                if (u.data.product_id.length === 0 && b._cprod !== undefined) {
                    g.product_id = b._cprod.slice(0);
                } else {
                    g.product_id = u.data.product_id;
                }
                if (u.data.product_category.length === 0 && b._ccat !== undefined) {
                    g.product_category = b._ccat.slice(0);
                } else {
                    g.product_category = u.data.product_category;
                }
                if (u.data.product_unit_price.length === 0 && b._cprice !== undefined) {
                    g.product_unit_price = b._cprice.slice(0);
                } else {
                    g.product_unit_price = u.data.product_unit_price;
                }
                if (u.data.product_quantity.length === 0 && b._cquan !== undefined) {
                    g.product_quantity = b._cquan.slice(0);
                } else {
                    g.product_quantity = u.data.product_quantity;
                }
                u.loader_cb = function() {
                    utag.DB("send:91:CALLBACK");
                    var g = {}, i, j, k, _event, _event_id, tracking_type, _track = "track", p, cb_amObj;
                    if (u.typeOf(u.data.cust_pixel) !== "array") {
                        u.data.cust_pixel = u.data.cust_pixel.split(/\s*,\s*/);
                    }
                    if (a === "view" && (u.data.adv_match === true || u.data.adv_match === "true")) {
                        cb_amObj = u.process_AM_data(u.remove_empty(u.data.am));
                        if (!cb_amObj) {
                            utag.DB(u.id + ": no data is mapped to Advanced Matching.");
                        }
                        for (k = 0; k < u.data.cust_pixel.length; k++) {
                            fbq('set', 'autoConfig', false, u.data.cust_pixel[k]);
                            fbq("init", u.data.cust_pixel[k], cb_amObj);
                        }
                    }
                    if (u.data.track_single === true || u.data.track_single === "true") {
                        _track += "Single";
                    }
                    if (u.data.evt_list.toString().indexOf("Purchase") === -1 && u.data.ecom.order_id) {
                        u.data.evt_list.push("Purchase");
                    }
                    if (u.data.ecom.order_id) {
                        for (i = 0; i < u.data.evt_list.length; i++) {
                            if (u.data.evt_list[i] === "Purchase") {
                                p = true;
                            }
                        }
                        if (!p) {
                            u.data.evt_list.push("Purchase");
                        }
                    }
                    for (i = 0; i < u.data.evt_list.length; i++) {
                        _event = u.data.evt_list[i];
                        tracking_type = _track;
                        f = u.event_lookup[_event];
                        c = f ? f.map : [];
                        f = f ? f.obj : _event;
                        g = u.data[f] = u.data[f] || {};
                        for (j = 0; j < c.length; j++) {
                            u.std_params[c[j]](g, _event);
                        }
                        if (_event === "Search") {
                            if (!g.content_category) {
                                g.content_category = "Product Search";
                            }
                        } else if (_event === "Conversion" && u.data.conv_pixel) {
                            _event = u.data.conv_pixel;
                        } else if (_event && !u.event_lookup[_event]) {
                            tracking_type += "Custom";
                            g = u.data[_event];
                        }
                        if (g.value !== undefined) {
                            if (u.typeOf(g.value) === "array") {
                                for (j = 0; j < g.value.length; j++) {
                                    g.value[j] = parseFloat(g.value[j]) || 0.00;
                                }
                            } else {
                                g.value = parseFloat(g.value) || 0.00;
                            }
                        }
                        if (_event) {
                            if (u.data.track_single === true || u.data.track_single === "true") {
                                for (k = 0; k < u.data.cust_pixel.length; k++) {
                                    if (u.data.generate_event_id === "true" || u.data.generate_event_id === true) {
                                        _event_id = u.generateEventID(_event, b, lookup_id);
                                        window.utag.globals[lookup_id]["fb_event_id_" + _event] = _event_id;
                                        fbq(tracking_type, u.data.cust_pixel[k], _event, u.remove_empty(g), {
                                            eventID: _event_id
                                        });
                                    } else {
                                        fbq(tracking_type, u.data.cust_pixel[k], _event, u.remove_empty(g));
                                    }
                                }
                            } else {
                                if (u.data.generate_event_id === "true" || u.data.generate_event_id === true) {
                                    _event_id = u.generateEventID(_event, b, lookup_id);
                                    window.utag.globals[lookup_id]["fb_event_id_" + _event] = _event_id;
                                    fbq(tracking_type, _event, u.remove_empty(g), {
                                        eventID: _event_id
                                    });
                                } else {
                                    fbq(tracking_type, _event, u.remove_empty(g));
                                }
                            }
                        }
                    }
                    utag.DB("send:91:CALLBACK:COMPLETE");
                }
                ;
                u.callBack = function() {
                    var data = {};
                    u.initialized = true;
                    while (data = u.queue.shift()) {
                        u.data = data.data;
                        u.loader_cb();
                    }
                }
                ;
                if (u.initialized) {
                    u.loader_cb();
                } else if (!u.initialized && window.fbq) {
                    u.initialized = true;
                    if (u.data.cust_pixel) {
                        u.data.cust_pixel = u.data.cust_pixel.split(/\s*,\s*/);
                        for (i = 0; i < u.data.cust_pixel.length; i++) {
                            u.data.cust_pixel[i] = u.data.cust_pixel[i].replace(/^\s*/, "").replace(/\s*$/, "");
                            if (u.data.adv_match === true || u.data.adv_match === "true") {
                                amObj = u.process_AM_data(u.remove_empty(u.data.am));
                                if (!amObj) {
                                    utag.DB(u.id + ": no data is mapped to Advanced Matching.");
                                }
                            }
                            if (u.data.disablePushState === true || u.data.disablePushState === "true") {
                                fbq.disablePushState = true;
                            }
                            fbq('set', 'autoConfig', false, u.data.cust_pixel[i]);
                            fbq("init", u.data.cust_pixel[i], amObj);
                        }
                        if (u.data.page_view === "true") {
                            if (u.data.generate_event_id === "true" || u.data.generate_event_id === true) {
                                event_id = u.generateEventID("PageView", b, lookup_id);
                                window.utag.globals[lookup_id]["fb_event_id_PageView"] = event_id;
                                fbq("track", "PageView", u.data.page, {
                                    eventID: event_id
                                });
                            } else {
                                fbq("track", "PageView", u.data.page);
                            }
                        }
                    }
                    u.loader_cb();
                } else {
                    u.queue.push({
                        "data": u.data
                    });
                    if (!u.scriptrequested) {
                        u.scriptrequested = true;
                        u.loader_config = {
                            "type": "script",
                            "src": u.data.base_url,
                            "cb": u.callBack,
                            "loc": "script",
                            "id": "utag_91"
                        };
                        !function(f, b, self, config, e) {
                            if (f.fbq)
                                return;
                            self.loader(config);
                            e = f.fbq = function() {
                                e.callMethod ? e.callMethod.apply(e, arguments) : e.queue.push(arguments);
                            }
                            ;
                            if (!f._fbq)
                                f._fbq = e;
                            e.push = e;
                            e.loaded = !0;
                            e.version = "2.0";
                            e.queue = [];
                            e.agent = "tmtealium";
                        }(window, document, this, u.loader_config);
                        if (u.data.disablePushState === true || u.data.disablePushState === "true") {
                            fbq.disablePushState = true;
                        }
                        if (u.data.cust_pixel) {
                            u.data.cust_pixel = u.data.cust_pixel.split(/\s*,\s*/);
                            for (i = 0; i < u.data.cust_pixel.length; i++) {
                                u.data.cust_pixel[i] = u.data.cust_pixel[i].replace(/^\s*/, "").replace(/\s*$/, "");
                                if (u.data.adv_match === true || u.data.adv_match === "true") {
                                    amObj = u.process_AM_data(u.remove_empty(u.data.am));
                                    if (!amObj) {
                                        utag.DB(u.id + ": no data is mapped to Advanced Matching.");
                                    }
                                }
                                fbq('set', 'autoConfig', false, u.data.cust_pixel[i]);
                                fbq("init", u.data.cust_pixel[i], amObj);
                            }
                            if (u.data.page_view === "true") {
                                if (u.data.generate_event_id === "true" || u.data.generate_event_id === true) {
                                    event_id = u.generateEventID("PageView", b, lookup_id);
                                    window.utag.globals[lookup_id]["fb_event_id_PageView"] = event_id;
                                    fbq("track", "PageView", u.data.page, {
                                        eventID: event_id
                                    });
                                } else {
                                    fbq("track", "PageView", u.data.page);
                                }
                            }
                        }
                    }
                }
                utag.DB("send:91:COMPLETE");
            }
        }
        ;
        utag.o[loader].loader.LOAD(id);
    }("91", "woolworths.supermarkets"));
} catch (error) {
    utag.DB(error);
}

//tealium universal tag - utag.45 ut4.0.202302140104, Copyright 2023 Tealium.com Inc. All Rights Reserved.
try {
    (function(id, loader) {
        var u = {
            "id": id
        };
        utag.o[loader].sender[id] = u;
        if (utag.ut === undefined) {
            utag.ut = {};
        }
        var match = /ut\d\.(\d*)\..*/.exec(utag.cfg.v);
        if (utag.ut.loader === undefined || !match || parseInt(match[1]) < 41) {
            u.loader = function(o, a, b, c, l, m) {
                utag.DB(o);
                a = document;
                if (o.type == "iframe") {
                    m = a.getElementById(o.id);
                    if (m && m.tagName == "IFRAME") {
                        b = m;
                    } else {
                        b = a.createElement("iframe");
                    }
                    o.attrs = o.attrs || {};
                    utag.ut.merge(o.attrs, {
                        "height": "1",
                        "width": "1",
                        "style": "display:none"
                    }, 0);
                } else if (o.type == "img") {
                    utag.DB("Attach img: " + o.src);
                    b = new Image();
                } else {
                    b = a.createElement("script");
                    b.language = "javascript";
                    b.type = "text/javascript";
                    b.async = 1;
                    b.charset = "utf-8";
                }
                if (o.id) {
                    b.id = o.id;
                }
                for (l in utag.loader.GV(o.attrs)) {
                    b.setAttribute(l, o.attrs[l]);
                }
                b.setAttribute("src", o.src);
                if (typeof o.cb == "function") {
                    if (b.addEventListener) {
                        b.addEventListener("load", function() {
                            o.cb();
                        }, false);
                    } else {
                        b.onreadystatechange = function() {
                            if (this.readyState == "complete" || this.readyState == "loaded") {
                                this.onreadystatechange = null;
                                o.cb();
                            }
                        }
                        ;
                    }
                }
                if (o.type != "img" && !m) {
                    l = o.loc || "head";
                    c = a.getElementsByTagName(l)[0];
                    if (c) {
                        utag.DB("Attach to " + l + ": " + o.src);
                        if (l == "script") {
                            c.parentNode.insertBefore(b, c);
                        } else {
                            c.appendChild(b);
                        }
                    }
                }
            }
            ;
        } else {
            u.loader = utag.ut.loader;
        }
        if (utag.ut.typeOf === undefined) {
            u.typeOf = function(e) {
                return ({}).toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase();
            }
            ;
        } else {
            u.typeOf = utag.ut.typeOf;
        }
        u.ev = {
            "view": 1,
            "link": 1
        };
        u.initialized = false;
        u.scriptrequested = false;
        u.queue = [];
        u.map_func = function(arr, obj, item) {
            var i = arr.shift();
            obj[i] = obj[i] || {};
            if (arr.length > 0) {
                u.map_func(arr, obj[i], item);
            } else {
                obj[i] = item;
            }
        }
        ;
        u.clearEmptyKeys = function(object) {
            for (var key in object) {
                if (object[key] === "" || object[key] === undefined) {
                    delete object[key];
                }
            }
            return object;
        }
        ;
        u.buildItems = function(data) {
            var maxLength = 0;
            for (var key in data.ecom) {
                if (data.ecom[key].length > maxLength) {
                    maxLength = data.ecom[key].length;
                }
            }
            for (var key in data.ecom) {
                if (maxLength !== data.ecom[key].length && data.ecom[key].length !== 0) {
                    utag.DB("WARNING : Missing Data in " + key);
                }
            }
            for (var i = 0; i < maxLength; i++) {
                var temp = {};
                for (var key in data.ecom) {
                    if (maxLength === data.ecom[key].length) {
                        var identifier = key.slice(8);
                        temp[identifier] = data.ecom[key][i];
                    }
                }
                data.property.items.push(temp);
            }
        }
        ;
        u.map = {
            "ir_actionTrackerID": "actionTrackerId",
            "user.ProfileID": "property.customerId",
            "order.ID": "property.orderId",
            "order.Total": "property.orderSubTotalPostDiscount",
            "order.CurrencyCode": "property.currencyCode",
            "ir_giftCardPayment": "property.paymentType",
            "user.ProfileDeliverySaverType": "property.deliverySaverType",
            "ir_orderCategory": "property.orderCategory",
            "order.NewExistingCustomer": "property.customerStatus",
            "order.PromoCode": "property.orderPromoCode"
        };
        u.extend = [function(a, b, c, d, e, f, g) {
            if (1) {
                d = b['tealium_event'];
                if (typeof d == 'undefined')
                    return;
                c = [{
                    'purchase': '13378'
                }, {
                    'order': '13378'
                }, {
                    'subscription_success': '18783'
                }];
                var m = false;
                for (e = 0; e < c.length; e++) {
                    for (f in utag.loader.GV(c[e])) {
                        if (d == f) {
                            b['ir_actionTrackerID'] = c[e][f];
                            m = true
                        }
                        ;
                    }
                    ;if (m)
                        break
                }
                ;
            }
        }
            , function(a, b) {
                try {
                    if ((typeof b['ir_actionTrackerID'] != 'undefined' && typeof b['ir_actionTrackerID'] != 'undefined' && b['ir_actionTrackerID'] != '')) {
                        b["order.ID"] = b["order.ID"] || "IR_AN_64";
                        b["order.Total"] = b["order.Total"] || "0";
                    }
                } catch (e) {
                    utag.DB(e)
                }
            }
            , function(a, b, c, d) {
                try {
                    if ((typeof b['order.ShippingMethod'] != 'undefined' && typeof b['order.ShippingMethod'] != 'undefined' && b['order.ShippingMethod'] != '')) {
                        c = [b['user.SegmentType'], b['order.ShippingMethod']];
                        b['ir_orderCategory'] = c.join('_')
                    }
                } catch (e) {
                    utag.DB(e);
                }
            }
            , function(a, b) {
                try {
                    if ((typeof b['order.PaymentType'] != 'undefined' && b['order.PaymentType'].toString().indexOf('GiftCard') > -1)) {
                        b['ir_giftCardPayment'] = 'GiftCard'
                    }
                } catch (e) {
                    utag.DB(e);
                }
            }
        ];
        u.loader_cb = function(a, b, c) {
            utag.DB("send:45:CALLBACK");
            u.initialized = true;
            var properties = u.clearEmptyKeys(u.data.property);
            var options = u.clearEmptyKeys(u.data.options);
            function ir_cleanValue(v) {
                return v ? v.replace(/\s/g, "_").replace(/[^A-Z0-9\_]/gi, "") : ""
            }
            ;ire('identify', {
                customerId: properties["customerId"] || "",
                customerEmail: ""
            });
            if (u.data.actionTrackerId) {
                ire('trackConversion', u.data.actionTrackerId, {
                    orderId: properties["orderId"] || "",
                    customerId: properties["customerId"] || "",
                    customerStatus: properties["customerStatus"] || "",
                    customerEmail: "",
                    currencyCode: properties["currencyCode"] || "",
                    orderPromoCode: properties["orderPromoCode"] || "",
                    paymentType: properties["paymentType"] || "",
                    items: [{
                        subTotal: properties["orderSubTotalPostDiscount"] || "",
                        category: ir_cleanValue(properties["orderCategory"]) || "",
                        sku: ir_cleanValue(properties["deliverySaverType"]) || "",
                        quantity: 1
                    }]
                }, {
                    verifySiteDefinitionMatch: true
                });
            }
            utag.DB("send:45:CALLBACK:COMPLETE");
        }
        ;
        u.callBack = function() {
            var data = {};
            while (data = u.queue.shift()) {
                u.data = data.data;
                u.loader_cb(data.a, data.b, data.c);
            }
        }
        ;
        u.send = function(a, b) {
            if (u.ev[a] || u.ev.all !== undefined) {
                utag.DB("send:45");
                utag.DB(b);
                var c, d, e, f;
                u.data = {
                    "qsp_delim": "&",
                    "kvp_delim": "=",
                    "base_url": "//d.impactradius-event.com/",
                    "actionTrackerId": "",
                    "scriptName": "A489193-5827-4f6d-825d-1c2a6717f0dc1.js",
                    "property": {
                        "orderId": "",
                        "orderPromoCode": "",
                        "orderPromoCodeDesc": "",
                        "orderDiscount": "",
                        "orderRebate": "",
                        "orderSubTotalPreDiscount": "",
                        "orderSubTotalPostDiscount": "",
                        "orderShipping": "",
                        "orderTax": "",
                        "paymentType": "",
                        "locationName": "",
                        "locationType": "",
                        "locationId": "",
                        "giftPurchase": "",
                        "currencyCode": "",
                        "customerId": "",
                        "customerEmail": "",
                        "customerCity": "",
                        "customerRegion": "",
                        "customerPostCode": "",
                        "customerCountry": "",
                        "customerStatus": "",
                        "money1": "",
                        "money2": "",
                        "money3": "",
                        "date1": "",
                        "date2": "",
                        "date3": "",
                        "numeric1": "",
                        "numeric2": "",
                        "numeric3": "",
                        "text1": "",
                        "text2": "",
                        "text3": "",
                        "siteCategory": "",
                        "siteVersion": "",
                        "hearAboutUs": "",
                        "note": "",
                        "dispositionCode": "",
                        "phoneNumber": "",
                        "callerId": "",
                        "clickid": "",
                        "referenceId": "",
                        "test": "",
                        "items": []
                    },
                    "options": {
                        "domReady": "",
                        "tag": ""
                    },
                    "ecom": {
                        "product_name": [],
                        "product_sku": [],
                        "product_brand": [],
                        "product_category": [],
                        "product_subcategory": [],
                        "product_quantity": [],
                        "product_mpn": [],
                        "product_deliveryType": [],
                        "product_referenceId": [],
                        "product_price": [],
                        "product_promoCode": [],
                        "product_promoCodeDesc": [],
                        "product_totalDiscount": [],
                        "product_totalRebate": [],
                        "product_subTotal": [],
                        "product_discount": []
                    }
                };
                for (c = 0; c < u.extend.length; c++) {
                    try {
                        d = u.extend[c](a, b);
                        if (d == false)
                            return
                    } catch (e) {
                        if (typeof utag_err != 'undefined') {
                            utag_err.push({
                                e: 'extension error:' + e,
                                s: utag.cfg.path + 'utag.' + id + '.js',
                                l: c,
                                t: 'ex'
                            })
                        }
                    }
                }
                ;utag.DB("send:45:EXTENSIONS");
                utag.DB(b);
                c = [];
                for (d in utag.loader.GV(u.map)) {
                    if (b[d] !== undefined && b[d] !== "") {
                        e = u.map[d].split(",");
                        for (f = 0; f < e.length; f++) {
                            u.map_func(e[f].split("."), u.data, b[d]);
                        }
                    }
                }
                utag.DB("send:45:MAPPINGS");
                utag.DB(u.data);
                u.data.property.orderId = u.data.property.orderId || b._corder || "";
                u.data.property.orderSubTotalPreDiscount = u.data.property.orderSubTotalPreDiscount || b._csubtotal || "";
                u.data.property.orderShipping = u.data.property.orderShipping || b._cship || "";
                u.data.property.orderTax = u.data.property.orderTax || b._ctax || "";
                u.data.property.customerId = u.data.property.customerId || b._ccustid || "";
                u.data.property.customerCity = u.data.property.customerCity || b._ccity || "";
                u.data.property.customerPostCode = u.data.property.customerPostCode || b._czip || "";
                u.data.property.customerCountry = u.data.property.customerCountry || b._ccountry || "";
                if (u.data.ecom.product_sku.length === 0 && b._csku !== undefined) {
                    u.data.ecom.product_sku = b._csku.slice(0);
                }
                if (u.data.ecom.product_brand.length === 0 && b._cbrand !== undefined) {
                    u.data.ecom.product_brand = b._cbrand.slice(0);
                }
                if (u.data.ecom.product_category.length === 0 && b._ccat !== undefined) {
                    u.data.ecom.product_category = b._ccat.slice(0);
                }
                if (u.data.ecom.product_subcategory.length === 0 && b._ccat2 !== undefined) {
                    u.data.ecom.product_subcategory = b._ccat2.slice(0);
                }
                if (u.data.ecom.product_quantity.length === 0 && b._cquan !== undefined) {
                    u.data.ecom.product_quantity = b._cquan.slice(0);
                }
                if (u.data.ecom.product_price.length === 0 && b._cprice !== undefined) {
                    u.data.ecom.product_price = b._cprice.slice(0);
                }
                if (u.data.ecom.product_discount.length === 0 && b._cpdisc !== undefined) {
                    u.data.ecom.product_discount = b._cpdisc.slice(0);
                }
                if (!u.data.scriptName) {
                    utag.DB(u.id + ": Tag not fired: Required attribute not populated");
                    return;
                }
                u.data.base_url += u.data.scriptName;
                u.buildItems(u.data);
                if (u.initialized) {
                    u.loader_cb(a, b, c);
                } else {
                    u.queue.push({
                        "data": u.data,
                        "a": a,
                        "b": b,
                        "c": c
                    });
                    if (!u.scriptrequested) {
                        u.scriptrequested = true;
                        u.loader({
                            "type": "script",
                            "src": u.data.base_url,
                            "cb": u.callBack,
                            "loc": "script",
                            "id": "utag_45",
                            "attrs": {}
                        });
                    }
                }
                utag.DB("send:45:COMPLETE");
            }
        }
        ;
        utag.o[loader].loader.LOAD(id);
    }("45", "woolworths.supermarkets"));
} catch (error) {
    utag.DB(error);
}

//tealium universal tag - utag.162 ut4.0.202302140104, Copyright 2023 Tealium.com Inc. All Rights Reserved.
try {
    (function(id, loader) {
        var u = {};
        utag.o[loader].sender[id] = u;
        if (utag.ut === undefined) {
            utag.ut = {};
        }
        if (utag.ut.loader === undefined) {
            u.loader = function(o) {
                var a, b, c, l;
                a = document;
                if (o.type === "iframe") {
                    b = a.createElement("iframe");
                    b.setAttribute("height", "1");
                    b.setAttribute("width", "1");
                    b.setAttribute("style", "display:none");
                    b.setAttribute("src", o.src);
                } else if (o.type === "img") {
                    utag.DB("Attach img: " + o.src);
                    b = new Image();
                    b.src = o.src;
                    return;
                } else {
                    b = a.createElement("script");
                    b.language = "javascript";
                    b.type = "text/javascript";
                    b.async = 1;
                    b.src = o.src;
                }
                if (o.id) {
                    b.id = o.id;
                }
                if (typeof o.cb === "function") {
                    b.hFlag = 0;
                    b.onreadystatechange = function() {
                        if ((this.readyState === 'complete' || this.readyState === 'loaded') && !b.hFlag) {
                            b.hFlag = 1;
                            o.cb();
                        }
                    }
                    ;
                    b.onload = function() {
                        if (!b.hFlag) {
                            b.hFlag = 1;
                            o.cb();
                        }
                    }
                    ;
                }
                l = o.loc || "head";
                c = a.getElementsByTagName(l)[0];
                if (c) {
                    utag.DB("Attach to " + l + ": " + o.src);
                    if (l === "script") {
                        c.parentNode.insertBefore(b, c);
                    } else {
                        c.appendChild(b);
                    }
                }
            }
            ;
        } else {
            u.loader = utag.ut.loader;
        }
        u.ev = {
            'view': 1
        };
        u.map = {
            "dc_rewards_advertiser": "src",
            "va.properties.6095": "u11",
            "va.properties.6097": "u12",
            "va.properties.6099": "u13",
            "va.properties.6101": "u14",
            "va.properties.6103": "u15",
            "va.properties.6105": "u16",
            "va.properties.6107": "u17",
            "va.properties.6109": "u18",
            "va.properties.6111": "u19",
            "va.properties.6113": "u20",
            "va.properties.6115": "u21",
            "va.properties.6117": "u22",
            "va.properties.5818": "u1"
        };
        u.extend = [];
        u.send = function(a, b) {
            if (u.ev[a] || u.ev.all !== undefined) {
                var c, d, e, f, g;
                u.data = {
                    "qsp_delim": ";",
                    "kvp_delim": "=",
                    "base_url": "",
                    "src": "8361001",
                    "type": "wrall",
                    "cat": "wrpeprod",
                    "multicat": "",
                    "ord": "",
                    "cost": "",
                    "qty": 0,
                    "total_qty": 0,
                    "countertype": "session",
                    "conversioncount": "single",
                    "order_id": "",
                    "order_subtotal": "",
                    "product_id": [],
                    "product_quantity": [],
                    "product_unit_price": []
                };
                c = [];
                g = [];
                for (d in utag.loader.GV(u.map)) {
                    if (b[d] !== undefined && b[d] !== "") {
                        e = u.map[d].split(",");
                        for (f = 0; f < e.length; f++) {
                            if (/^(cat|multicat|type|src|cost|qty|countertype|conversioncount|ord|order_id|order_subtotal|product_id|product_quantity|product_unit_price)$/.test(e[f])) {
                                u.data[e[f]] = b[d];
                            } else {
                                u.data[e[f]] = b[d];
                                g.push(e[f] + u.data.kvp_delim + encodeURIComponent(b[d]))
                            }
                        }
                    }
                }
                u.data.order_id = u.data.order_id || u.data.ord || b._corder || "";
                u.data.order_subtotal = u.data.cost || u.data.order_subtotal || b._csubtotal || b._ctotal || "";
                if (u.data.product_id.length === 0 && b._cprod !== undefined) {
                    u.data.product_id = b._cprod.slice(0);
                }
                if ((u.data.qty && u.data.qty.length > 0) || (u.data.product_quantity.length === 0 && b._cquan !== undefined)) {
                    u.data.product_quantity = u.data.qty || b._cquan.slice(0);
                }
                if (u.data.product_unit_price.length === 0 && b._cprice !== undefined) {
                    u.data.product_unit_price = b._cprice.slice(0);
                }
                u.data.base_url = '//' + u.data.src + '.fls.doubleclick.net/activityi;src=' + u.data.src + ';type=' + u.data.type + ';';
                if (u.data.multicat === "") {
                    u.data.multicat_arr = [u.data.cat];
                } else {
                    u.data.multicat_arr = u.data.multicat.split(';');
                }
                if (u.data.order_id) {
                    if (u.data.conversioncount === "multi" && u.data.product_quantity.length > 0) {
                        for (f = 0; f < u.data.product_quantity.length; f++) {
                            u.data.total_qty += parseInt(u.data.product_quantity[f]);
                        }
                        u.data.qty = u.data.total_qty;
                    } else {
                        u.data.qty = 1;
                    }
                    var dc_fl_prd = [];
                    for (var i = 0; i < u.data.product_id.length; i++) {
                        var prod_num = i + 1;
                        dc_fl_prd.push("i" + prod_num + ":" + u.data.product_id[i] + "|p" + prod_num + ":" + u.data.product_unit_price[i] + "|q" + prod_num + ":" + u.data.product_quantity[i])
                    }
                    u.prd = dc_fl_prd.join('|');
                    if (u.prd) {
                        c.push("prd=" + u.prd);
                    }
                    c.push('qty=' + (u.data.qty));
                    c.push('cost=' + (u.data.order_subtotal));
                    if (g.length > 0) {
                        c.push(g.join(';'));
                    }
                    c.push('ord=' + (u.data.order_id));
                } else if (u.data.countertype === 'standard') {
                    if (g.length > 0) {
                        c.push(g.join(';'));
                    }
                    c.push('ord=' + (Math.random() * 10000000000000));
                } else if (u.data.countertype === 'unique') {
                    if (g.length > 0) {
                        c.push(g.join(';'));
                    }
                    c.push('ord=1');
                    c.push('num=' + (Math.random() * 10000000000000));
                } else {
                    if (g.length > 0) {
                        c.push(g.join(';'));
                    }
                    c.push('ord=' + (u.data.order_id ? u.data.order_id : window.utag.data['cp.utag_main_ses_id']));
                }
                for (f = 0; f < u.data.multicat_arr.length; f++) {
                    u.loader({
                        "type": "iframe",
                        "src": u.data.base_url + 'cat=' + u.data.multicat_arr[f] + ((c.length > 0) ? ';' + c.join(u.data.qsp_delim) : '') + '?',
                        "loc": "body",
                        "id": 'utag_162_iframe'
                    });
                }
            }
        }
        ;
        utag.o[loader].loader.LOAD(id);
    }('162', 'woolworths.supermarkets'));
} catch (error) {
    utag.DB(error);
}

//tealium universal tag - utag.164 ut4.0.202302140104, Copyright 2023 Tealium.com Inc. All Rights Reserved.
try {
    (function(id, loader) {
        var u = {
            "id": id
        };
        utag.o[loader].sender[id] = u;
        if (utag.ut === undefined) {
            utag.ut = {};
        }
        var match = /ut\d\.(\d*)\..*/.exec(utag.cfg.v);
        if (utag.ut.loader === undefined || !match || parseInt(match[1]) < 41) {
            u.loader = function(o, a, b, c, l, m) {
                utag.DB(o);
                a = document;
                if (o.type == "iframe") {
                    m = a.getElementById(o.id);
                    if (m && m.tagName == "IFRAME") {
                        b = m;
                    } else {
                        b = a.createElement("iframe");
                    }
                    o.attrs = o.attrs || {};
                    utag.ut.merge(o.attrs, {
                        "height": "1",
                        "width": "1",
                        "style": "display:none"
                    }, 0);
                } else if (o.type == "img") {
                    utag.DB("Attach img: " + o.src);
                    b = new Image();
                } else {
                    b = a.createElement("script");
                    b.language = "javascript";
                    b.type = "text/javascript";
                    b.async = 1;
                    b.charset = "utf-8";
                }
                if (o.id) {
                    b.id = o.id;
                }
                for (l in utag.loader.GV(o.attrs)) {
                    b.setAttribute(l, o.attrs[l]);
                }
                b.setAttribute("src", o.src);
                if (typeof o.cb == "function") {
                    if (b.addEventListener) {
                        b.addEventListener("load", function() {
                            o.cb();
                        }, false);
                    } else {
                        b.onreadystatechange = function() {
                            if (this.readyState == "complete" || this.readyState == "loaded") {
                                this.onreadystatechange = null;
                                o.cb();
                            }
                        }
                        ;
                    }
                }
                if (o.type != "img" && !m) {
                    l = o.loc || "head";
                    c = a.getElementsByTagName(l)[0];
                    if (c) {
                        utag.DB("Attach to " + l + ": " + o.src);
                        if (l == "script") {
                            c.parentNode.insertBefore(b, c);
                        } else {
                            c.appendChild(b);
                        }
                    }
                }
            }
            ;
        } else {
            u.loader = utag.ut.loader;
        }
        if (utag.ut.typeOf === undefined) {
            u.typeOf = function(e) {
                return ({}).toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase();
            }
            ;
        } else {
            u.typeOf = utag.ut.typeOf;
        }
        u.ev = {
            "view": 1
        };
        u.toBoolean = function(val) {
            val = val || "";
            return val === true || val.toLowerCase() === "true" || val.toLowerCase() === "on";
        }
        ;
        u.clearEmptyKeys = function(object) {
            for (var key in object) {
                if (object[key] === "" || object[key] === undefined) {
                    delete object[key];
                }
            }
            return object;
        }
        ;
        u.isEmptyObject = function(o, a) {
            for (a in o) {
                if (utag.ut.hasOwn(o, a))
                    return false;
            }
            return true;
        }
        ;
        u.hasgtagjs = function() {
            window.gtagRename = window.gtagRename || "" || "gtag";
            if (utag.ut.gtagScriptRequested) {
                return true;
            }
            var i, s = document.getElementsByTagName("script");
            for (i = 0; i < s.length; i++) {
                if (s[i].src && s[i].src.indexOf("gtag/js") >= 0 && (s[i].id && s[i].id.indexOf("utag") > -1)) {
                    return true;
                }
            }
            var data_layer_name = "" || "dataLayer";
            window[data_layer_name] = window[data_layer_name] || [];
            if (typeof window[window.gtagRename] !== "function") {
                window[window.gtagRename] = function() {
                    window[data_layer_name].push(arguments);
                }
                ;
                var cross_track_domains = "";
                if (cross_track_domains !== "") {
                    window[window.gtagRename]("set", "linker", {
                        domains: cross_track_domains.split(","),
                        accept_incoming: true
                    });
                }
                window[window.gtagRename]("js", new Date());
            }
            return false;
        }
        ;
        u.scriptrequested = u.hasgtagjs();
        u.o = window[window.gtagRename];
        u.map_func = function(arr, obj, item) {
            var i = arr.shift();
            obj[i] = obj[i] || {};
            if (arr.length > 0) {
                u.map_func(arr, obj[i], item);
            } else {
                obj[i] = item;
            }
        }
        ;
        u.sites = {
            "ecomm": {
                "required": ["prodid"],
                "params": ["prodid", "pagetype", "totalvalue", "category", "pvalue", "quantity"],
                "valuerules": ["product", "cart", "purchase"]
            },
            "hotel": {
                "required": ["hotelid"],
                "params": ["hotelid", "pagetype", "checkoutdate", "totalvalue"],
                "valuerules": ["cart", "purchase"]
            },
            "edu": {
                "required": ["pid"],
                "params": ["pid", "plocid", "pagetype"]
            },
            "flight": {
                "required": ["originid", "destid"],
                "params": ["originid", "destid", "pagetype", "totalvalue", "startdate", "enddate"],
                "valuerules": ["cart", "purchase"]
            },
            "hrental": {
                "required": ["id"],
                "params": ["id", "pagetype", "startdate", "enddate", "totalvalue"],
                "valuerules": ["conversionintent", "conversion"]
            },
            "job": {
                "required": ["id"],
                "params": ["id", "locid", "pagetype", "totalvalue"],
                "valuerules": ["conversionintent", "conversion"]
            },
            "local": {
                "required": ["id"],
                "params": ["id", "pagetype", "totalvalue"],
                "valuerules": ["conversionintent", "conversion"]
            },
            "listing": {
                "required": ["id"],
                "params": ["id", "pagetype", "totalvalue"],
                "valuerules": ["conversionintent", "conversion"]
            },
            "travel": {
                "required": ["destid"],
                "params": ["destid", "originid", "pagetype", "startdate", "enddate", "totalvalue"],
                "valuerules": ["conversionintent", "conversion"]
            },
            "dynx": {
                "required": ["itemid"],
                "params": ["itemid", "itemid2", "pagetype", "totalvalue"],
                "valuerules": ["conversionintent"]
            }
        };
        u.checkRequired = function(siteName, site) {
            var i, valid = false;
            if (!u.data[siteName]) {
                return valid;
            }
            for (i = 0; i < site.required.length; i++) {
                valid = u.data[siteName][site.required[i]] ? true : false;
            }
            return valid;
        }
        ;
        u.getValue = function(paramName, siteName, site) {
            var i;
            for (i = 0; i < site.valuerules.length; i++) {
                if (u.data.pagetype && u.data.pagetype === site.valuerules[i]) {
                    return u.data[siteName][paramName] || u.data.order_subtotal;
                }
            }
        }
        ;
        u.getParams = function() {
            var siteName, g = {}, i;
            for (siteName in u.sites) {
                var site = u.sites[siteName];
                if (!u.data[siteName]) {
                    continue;
                }
                if (u.checkRequired(siteName, site)) {
                    for (i = 0; i < site.params.length; i++) {
                        if (site.params[i] === "totalvalue") {
                            g[siteName + "_" + site.params[i]] = u.getValue(site.params[i], siteName, site);
                        } else if (site.params[i] === "pagetype") {
                            g[siteName + "_" + site.params[i]] = u.data.pagetype;
                        } else {
                            g[siteName + "_" + site.params[i]] = u.data[siteName][site.params[i]];
                        }
                    }
                }
            }
            return u.clearEmptyKeys(g);
        }
        ;
        u.getRemarketingItems = function() {
            var i, item = {}, items = [], rmkt = u.data.rmkt, len = 0, verticalName, vertical, paramName;
            if (u.data.product_id.length > 0 && !rmkt.retail) {
                rmkt.retail = {};
                rmkt.retail.id = u.data.product_id;
            }
            for (verticalName in rmkt) {
                if (!u.isEmptyObject(rmkt[verticalName])) {
                    vertical = rmkt[verticalName];
                    if (verticalName.match(/retail|education|hotel_rental|jobs|local|real_estate|custom/i) && vertical.id) {
                        len = vertical.id.length;
                    } else if (verticalName.match(/flights|travel/i) && vertical.destination) {
                        len = vertical.destination.length;
                    }
                    for (i = 0; i < len; i++) {
                        item = {};
                        for (paramName in vertical) {
                            if (vertical[paramName][i]) {
                                item[paramName] = vertical[paramName][i];
                            }
                        }
                        if (!u.isEmptyObject(item)) {
                            item.google_business_vertical = verticalName;
                            items.push(item);
                        }
                    }
                }
            }
            return items;
        }
        ;
        u.getItems = function(len) {
            var item = {}, i, j, items = [], nextLoop = false;
            items = u.getRemarketingItems();
            if (u.data.conversion_label) {
                len = len || u.data.product_id.length;
                for (i = 0; i < len; i++) {
                    item = {};
                    for (j = 0; j < items.length; j++) {
                        if (items[j].id === u.data.product_id[i]) {
                            items[j].price = (u.data.product_unit_price[i] ? u.data.product_unit_price[i] : "");
                            items[j].quantity = (u.data.product_quantity[i] ? u.data.product_quantity[i] : "");
                            nextLoop = true;
                            break;
                        }
                    }
                    if (nextLoop) {
                        nextLoop = false;
                        continue;
                    }
                    item.id = u.data.product_id[i];
                    item.price = (u.data.product_unit_price[i] ? u.data.product_unit_price[i] : "");
                    item.quantity = (u.data.product_quantity[i] ? u.data.product_quantity[i] : "");
                    items.push(item);
                }
            }
            return items;
        }
        ;
        u.map = {
            "aw_mcc_conversion_id": "conversion_id"
        };
        u.extend = [];
        u.send = function(a, b) {
            if (u.ev[a] || u.ev.all !== undefined) {
                utag.DB("send:164");
                utag.DB(b);
                var c, d, e, f, h, i, j;
                u.data = {
                    "base_url": "https://www.googletagmanager.com/gtag/js",
                    "conversion_id": "",
                    "conversion_label": "oQFKCJCy0dQBEN7Vj9EC",
                    "conversion_value": "1",
                    "pagetype": "conversion",
                    "remarketing": "false",
                    "data_layer_name": "",
                    "product_id": [],
                    "product_category": [],
                    "product_quantity": [],
                    "product_unit_price": [],
                    "product_discount": [],
                    "rmkt": {},
                    "config": {},
                    "event_data": {
                        "items": []
                    },
                    "event": [],
                    "custom": {}
                };
                utag.DB("send:164:EXTENSIONS");
                utag.DB(b);
                c = [];
                for (d in utag.loader.GV(u.map)) {
                    if (b[d] !== undefined && b[d] !== "") {
                        e = u.map[d].split(",");
                        for (f = 0; f < e.length; f++) {
                            u.map_func(e[f].split("."), u.data, b[d]);
                        }
                    } else {
                        h = d.split(":");
                        if (h.length === 2 && b[h[0]] === h[1]) {
                            if (u.map[d]) {
                                u.data.event = u.data.event.concat(u.map[d].split(","));
                            }
                        }
                    }
                }
                utag.DB("send:164:MAPPINGS");
                utag.DB(u.data);
                u.data.order_id = u.data.order_id || b._corder || "";
                u.data.order_subtotal = u.data.conversion_value || u.data.order_subtotal || b._csubtotal || "";
                u.data.order_currency = u.data.conversion_currency || u.data.order_currency || b._ccurrency || "";
                if (u.data.product_id.length === 0 && b._cprod !== undefined) {
                    u.data.product_id = b._cprod.slice(0);
                }
                if (u.data.product_category.length === 0 && b._ccat !== undefined) {
                    u.data.product_category = b._ccat.slice(0);
                }
                if (u.data.product_quantity.length === 0 && b._cquan !== undefined) {
                    u.data.product_quantity = b._cquan.slice(0);
                }
                if (u.data.product_unit_price.length === 0 && b._cprice !== undefined) {
                    u.data.product_unit_price = b._cprice.slice(0);
                }
                if (u.data.product_discount.length === 0 && b._cpdisc !== undefined) {
                    u.data.product_discount = b._cpdisc.slice(0);
                }
                if (u.data.event.length === 0 && b._cevent !== undefined) {
                    u.data.event = (u.typeOf(b._cevent) === "array") ? b._cevent.slice(0) : [b._cevent];
                }
                if (typeof (u.data.conversion_id) === "string" && u.data.conversion_id !== "") {
                    u.data.conversion_id = u.data.conversion_id.replace(/\s/g, "").split(",");
                }
                if (typeof (u.data.conversion_label) === "string" && u.data.conversion_label !== "") {
                    u.data.conversion_label = u.data.conversion_label.replace(/\s/g, "").split(",");
                }
                if (typeof (u.data.conversion_cookie_prefix) === "string" && u.data.conversion_cookie_prefix !== "") {
                    u.data.conversion_cookie_prefix = u.data.conversion_cookie_prefix.replace(/\s/g, "").split(",");
                }
                if (u.data.order_currency !== u.data.order_currency.toUpperCase()) {
                    u.data.order_currency = u.data.order_currency.toUpperCase();
                    utag.DB("Currency not supplied in uppercase - automatically converting");
                }
                if (!u.data.conversion_id) {
                    utag.DB(u.id + ": Tag not fired: Required attribute not populated");
                    return;
                }
                for (i = 0; i < u.data.conversion_id.length; i++) {
                    if (!/^[a-zA-Z]{2}-/.test(u.data.conversion_id[i])) {
                        u.data.conversion_id[i] = "AW-" + u.data.conversion_id[i];
                    }
                }
                u.data.base_url += "?id=" + u.data.conversion_id[0];
                if (u.data.data_layer_name) {
                    u.data.base_url = u.data.base_url + "&l=" + u.data.data_layer_name;
                }
                for (i = 0; i < u.data.conversion_id.length; i++) {
                    if (u.data.conversion_cookie_prefix && u.data.conversion_cookie_prefix[i]) {
                        u.data.config.conversion_cookie_prefix = u.data.conversion_cookie_prefix[i];
                    }
                    u.o("config", u.data.conversion_id[i], u.data.config);
                }
                u.data.event_data = u.getParams();
                u.data.event_data.items = u.getItems();
                utag.ut.merge(u.data.event_data, u.data.custom, 1);
                if (u.data.conversion_label) {
                    u.data.event_data.send_to = [];
                    for (i = 0; i < u.data.conversion_id.length; i++) {
                        u.data.event_data.send_to.push(u.data.conversion_id[i] + "/" + (u.data.conversion_label[i] || u.data.conversion_label[0]));
                    }
                    if (u.data.order_subtotal) {
                        u.data.event_data.value = u.data.order_subtotal;
                        u.data.event_data.currency = u.data.order_currency;
                        u.data.event_data.transaction_id = u.data.order_id;
                    }
                    u.data.event_data.aw_merchant_id = u.data.aw_merchant_id;
                    u.data.event_data.aw_feed_country = u.data.aw_feed_country;
                    u.data.event_data.aw_feed_language = u.data.aw_feed_language;
                    u.data.event_data.discount = 0;
                    for (j = 0; j < u.data.product_discount.length; j++) {
                        u.data.event_data.discount += isNaN(parseFloat(u.data.product_discount[j])) ? 0 : parseFloat(u.data.product_discount[j]);
                    }
                    var containsConversion = false;
                    for (i = 0; i < u.data.event.length; i++) {
                        if (u.data.event[i] === "conversion" || u.data.event[i] === "purchase") {
                            containsConversion = true;
                        }
                    }
                    if (!containsConversion && !u.data.event.length) {
                        u.data.event.push("conversion");
                    }
                }
                if (u.toBoolean(u.data.remarketing)) {
                    if (!u.data.event.length) {
                        u.data.event_data.send_to = u.data.conversion_id;
                        u.data.event.push("page_view");
                    }
                }
                for (i = 0; i < u.data.event.length; i++) {
                    u.o("event", u.data.event[i], u.clearEmptyKeys(u.data.event_data));
                }
                if (!u.hasgtagjs()) {
                    u.scriptrequested = true;
                    utag.ut.gtagScriptRequested = true;
                    u.loader({
                        "type": "script",
                        "src": u.data.base_url,
                        "cb": null,
                        "loc": "script",
                        "id": "utag_164",
                        "attrs": {}
                    });
                }
                utag.DB("send:164:COMPLETE");
            }
        }
        ;
        utag.o[loader].loader.LOAD(id);
    }("164", "woolworths.supermarkets"));
} catch (error) {
    utag.DB(error);
}
(function() {
        if (typeof utag != 'undefined' && !utag_condload) {
            utag.initcatch = true;
            for (var i in utag.loader.GV(utag.loader.cfg)) {
                var b = utag.loader.cfg[i];
                if (b.load != 4) {
                    utag.initcatch = false;
                    break
                }
                ;if (b.wait == 1) {
                    utag.initcatch = false;
                    break
                }
            }
            ;if (utag.initcatch)
                utag.handler.INIT();
        }
    }
)();
